/*! For license information please see 961.7e90d613.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_graphistry_client_api_react=self.webpackChunk_graphistry_client_api_react||[]).push([[961],{"../client-api/dist/index.full.esm.min.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Client:()=>Al,ClientPKey:()=>jl,Dataset:()=>FP,EdgeFile:()=>VP,File:()=>NP,GraphistryJS:()=>BP,NodeFile:()=>UP,Observable:()=>B,ReplaySubject:()=>Er,Subject:()=>ge,addExclusion:()=>Gi,addExclusions:()=>Ey,addFilter:()=>Li,addFilters:()=>Oy,ajax:()=>Ce,autocenter:()=>by,catchError:()=>Wn,concatMap:()=>Ii,delay:()=>lt,encodeAxis:()=>ry,encodeColor:()=>Qn,encodeDefaultColor:()=>Ji,encodeDefaultEdgeColor:()=>vy,encodeDefaultEdgeIcons:()=>ly,encodeDefaultEdgeSize:()=>dy,encodeDefaultIcons:()=>Wi,encodeDefaultPointColor:()=>hy,encodeDefaultPointIcons:()=>cy,encodeDefaultPointSize:()=>py,encodeDefaultSize:()=>Bi,encodeEdgeColor:()=>Dl,encodeEdgeIcons:()=>oy,encodeIcons:()=>kr,encodePointColor:()=>Rl,encodePointIcons:()=>ny,encodePointSize:()=>uy,encodeSize:()=>eo,filter:()=>xe,first:()=>Ci,forkJoin:()=>ft,fromEvent:()=>Ae,getCurrentWorkbook:()=>xy,graphistryJS:()=>Nl,isEmpty:()=>Ri,labelUpdates:()=>Fl,last:()=>Di,makeCaller:()=>mt,makeCallerJSON:()=>Cl,makeGetter:()=>z0,makeGetterJSON:()=>X0,makeSetter:()=>je,makeSetterWithModel:()=>yt,map:()=>K,mergeAll:()=>ut,mergeMap:()=>de,of:()=>Ke,pipe:()=>ji,resetColor:()=>Z0,resetEdgeColor:()=>ey,resetEdgeIcons:()=>iy,resetIcons:()=>ty,resetPointColor:()=>Q0,resetPointIcons:()=>GP,resetPointSize:()=>ay,resetSize:()=>sy,saveWorkbook:()=>wy,scan:()=>Kn,selectionUpdates:()=>$l,setHighlightExternal:()=>Ay,setSelectionExternal:()=>Py,share:()=>dt,shareReplay:()=>sr,startWith:()=>Yn,subscribeLabels:()=>ky,subscribeSelections:()=>WP,switchMap:()=>fe,take:()=>Ye,takeLast:()=>ir,tap:()=>X,tickClustering:()=>gy,timer:()=>ct,toggleClustering:()=>Ui,toggleHistograms:()=>_y,toggleInspector:()=>my,togglePanel:()=>fy,toggleTimebars:()=>yy,toggleToolbar:()=>Sy,updateSetting:()=>ro,updateZoom:()=>jy});var r,Be,Vl=Object.create,oo=Object.defineProperty,Ul=Object.defineProperties,Ll=Object.getOwnPropertyDescriptor,Gl=Object.getOwnPropertyDescriptors,Wl=Object.getOwnPropertyNames,gt=Object.getOwnPropertySymbols,Bl=Object.getPrototypeOf,io=Object.prototype.hasOwnProperty,Ki=Object.prototype.propertyIsEnumerable,Hi=(r,n,e)=>n in r?oo(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e,Tr=(r,n)=>{for(var e in n||(n={}))io.call(n,e)&&Hi(r,e,n[e]);if(gt)for(var e of gt(n))Ki.call(n,e)&&Hi(r,e,n[e]);return r},so=(r,n)=>Ul(r,Gl(n)),Yi=(r,n)=>{var e={};for(var t in r)io.call(r,t)&&n.indexOf(t)<0&&(e[t]=r[t]);if(null!=r&&gt)for(var t of gt(r))n.indexOf(t)<0&&Ki.call(r,t)&&(e[t]=r[t]);return e},P=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),Ir=(r,n,e)=>(e=null!=r?Vl(Bl(r)):{},((r,n,e,t)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let i of Wl(n))!io.call(r,i)&&i!==e&&oo(r,i,{get:()=>n[i],enumerable:!(t=Ll(n,i))||t.enumerable});return r})(!n&&r&&r.__esModule?e:oo(e,"default",{value:r,enumerable:!0}),r)),Xi=P(((Ty,zi)=>{zi.exports=function(n,e,t,i){var o=t?t.call(i,n,e):void 0;if(void 0!==o)return!!o;if(n===e)return!0;if("object"!=typeof n||!n||"object"!=typeof e||!e)return!1;var s=Object.keys(n),a=Object.keys(e);if(s.length!==a.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(e),u=0;u<s.length;u++){var c=s[u];if(!f(c))return!1;var v=n[c],y=e[c];if(!1===(o=t?t.call(i,v,y,c):void 0)||void 0===o&&v!==y)return!1}return!0}})),cr=P(((Iy,Zi)=>{var Hl=Zi.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=Hl)})),me=P(((My,Qi)=>{var Kl=Qi.exports={version:"2.6.12"};"number"==typeof __e&&(__e=Kl)})),rs=P(((Cy,es)=>{es.exports=function(r){if("function"!=typeof r)throw TypeError(r+" is not a function!");return r}})),bt=P(((Ry,ts)=>{var Yl=rs();ts.exports=function(r,n,e){if(Yl(r),void 0===n)return r;switch(e){case 1:return function(t){return r.call(n,t)};case 2:return function(t,i){return r.call(n,t,i)};case 3:return function(t,i,o){return r.call(n,t,i,o)}}return function(){return r.apply(n,arguments)}}})),Mr=P(((Dy,ns)=>{ns.exports=function(r){return"object"==typeof r?null!==r:"function"==typeof r}})),lr=P((($y,os)=>{var zl=Mr();os.exports=function(r){if(!zl(r))throw TypeError(r+" is not an object!");return r}})),Cr=P(((Fy,is)=>{is.exports=function(r){try{return!!r()}catch(n){return!0}}})),Ne=P(((Ny,ss)=>{ss.exports=!Cr()((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))})),ao=P(((Vy,as)=>{var us=Mr(),uo=cr().document,Xl=us(uo)&&us(uo.createElement);as.exports=function(r){return Xl?uo.createElement(r):{}}})),fo=P(((Uy,fs)=>{fs.exports=!Ne()&&!Cr()((function(){return 7!=Object.defineProperty(ao()("div"),"a",{get:function(){return 7}}).a}))})),co=P(((Ly,cs)=>{var xt=Mr();cs.exports=function(r,n){if(!xt(r))return r;var e,t;if(n&&"function"==typeof(e=r.toString)&&!xt(t=e.call(r))||"function"==typeof(e=r.valueOf)&&!xt(t=e.call(r))||!n&&"function"==typeof(e=r.toString)&&!xt(t=e.call(r)))return t;throw TypeError("Can't convert object to primitive value")}})),pr=P((ps=>{var ls=lr(),Zl=fo(),Ql=co(),ep=Object.defineProperty;ps.f=Ne()?Object.defineProperty:function(n,e,t){if(ls(n),e=Ql(e,!0),ls(t),Zl)try{return ep(n,e,t)}catch(i){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(n[e]=t.value),n}})),Rr=P(((Wy,ds)=>{ds.exports=function(r,n){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:n}}})),Dr=P(((By,hs)=>{var rp=pr(),tp=Rr();hs.exports=Ne()?function(r,n,e){return rp.f(r,n,tp(1,e))}:function(r,n,e){return r[n]=e,r}})),dr=P(((Jy,vs)=>{var np={}.hasOwnProperty;vs.exports=function(r,n){return np.call(r,n)}})),Ve=P(((Hy,ys)=>{var wt=cr(),lo=me(),ms=bt(),op=Dr(),ip=dr(),St="prototype",oe=function(r,n,e){var y,m,h,t=r&oe.F,i=r&oe.G,o=r&oe.S,s=r&oe.P,a=r&oe.B,f=r&oe.W,u=i?lo:lo[n]||(lo[n]={}),c=u[St],v=i?wt:o?wt[n]:(wt[n]||{})[St];for(y in i&&(e=n),e)(!(m=!t&&v&&void 0!==v[y])||!ip(u,y))&&(h=m?v[y]:e[y],u[y]=i&&"function"!=typeof v[y]?e[y]:a&&m?ms(h,wt):f&&v[y]==h?function(d){var l=function(p,g,x){if(this instanceof d){switch(arguments.length){case 0:return new d;case 1:return new d(p);case 2:return new d(p,g)}return new d(p,g,x)}return d.apply(this,arguments)};return l[St]=d[St],l}(h):s&&"function"==typeof h?ms(Function.call,h):h,s&&((u.virtual||(u.virtual={}))[y]=h,r&oe.R&&c&&!c[y]&&op(c,y,h)))};oe.F=1,oe.G=2,oe.S=4,oe.P=8,oe.B=16,oe.W=32,oe.U=64,oe.R=128,ys.exports=oe})),po=P((_s=>{_s.f={}.propertyIsEnumerable})),ho=P(((Yy,gs)=>{var sp={}.toString;gs.exports=function(r){return sp.call(r).slice(8,-1)}})),vo=P(((zy,bs)=>{var up=ho();bs.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return"String"==up(r)?r.split(""):Object(r)}})),Ot=P(((Xy,xs)=>{xs.exports=function(r){if(null==r)throw TypeError("Can't call method on  "+r);return r}})),$r=P(((Zy,ws)=>{var ap=vo(),fp=Ot();ws.exports=function(r){return ap(fp(r))}})),mo=P((Os=>{var cp=po(),lp=Rr(),pp=$r(),dp=co(),hp=dr(),vp=fo(),Ss=Object.getOwnPropertyDescriptor;Os.f=Ne()?Ss:function(n,e){if(n=pp(n),e=dp(e,!0),vp)try{return Ss(n,e)}catch(t){}if(hp(n,e))return lp(!cp.f.call(n,e),n[e])}})),As=P(((e_,Ps)=>{var mp=Mr(),yp=lr(),Es=function(r,n){if(yp(r),!mp(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};Ps.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(r,n,e){try{(e=bt()(Function.call,mo().f(Object.prototype,"__proto__").set,2))(r,[]),n=!(r instanceof Array)}catch(t){n=!0}return function(i,o){return Es(i,o),n?i.__proto__=o:e(i,o),i}}({},!1):void 0),check:Es}})),ks=P((()=>{var js=Ve();js(js.S,"Object",{setPrototypeOf:As().set})})),Ts=P(((n_,qs)=>{ks(),qs.exports=me().Object.setPrototypeOf})),Et=P(((o_,Is)=>{Is.exports={default:Ts(),__esModule:!0}})),Pt=P(((i_,Ms)=>{var _p=Math.ceil,gp=Math.floor;Ms.exports=function(r){return isNaN(r=+r)?0:(r>0?gp:_p)(r)}})),yo=P(((s_,Cs)=>{var bp=Pt(),xp=Math.min;Cs.exports=function(r){return r>0?xp(bp(r),9007199254740991):0}})),Ds=P(((u_,Rs)=>{var wp=Pt(),Sp=Math.max,Op=Math.min;Rs.exports=function(r,n){return(r=wp(r))<0?Sp(r+n,0):Op(r,n)}})),Fs=P(((a_,$s)=>{var Ep=$r(),Pp=yo(),Ap=Ds();$s.exports=function(r){return function(n,e,t){var a,i=Ep(n),o=Pp(i.length),s=Ap(t,o);if(r&&e!=e){for(;o>s;)if((a=i[s++])!=a)return!0}else for(;o>s;s++)if((r||s in i)&&i[s]===e)return r||s||0;return!r&&-1}}})),_o=P(((f_,Ns)=>{Ns.exports=!0})),go=P(((c_,Gs)=>{var jp=me(),Vs=cr(),Us="__core-js_shared__",Ls=Vs[Us]||(Vs[Us]={});(Gs.exports=function(r,n){return Ls[r]||(Ls[r]=void 0!==n?n:{})})("versions",[]).push({version:jp.version,mode:_o()?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),bo=P(((l_,Ws)=>{var kp=0,qp=Math.random();Ws.exports=function(r){return"Symbol(".concat(void 0===r?"":r,")_",(++kp+qp).toString(36))}})),At=P(((p_,Js)=>{var Bs=go()("keys"),Tp=bo();Js.exports=function(r){return Bs[r]||(Bs[r]=Tp(r))}})),Ys=P(((d_,Ks)=>{var Hs=dr(),Ip=$r(),Mp=Fs()(!1),Cp=At()("IE_PROTO");Ks.exports=function(r,n){var o,e=Ip(r),t=0,i=[];for(o in e)o!=Cp&&Hs(e,o)&&i.push(o);for(;n.length>t;)Hs(e,o=n[t++])&&(~Mp(i,o)||i.push(o));return i}})),xo=P(((h_,zs)=>{zs.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")})),wo=P(((v_,Xs)=>{var Rp=Ys(),Dp=xo();Xs.exports=Object.keys||function(n){return Rp(n,Dp)}})),Qs=P(((m_,Zs)=>{var $p=pr(),Fp=lr(),Np=wo();Zs.exports=Ne()?Object.defineProperties:function(n,e){Fp(n);for(var s,t=Np(e),i=t.length,o=0;i>o;)$p.f(n,s=t[o++],e[s]);return n}})),tu=P(((y_,ru)=>{var eu=cr().document;ru.exports=eu&&eu.documentElement})),Eo=P(((__,ou)=>{var Vp=lr(),Up=Qs(),nu=xo(),Lp=At()("IE_PROTO"),So=function(){},Oo="prototype",jt=function(){var i,r=ao()("iframe"),n=nu.length;for(r.style.display="none",tu().appendChild(r),r.src="javascript:",(i=r.contentWindow.document).open(),i.write("<script>document.F=Object<\/script>"),i.close(),jt=i.F;n--;)delete jt[Oo][nu[n]];return jt()};ou.exports=Object.create||function(n,e){var t;return null!==n?(So[Oo]=Vp(n),t=new So,So[Oo]=null,t[Lp]=n):t=jt(),void 0===e?t:Up(t,e)}})),su=P((()=>{var iu=Ve();iu(iu.S,"Object",{create:Eo()})})),au=P(((x_,uu)=>{su();var Gp=me().Object;uu.exports=function(n,e){return Gp.create(n,e)}})),kt=P(((w_,fu)=>{fu.exports={default:au(),__esModule:!0}})),lu=P(((S_,cu)=>{var Wp=Pt(),Bp=Ot();cu.exports=function(r){return function(n,e){var s,a,t=String(Bp(n)),i=Wp(e),o=t.length;return i<0||i>=o?r?"":void 0:(s=t.charCodeAt(i))<55296||s>56319||i+1===o||(a=t.charCodeAt(i+1))<56320||a>57343?r?t.charAt(i):s:r?t.slice(i,i+2):a-56320+(s-55296<<10)+65536}}})),du=P(((O_,pu)=>{pu.exports=Dr()})),qt=P(((E_,hu)=>{hu.exports={}})),Ue=P(((P_,mu)=>{var Po=go()("wks"),Jp=bo(),Ao=cr().Symbol,vu="function"==typeof Ao;(mu.exports=function(r){return Po[r]||(Po[r]=vu&&Ao[r]||(vu?Ao:Jp)("Symbol."+r))}).store=Po})),jo=P(((A_,_u)=>{var Kp=pr().f,Yp=dr(),yu=Ue()("toStringTag");_u.exports=function(r,n,e){r&&!Yp(r=e?r:r.prototype,yu)&&Kp(r,yu,{configurable:!0,value:n})}})),xu=P(((j_,bu)=>{var zp=Eo(),Xp=Rr(),Zp=jo(),gu={};Dr()(gu,Ue()("iterator"),(function(){return this})),bu.exports=function(r,n,e){r.prototype=zp(gu,{next:Xp(1,e)}),Zp(r,n+" Iterator")}})),Fr=P(((k_,wu)=>{var Qp=Ot();wu.exports=function(r){return Object(Qp(r))}})),ko=P(((q_,Ou)=>{var ed=dr(),rd=Fr(),Su=At()("IE_PROTO"),td=Object.prototype;Ou.exports=Object.getPrototypeOf||function(r){return r=rd(r),ed(r,Su)?r[Su]:"function"==typeof r.constructor&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?td:null}})),Tu=P(((T_,qu)=>{var Eu=_o(),qo=Ve(),nd=du(),Pu=Dr(),Au=qt(),od=xu(),id=jo(),sd=ko(),Nr=Ue()("iterator"),To=!([].keys&&"next"in[].keys()),Tt="values",ku=function(){return this};qu.exports=function(r,n,e,t,i,o,s){od(e,n,t);var l,p,g,a=function(x){if(!To&&x in v)return v[x];switch(x){case"keys":case Tt:return function(){return new e(this,x)}}return function(){return new e(this,x)}},f=n+" Iterator",u=i==Tt,c=!1,v=r.prototype,y=v[Nr]||v["@@iterator"]||i&&v[i],m=y||a(i),h=i?u?a("entries"):m:void 0,d="Array"==n&&v.entries||y;if(d&&((g=sd(d.call(new r)))!==Object.prototype&&g.next&&(id(g,f,!0),!Eu&&"function"!=typeof g[Nr]&&Pu(g,Nr,ku))),u&&y&&y.name!==Tt&&(c=!0,m=function(){return y.call(this)}),(!Eu||s)&&(To||c||!v[Nr])&&Pu(v,Nr,m),Au[n]=m,Au[f]=ku,i)if(l={values:u?m:a(Tt),keys:o?m:a("keys"),entries:h},s)for(p in l)p in v||nd(v,p,l[p]);else qo(qo.P+qo.F*(To||c),n,l);return l}})),Iu=P((()=>{var ad=lu()(!0);Tu()(String,"String",(function(r){this._t=String(r),this._i=0}),(function(){var e,r=this._t,n=this._i;return n>=r.length?{value:void 0,done:!0}:(e=ad(r,n),this._i+=e.length,{value:e,done:!1})}))})),Ru=P(((C_,Cu)=>{var Mu=lr();Cu.exports=function(r,n,e,t){try{return t?n(Mu(e)[0],e[1]):n(e)}catch(o){var i=r.return;throw void 0!==i&&Mu(i.call(r)),o}}})),$u=P(((R_,Du)=>{var fd=qt(),cd=Ue()("iterator"),ld=Array.prototype;Du.exports=function(r){return void 0!==r&&(fd.Array===r||ld[cd]===r)}})),Nu=P(((D_,Fu)=>{var pd=pr(),dd=Rr();Fu.exports=function(r,n,e){n in r?pd.f(r,n,dd(0,e)):r[n]=e}})),Uu=P((($_,Vu)=>{var Io=ho(),hd=Ue()("toStringTag"),vd="Arguments"==Io(function(){return arguments}());Vu.exports=function(r){var n,e,t;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(e=function(r,n){try{return r[n]}catch(e){}}(n=Object(r),hd))?e:vd?Io(n):"Object"==(t=Io(n))&&"function"==typeof n.callee?"Arguments":t}})),Gu=P(((F_,Lu)=>{var yd=Uu(),_d=Ue()("iterator"),gd=qt();Lu.exports=me().getIteratorMethod=function(r){if(null!=r)return r[_d]||r["@@iterator"]||gd[yd(r)]}})),Ju=P(((N_,Bu)=>{var Mo,Co=Ue()("iterator"),Wu=!1;try{(Mo=[7][Co]()).return=function(){Wu=!0},Array.from(Mo,(function(){throw 2}))}catch(r){}Bu.exports=function(r,n){if(!n&&!Wu)return!1;var e=!1;try{var t=[7],i=t[Co]();i.next=function(){return{done:e=!0}},t[Co]=function(){return i},r(t)}catch(o){}return e}})),Ku=P((()=>{var bd=bt(),Ro=Ve(),xd=Fr(),wd=Ru(),Sd=$u(),Od=yo(),Hu=Nu(),Ed=Gu();Ro(Ro.S+Ro.F*!Ju()((function(r){Array.from(r)})),"Array",{from:function(n){var u,c,v,y,e=xd(n),t="function"==typeof this?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,s=void 0!==o,a=0,f=Ed(e);if(s&&(o=bd(o,i>2?arguments[2]:void 0,2)),null==f||t==Array&&Sd(f))for(c=new t(u=Od(e.length));u>a;a++)Hu(c,a,s?o(e[a],a):e[a]);else for(y=f.call(e),c=new t;!(v=y.next()).done;a++)Hu(c,a,s?wd(y,o,[v.value,a],!0):v.value);return c.length=a,c}})})),zu=P(((L_,Yu)=>{Iu(),Ku(),Yu.exports=me().Array.from})),Do=P(((G_,Xu)=>{Xu.exports={default:zu(),__esModule:!0}})),Fo=P(((W_,Zu)=>{var $o=Ve(),Pd=me(),Ad=Cr();Zu.exports=function(r,n){var e=(Pd.Object||{})[r]||Object[r],t={};t[r]=n(e),$o($o.S+$o.F*Ad((function(){e(1)})),"Object",t)}})),Qu=P((()=>{var jd=Fr(),kd=ko();Fo()("getPrototypeOf",(function(){return function(n){return kd(jd(n))}}))})),ra=P(((H_,ea)=>{Qu(),ea.exports=me().Object.getPrototypeOf})),It=P(((K_,ta)=>{ta.exports={default:ra(),__esModule:!0}})),na=P((()=>{var qd=$r(),Td=mo().f;Fo()("getOwnPropertyDescriptor",(function(){return function(n,e){return Td(qd(n),e)}}))})),ia=P(((X_,oa)=>{na();var Id=me().Object;oa.exports=function(n,e){return Id.getOwnPropertyDescriptor(n,e)}})),No=P(((Z_,sa)=>{sa.exports={default:ia(),__esModule:!0}})),ua=P((()=>{var Vo=Ve();Vo(Vo.S+Vo.F*!Ne(),"Object",{defineProperty:pr().f})})),fa=P(((rg,aa)=>{ua();var Md=me().Object;aa.exports=function(n,e,t){return Md.defineProperty(n,e,t)}})),Vr=P(((tg,ca)=>{ca.exports={default:fa(),__esModule:!0}})),Ur=P((pa=>{var Cd="undefined"!=typeof window&&window,Rd="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dd=void 0!==__webpack_require__.g&&__webpack_require__.g,la=Cd||Dd||Rd;pa.root=la,function(){if(!la)throw new Error("RxJS could not find any global context (window, self, global)")}()})),Uo=P((da=>{da.isFunction=function $d(r){return"function"==typeof r}})),va=P((ha=>{ha.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length}})),ya=P((ma=>{ma.isObject=function Fd(r){return null!=r&&"object"==typeof r}})),Lo=P((_a=>{_a.errorObject={e:{}}})),wa=P((xa=>{var ba,ga=Lo();function Nd(){try{return ba.apply(this,arguments)}catch(r){return ga.errorObject.e=r,ga.errorObject}}xa.tryCatch=function Vd(r){return ba=r,Nd}})),Sa=P((Mt=>{var Ud=Mt&&Mt.__extends||function(r,n){for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);function t(){this.constructor=r}r.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},Ld=function(r){function n(e){r.call(this),this.errors=e;var t=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map((function(i,o){return o+1+") "+i.toString()})).join("\n  "):"");this.name=t.name="UnsubscriptionError",this.stack=t.stack,this.message=t.message}return Ud(n,r),n}(Error);Mt.UnsubscriptionError=Ld})),Aa=P((Pa=>{var Gd=va(),Wd=ya(),Bd=Uo(),Oa=wa(),hr=Lo(),Ct=Sa(),Jd=function(){function r(n){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}return r.prototype.unsubscribe=function(){var e,n=!1;if(!this.closed){var t=this,i=t._parent,o=t._parents,s=t._unsubscribe,a=t._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,u=o?o.length:0;i;)i.remove(this),i=++f<u&&o[f]||null;if(Bd.isFunction(s))Oa.tryCatch(s).call(this)===hr.errorObject&&(n=!0,e=e||(hr.errorObject.e instanceof Ct.UnsubscriptionError?Ea(hr.errorObject.e.errors):[hr.errorObject.e]));if(Gd.isArray(a))for(f=-1,u=a.length;++f<u;){var v=a[f];if(Wd.isObject(v))if(Oa.tryCatch(v.unsubscribe).call(v)===hr.errorObject){n=!0,e=e||[];var y=hr.errorObject.e;y instanceof Ct.UnsubscriptionError?e=e.concat(Ea(y.errors)):e.push(y)}}if(n)throw new Ct.UnsubscriptionError(e)}},r.prototype.add=function(n){if(!n||n===r.EMPTY)return r.EMPTY;if(n===this)return this;var e=n;switch(typeof n){case"function":e=new r(n);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){var t=e;(e=new r)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e},r.prototype.remove=function(n){var e=this._subscriptions;if(e){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},r.prototype._addParent=function(n){var t=this._parent,i=this._parents;t&&t!==n?i?-1===i.indexOf(n)&&i.push(n):this._parents=[n]:this._parent=n},r.EMPTY=((n=new r).closed=!0,n),r;var n}();function Ea(r){return r.reduce((function(n,e){return n.concat(e instanceof Ct.UnsubscriptionError?e.errors:e)}),[])}Pa.Subscription=Jd})),Go=P((ja=>{ja.empty={closed:!0,next:function(r){},error:function(r){throw r},complete:function(){}}})),Bo=P((Rt=>{var Wo=Ur().root.Symbol;Rt.rxSubscriber="function"==typeof Wo&&"function"==typeof Wo.for?Wo.for("rxSubscriber"):"@@rxSubscriber",Rt.$$rxSubscriber=Rt.rxSubscriber})),Ma=P((Dt=>{var Ta=Dt&&Dt.__extends||function(r,n){for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);function t(){this.constructor=r}r.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},ka=Uo(),Kd=Aa(),Jo=Go(),Yd=Bo(),Ia=function(r){function n(e,t,i){switch(r.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Jo.empty;break;case 1:if(!e){this.destination=Jo.empty;break}if("object"==typeof e){e instanceof n?(this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new qa(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new qa(this,e,t,i)}}return Ta(n,r),n.prototype[Yd.rxSubscriber]=function(){return this},n.create=function(e,t,i){var o=new n(e,t,i);return o.syncErrorThrowable=!1,o},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parent,i=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=i,this},n}(Kd.Subscription);Dt.Subscriber=Ia;var qa=function(r){function n(e,t,i,o){r.call(this),this._parentSubscriber=e;var s,a=this;ka.isFunction(t)?s=t:t&&(s=t.next,i=t.error,o=t.complete,t!==Jo.empty&&(a=Object.create(t),ka.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=i,this._complete=o}return Ta(n,r),n.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},n.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},n.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var i=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(i){throw this.unsubscribe(),i}},n.prototype.__tryOrSetError=function(e,t,i){try{t.call(this._context,i)}catch(o){return e.syncErrorValue=o,e.syncErrorThrown=!0,!0}return!1},n.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},n}(Ia)})),Da=P((Ra=>{var Ho=Ma(),Ca=Bo(),zd=Go();Ra.toSubscriber=function Xd(r,n,e){if(r){if(r instanceof Ho.Subscriber)return r;if(r[Ca.rxSubscriber])return r[Ca.rxSubscriber]()}return r||n||e?new Ho.Subscriber(r,n,e):new Ho.Subscriber(zd.empty)}})),Fa=P((Lr=>{var Zd=Ur();function $a(r){var n,e=r.Symbol;return"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable",n}Lr.getSymbolObservable=$a,Lr.observable=$a(Zd.root),Lr.$$observable=Lr.observable})),$t=P((Na=>{var vr=Ur(),Qd=Da(),eh=Fa(),rh=function(){function r(n){this._isScalar=!1,n&&(this._subscribe=n)}return r.prototype.lift=function(n){var e=new r;return e.source=this,e.operator=n,e},r.prototype.subscribe=function(n,e,t){var i=this.operator,o=Qd.toSubscriber(n,e,t);if(i?i.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){n.syncErrorThrown=!0,n.syncErrorValue=e,n.error(e)}},r.prototype.forEach=function(n,e){var t=this;if(e||(vr.root.Rx&&vr.root.Rx.config&&vr.root.Rx.config.Promise?e=vr.root.Rx.config.Promise:vr.root.Promise&&(e=vr.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(i,o){var s;s=t.subscribe((function(a){if(s)try{n(a)}catch(f){o(f),s.unsubscribe()}else n(a)}),o,i)}))},r.prototype._subscribe=function(n){return this.source.subscribe(n)},r.prototype[eh.observable]=function(){return this},r.create=function(n){return new r(n)},r}();Na.Observable=rh})),La=P((Ft=>{var th=Ft&&Ft.__extends||function(r,n){for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);function t(){this.constructor=r}r.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},Va=Ur(),oh=function(r){function n(e,t){r.call(this),this.promise=e,this.scheduler=t}return th(n,r),n.create=function(e,t){return new n(e,t)},n.prototype._subscribe=function(e){var t=this,i=this.promise,o=this.scheduler;if(null==o)this._isScalar?e.closed||(e.next(this.value),e.complete()):i.then((function(s){t.value=s,t._isScalar=!0,e.closed||(e.next(s),e.complete())}),(function(s){e.closed||e.error(s)})).then(null,(function(s){Va.root.setTimeout((function(){throw s}))}));else if(this._isScalar){if(!e.closed)return o.schedule(Ua,0,{value:this.value,subscriber:e})}else i.then((function(s){t.value=s,t._isScalar=!0,e.closed||e.add(o.schedule(Ua,0,{value:s,subscriber:e}))}),(function(s){e.closed||e.add(o.schedule(ih,0,{err:s,subscriber:e}))})).then(null,(function(s){Va.root.setTimeout((function(){throw s}))}))},n}($t().Observable);function Ua(r){var n=r.value,e=r.subscriber;e.closed||(e.next(n),e.complete())}function ih(r){var n=r.err,e=r.subscriber;e.closed||e.error(n)}Ft.PromiseObservable=oh})),Wa=P((Ga=>{var sh=La();Ga.fromPromise=sh.PromiseObservable.create})),Ba=P((()=>{var uh=$t(),ah=Wa();uh.Observable.fromPromise=ah.fromPromise})),Ja=P(((Gr,Ko)=>{var r,n;r=Gr,n=function(){return function(r){function n(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return r[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=r,n.c=e,n.i=function(t){return t},n.d=function(t,i,o){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=107)}([function(r,n,e){var t=e(59),i=e(34),o=e(60);r.exports=function(s,a){return null!=(s=s.$expires)&&s!==o&&(s===i?a:s<t())}},function(r,n,e){var t=e(20);r.exports=function(i){for(var o,s=Object.keys(i),a={},f=-1,u=s.length;++f<u;)"$size"===(o=s[f])||t(o)||(a[o]=i[o]);return a}},function(r,n,e){var t=e(54);r.exports=function(i,o,s){return i["f_invalidated"]||(i["f_invalidated"]=!0,o.push(i),t(s,i)),i}},function(r,n,e){(function(t){function i(h){h?(this["f_meta"]=h["f_meta"])||(this["f_meta"]=h):this["f_meta"]={}}function o(h){return function(){var p,d=this.length,l=d;if("number"!=(p=typeof d)&&(!d||"object"!==p||"atom"!==d.$type||"number"!=typeof(l=d.value))||0>l||l!==(0|l)){if("resolved"===this.$__status)throw new RangeError("Invalid FalcorJSON length");return[]}return this.length=l,l=h.apply(this,arguments),this.length=d,l}}function s(h){var d=h,l=typeof d,p=arguments.length;if(0===p)d=this;else if("string"!==l){if(!d||"object"!==l)return d}else{if(1!==p)return d;d=this}return d===t?void 0:d}function f(h,d){return JSON.stringify(c(s.call(this,this),c,!0===h,!1,!0===d))}function c(h,d,l,p,g){if(!h||"object"!=typeof h)return h;var x,_;if(m(h))var b=h;else{var w=-1,S=Object.keys(h),O=S.length;if(b={},p&&(b.__proto__=i.prototype),l&&(x=h["f_meta"])){var j=x.$code,E=x.status,A=x.abs_path,q=x.deref_to,k=x.deref_from;x={},j&&(x.$code=j),A&&(x.abs_path=A),q&&(x.deref_to=q),k&&(x.deref_from=k),g&&E&&(x.status=E),b["f_meta"]=x,p&&((x={}).__proto__=b,b=x)}for(;++w<O;)"f_meta"!==(_=S[w])&&(b[_]=d(h[_],d,l,p,g))}return b}var v={length:!0,toString:!0,constructor:!0,toLocaleString:!0},y={toJSON:{enumerable:!1,value:function a(){return c(s.apply(this,arguments),a)}},toProps:{enumerable:!1,value:function u(h){var l,p,d=s.apply(this,arguments),g=0,x=c(d,u,!0,!0);return d&&(l=d["f_meta"])&&(g=l.version),x&&"object"==typeof x&&(p=x["f_meta"])&&(p.version=g),x}},toString:{enumerable:!1,value:f},toLocaleString:{enumerable:!1,value:f},$__hash:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.$code||""}},$__path:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.abs_path||[]}},$__status:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.status||"resolved"}},$__version:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.version||0}}};Object.defineProperties(i.prototype,Object.getOwnPropertyNames(Array.prototype).reduce((function(h,d){if(!v.hasOwnProperty(d)){var l=Array.prototype[d];"function"==typeof l&&(h[d]={value:o(l),writable:!0,enumerable:!1})}return h}),y));var m=Array.isArray;r.exports=i}).call(n,e(35))},function(r,n,e){n=e(5),r.exports=n("NullInPathError",(function(){this.message="`null` is not allowed in branch key positions."}))},function(r,n){r.exports=function(e,t){function i(o){this.message=o,t&&t.apply(this,arguments),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}return i.prototype=Object.create(Error.prototype),i.prototype.name=e,i.prototype.constructor=i,i.is=function(o){return o.name===e},i}},function(r,n){r.exports=function(e){return null!==e&&"object"==typeof e}},function(r,n,e){r.exports=function(t,i){var o=i["f_refs_length"]||0;i["f_ref"+o]=t,i["f_refs_length"]=o+1,t["f_ref_index"]=o,t["f_context"]=i}},function(r,n){r.exports={$type:"atom"}},function(r,n,e){var t=e(6);r.exports=function(i){return t(i)&&i.$size||0}},function(r,n,e){r.exports=function t(i,o){var a,s=i,f=0,u=o.length;if(0<u)do{for(s=s[o[f]];s&&"ref"===(a=s.$type);)s=t(i,s.value)}while(++f<u&&s&&!a);return s}},function(r,n,e){var t=e(29),i=e(31);r.exports=function(o,s,a,f){var c,u=o;do{0<(u.$size=(u.$size||0)-s)?(c=u["f_parent"])?u["f_version"]!==f&&i(u,f):u["f_version"]=f:(c=u["f_parent"])&&t(u,c,u["f_key"],a,f)}while(u=c);return o}},function(r,n,e){n=e(5),r.exports=n("InvalidKeySetError",(function(t,i){this.mesage="The KeySet "+JSON.stringify(i)+" in path "+JSON.stringify(t)+" contains a KeySet. Keysets can only contain Keys or Ranges"}))},function(r,n,e){var t=e(60);r.exports=function(i,o){if(o.$expires!==t){var s=i["f_head"];if(s){if(s!==o){var a=o["f_prev"],f=o["f_next"];f&&(f["f_prev"]=a),a&&(a["f_next"]=f),o["f_prev"]=void 0,i["f_head"]=o,o["f_next"]=s,s["f_prev"]=o,o===i["f_tail"]&&(i["f_tail"]=a)}}else i["f_head"]=i["f_tail"]=o}}},function(r,n,e){function t(o,s,a){"function"==typeof o||"function"==typeof s||"function"==typeof a?(i.call(this,[]),this.destination={error:s,onError:s,next:o,onNext:o,complete:a,onCompleted:a}):(i.call(this,[],s),this.parent=s,this.destination=o)}var i=e(15);r.exports=t,t.prototype=Object.create(i.prototype),t.prototype.next=t.prototype.onNext=function(o){var s=this.destination;s&&(s.onNext?s.onNext(o):s.next&&s.next(o))},t.prototype.error=t.prototype.onError=function(o){var s=!1,a=this.destination;if(a&&(a.onError?(s=!0,a.onError(o)):a.error&&(s=!0,a.error(o)),this.dispose()),!s)throw o},t.prototype.complete=t.prototype.onCompleted=function(){var o=this.destination;o&&(o.onCompleted?o.onCompleted():o.complete&&o.complete(),this.dispose())},t.prototype.dispose=t.prototype.unsubscribe=function(){this.destination=null,i.prototype.dispose.call(this)}},function(r,n){function e(t,i){this.parent=i,this.subscriptions=t||[]}r.exports=e,e.prototype.add=function(t){return this.subscriptions.push(t)&&this||this},e.prototype.remove=function(t){return~(t=this.subscriptions.indexOf(t))&&this.subscriptions.splice(t,1),this},e.prototype.dispose=e.prototype.unsubscribe=function(){for(var t,i=this.subscriptions;i.length;)(t=i.pop())&&t.dispose&&t.dispose();(t=this.parent)&&(this.parent=null,t.remove&&t.remove(this))}},function(r,n,e){var t=e(0),i=e(2),o=e(13);r.exports=function(s,a,f,u,c,v,y,m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){var k=O;if(a)if(t(s,_))s["f_invalidated"]||i(s,x,g);else{if(o(g,s),void 0!==s.value)return v?(p&&(m[c]=null),E(s,a,c,v,y,m,d,l,p,w,S,j)):void 0;k=!1,O=S}if(S)v&&(y.hasValue=!0);else if(!O)return;return A(u,c,y,m,h,p,d,l,k,S,f,b,w,q,g)}},function(r,n,e){var t=e(10);r.exports=function(i,o){o=o||i._path;var s=i._node;return(!s||void 0===s["f_parent"]||s["f_invalidated"])&&(i._node=null,0===o.length?s=i._root.cache:(s=t(i._root.cache,o),o===i._path&&(i._node=s))),s}},function(r,n,e){function t(y,m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q,k){for(var T={},$=m<y.length-1,C=y[m],I=v(C,T),M=S.index;;){w.depth=m,i(h,d,l,p,g,x,I,$,!1,w,S,O,j,E,A,q,k),w[m]=I,w.index=m;var R=o[0],D=o[1],V=o[4];if(V[V.index++]=I,R&&($?t(y,m+1,h,D,R,p,o[3],o[2],_,b,w,V,O,j,E,A,q,k):(_.push(w.slice(0,w.index+1)),b.push(V.slice(0,V.index)))),I=v(C,T),T.done)break;S.index=M}}function i(y,m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){var k=h;for(h=k.$type;"ref"===h;){e:{l=y,w=d,h=p,p=b,m=S,_=O;var T=j,$=E,C=A,I=q,M=k,R=M.value,D=R.slice(0);if(s(M,I)){a(M,_,T),M=void 0;var V=l;k=w,D.index=R.length}else{var F=0,H=M,N=R.length-1;V=M=l,k=h=w;do{var ne=R[F],ve=F<N;if(D.index=F,i(l,V,M,w,k,h,ne,ve,!0,p,D,m,_,T,$,C,I),M=o[0],D=o[4],!M||"object"!=typeof M){D.index=F;break e}V=o[1],h=o[2],k=o[3]}while(F++<N);D.index=F,H["f_context"]!==M&&f(H,M)}o[0]=M,o[1]=V,o[2]=h,o[3]=k,o[4]=D}if(!(k=o[0])||"object"!=typeof k)return;m=o[1],p=o[2],l=o[3],w=o[4],h=k.$type}if(void 0===h){if(null==g){if(x)throw new c;k&&(g=k["f_key"])}else l=p,k=(m=k)[g],p=l&&l[g];k=u(m,k,p,g,b,w,S,O,j,E,A,q)}o[0]=k,o[1]=m,o[2]=p,o[3]=l,o[4]=w}var o=Array(5),s=e(0),a=e(2),f=e(7),u=e(81),c=e(4),v=e(23);r.exports=function(y,m,h,d,l){for(var p=(y=y._root).expired,g=y.version+1,x=y.cache,_=[],b=[],w=[],S=[],O=-1,j=m.length;++O<j;){var E=m[O],A=E.paths;E=E.jsonGraph;for(var q=-1,k=A.length;++q<k;){var T=A[q];b.index=0,t(T,0,x,x,x,E,E,E,w,S,_,b,g,p,y,d,h,l)}}return o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=void 0,x["f_version"]===g?(y.version=g,[w,S,!0]):[w,S,!1]}},function(r,n,e){function t(h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){if(h&&"object"==typeof h&&!h.$type){var k=[],T=0;for(var $ in s(h)&&(k[T++]="length"),h)v($)||(k[T++]=$)}else k=void 0;if(k&&k.length){T=0,$=k.length;for(var C=w.index;;){var I=k[T],M=h[I],R=!(!M||"object"!=typeof M||M.$type);b.depth=d,i(l,p,g,I,M,R,!1,b,w,S,O,j,E,A,q),b[d]=I,b.index=d;var D=o[0],V=o[1],F=o[2];if(F[F.index++]=I,D&&(R?t(M,d+1,l,V,D,x,_,b,F,S,O,j,E,A,q):(x.push(b.slice(0,b.index+1)),_.push(F.slice(0,F.index)))),++T>=$)break;w.index=C}}}function i(h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){var k=l;for(l=k.$type;"ref"===l;){e:{w=g,l=h,d=b;var T=S,$=O,C=j,I=E,M=A,R=q,D=k,V=D.value,F=V.slice(0);if(a(D,R))f(D,$,C),D=void 0,k=l,F.index=V.length;else{var H=D;if(null!=(D=D["f_context"]))k=D["f_parent"]||l,F.index=V.length;else{var N=0,ne=V.length-1;F.index=N,k=D=l;do{if(i(l,k,D,V[N],w,N<ne,!0,d,F,T,$,C,I,M,R),D=o[0],F=o[2],!D||"object"!=typeof D){F.index=N;break e}k=o[1]}while(N++<ne);F.index=N,H["f_context"]!==D&&u(H,D)}}o[0]=D,o[1]=k,o[2]=F}if(!(k=o[0])||"object"!=typeof k)return;d=o[1],w=o[2],l=k&&k.$type}if(!x||void 0===l){if(null==p){if(x)throw new y;k&&(p=k["f_key"])}else k=(d=k)[p];k=m(d,k,p,g,x,_,b,w,S,O,j,E,A,q)}o[0]=k,o[1]=d,o[2]=w}var o=Array(3),s=Array.isArray,a=e(0),f=e(2),u=e(7),c=e(10),v=e(33),y=e(4),m=e(48);r.exports=function(h,d,l,p,g){var x=h._root,_=x.expired,b=x.version+1;h=h._path;var w=x.cache,S=c(w,h);if(!S)return[[],[],!1];for(var O=S["f_parent"]||w,j=[],E=[],A=[],q=h.length,k=-1,T=d.length;++k<T;){var $=d[k],C=h.slice(0);C.index=q,t($.json,0,w,O,S,E,A,j,C,b,_,x,p,l,g)}return o[0]=void 0,o[1]=void 0,o[2]=void 0,w["f_version"]===b?(x.version=b,[E,A,!0]):[E,A,!1]}},function(r,n,e){n=e(92),n=new RegExp("^"+n,"i","g"),r.exports=n.test.bind(n)},function(r,n){r.exports=function e(t,i,o){if(o=o||[],i=i||[],!t)return i;for(var s=[],a=t.$keys,f=a.length,u=-1;++u<f;){var c=t[u],v=a[u];c&&"object"==typeof c?e(c,i,o.concat([v])):s.push(v)}return 1===s.length?i.push(o.concat(s)):1<s.length&&i.push(o.concat([s])),i}},function(r,n){r.exports=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0}},function(r,n){function e(i,o){var s=o.from=i.from||0;i=o.to=i.to||"number"==typeof i.length&&o.from+i.length-1||0,o.rangeOffset=o.from,o.loaded=!0,s>i&&(o.empty=!0)}var t=Array.isArray;r.exports=function(i,o){if(void 0===o.isArray){o.done=!1;var s=o.isObject=!(!i||"object"!=typeof i);o.isArray=s&&t(i),o.arrayOffset=0}if(o.isArray){var a;do{if(o.loaded&&o.rangeOffset>o.to&&(++o.arrayOffset,o.loaded=!1),o.arrayOffset>=i.length){o.done=!0;break}"object"==typeof(s=i[o.arrayOffset])?(o.loaded||e(s,o),o.empty||(a=o.rangeOffset++)):(++o.arrayOffset,a=s)}while(void 0===a);return a}return o.isObject?(o.loaded||e(i,o),o.rangeOffset>o.to?void(o.done=!0):o.rangeOffset++):(o.done=!0,i)}},function(r,n,e){r.exports=e(40)},function(r,n,e){r.exports=e(43)},function(r,n){r.exports=function(e,t,i,o,s){var a=0,f=o.jsonGraph;for(f||(o.jsonGraph=f={});;){if(o=t[a++],a>=i){f=f[o]=!0!==s?e:f[o]||{};break}f=f[o]||(f[o]={})}return f}},function(r,n){var e=Array.isArray;r.exports=function(t,i,o,s,a,f,u,c,v,y,m,h,d,l,p){if(v||y){for(var g,x=-1,_=(f=a-i)&&Array(f)||void 0;++x<f;){var b=g=t[x+i];if("object"!=typeof b||null===b)b=!1;else if(e(b))b=0===b.length;else{var w=b.to,S=b.from||0;"number"!=typeof w&&(w=S+(b.length||0)),b=S>=w}if(b)return;_[x]=g}var O;if(t=null===g,g=v,v){b=a,w=s;var j=o.requested||(o.requested=[])}else i=c,w=u,b=c+f-Number(t);for(;;){if(f<a||!g){for(s=-1,x=i,O=Array(b);++s<x;)O[s]=w[s];for(x=-1;s<b;)O[s++]=_[++x]}if(g=!g){v&&(j[j.length]=O);break}j[j.length]=O||_,i=c,w=u,j=o.missing||(o.missing=[]),b=c+f-Number(t)}if(y)return l(m,O,i,b,h,d,p,v)}}},function(r,n,e){function t(h,d,l,p,g,x,_,b,w){var S={},O=d<h.length-1,j=h[d],E=m(j,S);do{i(l,p,g,E,O,!1,x,_,b,w),E=o[0];var A=o[1];E&&(O?t(h,d+1,l,A,E,x,_,b,w):y(E,u(E),b,x)),E=m(j,S)}while(!S.done)}function i(h,d,l,p,g,x,_,b,w,S){var O=l;for(l=O.$type;"ref"===l;){e:{d=h,l=_,x=b;var j=w,E=S;if(s(O,E))a(O,x,j),o[0]=void 0,o[1]=d;else{f(j,O);var A=O,q=O.value;if(null!=(O=O["f_context"]))var k=O["f_parent"]||d;else{var T=0,$=q.length-1;k=O=d;do{if(i(d,k,O,q[T],T<$,!0,l,x,j,E),!(O=o[0])&&"object"!=typeof O)break e;k=o[1]}while(T++<$);A["f_context"]!==O&&c(A,O)}o[0]=O,o[1]=k}}if(!(O=o[0])&&"object"!=typeof O)return;d=o[1],l=O.$type}if(void 0===l)if(null==p){if(g)throw Error("`null` is not allowed in branch key positions.")}else O=(d=O)[p];o[0]=O,o[1]=d}var o=Array(2),s=e(0),a=e(2),f=e(13),u=e(9),c=e(7),v=e(17),y=e(11),m=e(23);r.exports=function(h,d,l){var p=h._root,g=p.expired,x=p.version+1,_=p.cache;if(!(h=v(h)))return!1;for(var b=-1,w=d.length,S=h["f_parent"]||_;++b<w;)t(d[b],0,_,S,h,x,g,p,l);return o[0]=void 0,o[1]=void 0,_["f_version"]===x&&(p.version=x,!0)}},function(r,n,e){var i=e(54),o=e(33),s=e(84),a=e(85),f=e(31);r.exports=function t(u,c,v,y,m){if(u&&"object"==typeof u){var h=u.$type;if(void 0===h)for(var d in u)o(d)||t(u[d],u,d,y,m);else"ref"===h&&a(u),i(y,u);return s(f(u,m)),c[v]=u["f_parent"]=void 0,!0}return!1}},function(r,n,e){function t(m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){for(var k={},T=d<h.length-1,$=h[d],C=v($,k),I=w.index;;){b.depth=d,b[d]=C,b.index=d,i(l,p,g,C,m,T,!1,b,w,S,O,j,E,A,q),b[d]=C,b.index=d;var M=o[0],R=o[1],D=o[2];if(D[D.index++]=C,M&&(T?t(m,h,d+1,l,R,M,x,_,b,D,S,O,j,E,A,q):(x.push(b.slice(0,b.index+1)),_.push(D.slice(0,D.index)))),C=v($,k),k.done)break;w.index=I}}function i(m,h,d,l,p,g,x,_,b,w,S,O,j,E,A){var q=d;for(d=q.$type;"ref"===d;){e:{b=p,d=m,h=_;var k=w,T=S,$=O,C=j,I=E,M=A,R=q,D=R.value,V=D.slice(0);if(s(R,M))a(R,T,$),R=void 0,q=d,V.index=D.length;else{var F=R;if(null!=(R=R["f_context"]))q=R["f_parent"]||d,V.index=D.length;else{var H=0,N=D.length-1;q=R=d;do{var ne=D[H],ve=H<N;if(V.index=H,i(d,q,R,ne,b,ve,!0,h,V,k,T,$,C,I,M),R=o[0],V=o[2],!R||"object"!=typeof R){V.index=H;break e}q=o[1]}while(H++<N);V.index=H,F["f_context"]!==R&&f(F,R)}}o[0]=R,o[1]=q,o[2]=V}if(!(q=o[0])||"object"!=typeof q)return;h=o[1],b=o[2],d=q.$type}if(!g||void 0===d){if(null==l){if(g)throw new c;q&&(l=q["f_key"])}else q=(h=q)[l];q=y(h,q,l,p,g,x,_,b,w,S,O,j,E,A)}o[0]=q,o[1]=h,o[2]=b}var o=Array(3),s=e(0),a=e(2),f=e(7),u=e(10),c=e(4),v=e(23),y=e(48);r.exports=function(m,h,d,l,p){var g=m._root,x=g.expired,_=g.version+1;m=m._path;var b=g.cache,w=u(b,m);if(!w)return[[],[],!1];for(var S=w["f_parent"]||b,O=[],j=[],E=[],A=m.length,q=-1,k=h.length;++q<k;){var T=h[q],$=T.path;T=T.value;var C=m.slice(0);C.index=A,t(T,$,0,b,S,w,j,E,O,C,_,x,g,l,d,p)}return o[0]=void 0,o[1]=void 0,o[2]=void 0,b["f_version"]===_?(g.version=_,[j,E,!0]):[j,E,!1]}},function(r,n,e){r.exports=function(t,i){var o=t,s=[],a=0;do{var f=-1,u=o["f_parent"];o["f_version"]=i;for(var c=o["f_refs_length"]||0;u&&u["f_version"]!==i&&(s[a++]=u),++f<c;)u=o["f_ref"+f]}while(o=s[--a]);return t}},function(r,n,e){var t=e(6);r.exports=function(i){return t(i)&&i.$timestamp||void 0}},function(r,n,e){r.exports=function(i){return i&&"$"===i[0]||t(i)};var t=e(20)},function(r,n){r.exports=0},function(r,n){n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}r.exports=n},function(r,n,e){var t=e(39),i=e(37),o=e(38);r.exports=function(s){return t(o(i(s)))}},function(r,n,e){function t(s,a){var f=a.length;return(f=s[f]||(s[f]=[]))[f.length]=a,s}var i=Array.isArray,o=e(21);r.exports=function(s,a){return a&&"object"==typeof a||(a={}),s?(!i(s)&&i(s.$keys)&&(s=o(s)),s.reduce(t,a)):a}},function(r,n,e){var t=e(65);r.exports=function(i,o){var s=Object.keys(i),a=-1,f=s.length,u=o;for(u&&"object"==typeof u||(u={});++a<f;)u[o=s[a]]=t(i[o],u[o]);return u}},function(r,n,e){function t(y,m,h){var w,d=Object.create(null),l=""+c(""+m),p=[],g=-1,x=0,_=[],b=0,S=[],O=-1;if(m<h-1){for(w=o(y,S);++O<w;){var j=S[O],E=t(y[j],m+1,h),A=E.code;d[A]?E=d[A]:(p[x++]=A,E=d[A]={keys:[],sets:E.sets}),l=""+c(l+j+A),s(j)&&E.keys.push(parseInt(j,10))||E.keys.push(j)}for(;++g<x;)if(0<(w=(S=(E=d[j=p[g]]).keys).length))for(m=-1,h=(y=E.sets).length,O=S[0];++m<h;){E=-1,A=(j=y[m]).length;var q=Array(A+1);for(q[0]=1<w&&S||O;++E<A;)q[E+1]=j[E];_[b++]=q}}else for(w=o(y,S),_[b++]=1<w?[S]:S;++O<w;)l=""+c(l+S[O]);return{code:l,sets:_}}function i(y,m){return y-m}function o(y,m,h){var d=0;if(y===v)m[d++]=null;else{for(var l in y)m[d++]=l;1<d&&m.sort(h)}return d}function s(y){var m=y,h=typeof y;if("string"===h){if(0===(m=y.length)||17<m||!u.test(y))return!1;if(16>m)return!0;m=+y}else if("number"!==h)return!1;return m%1==0&&9007199254740991>=f(m)}var a=Array.isArray,f=Math.abs,u=/^(0|(\-?[1-9][0-9]*))$/,c=e(22),v=e(8);r.exports=function(y){var m,l,h=[],d=0;for(l in y){var p;if((p=s(l))&&(p=null!==(p=m=y[l])&&"object"==typeof p),p)for(var g=-1,x=(p=t(m,0,parseInt(l,10)).sets).length;++g<x;){for(var _=d++,b=p[g],w=-1,S=b.length;++w<S;){var O=b[w];if(a(O)){for(var j=b,E=w,A=-1,q=O.length-1,k=0<q;++A<=q;){var T=O[A];if(!s(T)){k=!1;break}O[A]=parseInt(T,10)}!0===k&&(O.sort(i),A=O[0],(k=O[q])-A<=q&&(O={from:A,to:k})),j[E]=O}}h[_]=b}}return h},r.exports._isSafeNumber=s},function(r,n,e){var t=Array.isArray,i=e(73),o=e(72),s=e(17),a=e(90),f=e(64),u=e(62);r.exports=function(c,v,y,m,h){var d,p,l=v;v=c._path;var g=c._root,x=g.cache,_=v&&v.length||0;if(_){if((d=s(c))&&d.$type)return{error:new a(v,v)};var b=[];for(p=0;p<_;++p)b[p]=v[p];p=c._referenceContainer}else d=x,b=[];var w=[],S=!1;m=y&&y.json;var O=c._boxed,j=g.expired,E=c._recycleJSON,A=!!c._source,q=g.branchSelector,k=y&&c._materialized,T=c._treatErrorsAsValues,$=c._allowFromWhenceYouCame;c={args:null,data:y,hasValue:!1,relative:null,requested:null,missing:null};var C=0,I=l.length;if(0<I){E&&(S=!0,(1<I&&h||t(l[0]))&&(l=[u(f(l,{}))]),I=1);do{var M=l[C];S?E=o(x,d,m,M,0,y,c,w,b,_,!1,p,g,j,h,q,O,k,A,T,$):(E=M.length,E=i(x,d,m,M,0,y,c,w,E,b,_,!1,p,g,j,h,q,O,k,A,T,$)),m=E[0],E[0]=void 0,E[1]=void 0}while(++C<I)}if(h=c.requested,c.args=S&&l||h,h&&h.length&&(c.relative=c.args,_)){for(l=[],p=0,_=h.length;p<_;++p)l[p]=v.concat(h[p]);c.requested=l}return c.hasValue&&(y.json=m),c}},function(r,n,e){var t=Array(3),i=e(13),o=e(0),s=e(7),a=e(52);r.exports=function(f,u,c,v){i(c,u);for(var y,m=0,h=f,d=u.value,l=d,p=d.length;;){if(0===m&&void 0!==(y=u["f_context"]))h=y,m=p;else{var g=d[m++];if(void 0===(h=h[g]))break}if(m===p){if(void 0!==(g=h.$type)&&o(h,v))break;if(h===u)throw new a(d);if(h!==y&&s(u,h),"ref"!==g)break;i(c,h),m=0,u=h,h=f,p=(d=l=u.value).length}else if(void 0!==h.$type)break}for(m<p&&void 0!==h&&(p=m),m=-1,d=Array(p);++m<p;)d[m]=l[m];return t[0]=h,t[1]=d,t[2]=u,t}},function(r,n,e){var t=e(1),i=e(71);r.exports=function(o,s,a,f,u,c,v,y,m,h,d,l){return"error"!==s||l?(u.hasValue=!0,h?t(o):o.value):i(o,a,u,c,m,h)}},function(r,n,e){var t=e(76),i=e(88);r.exports=function(o,s,a,f,u){var c=o._path;f=o._root;var v=c&&c.length||0;if(v)return{error:new i};for(var y=[],m=c=f.cache,h=[],d=o._boxed,l=f.expired,p=o._materialized,g=!!o._source,x=-1,_=s.length,b=o._treatErrorsAsValues,w={args:null,data:a,paths:null,relative:null,requested:null,jsonGraph:null};++x<_;){var S=s[x];o=S.length,t(m,c,S,0,a,w,h,o,y,v,!1,f,l,u,d,p,g,b)}return w.args=w.relative=w.requested,w}},function(r,n,e){var i=Array.isArray,o=e(1),s=e(3);e(4);var a=e(12),f=e(8);r.exports=function t(u,c,v,y,m,h,d,l){if(v===y)return h?o(f):void 0;var p,g=v+1,x=-1,_=0,b=c[v];u&&"object"==typeof u?((p=u["f_meta"])||(u["f_meta"]=p={}),p.status=l?"pending":"resolved",p.version=d.version,p.abs_path=c.slice(0,v)):((u={}).__proto__=s.prototype,u["f_meta"]=p={},p.status=l?"pending":"resolved",p.version=d.version,p.abs_path=c.slice(0,v),m&&(u=m(u)));e:for(;;){if("object"!=typeof b)v=b,l=void 0,b=!1;else{if(i(b)){if(void 0!==w)throw new a(c,w);x=0;var w=b;if(0===(_=b.length))break e;b=w[x];continue e}if(l=b.to,v=b.from||0,"number"!=typeof l&&(l=v+(b.length||0)-1),0>l-v)break e;b=!0}do{u[v]=t(u[v],c,g,y,m,h,d)}while(b&&++v<=l);if(++x===_)break e;b=w[x]}return u}},function(r,n,e){var t=Array.isArray,i=e(102),o=e(57),s=e(58);r.exports=function(a){for(var v,y,m,h,f=[],u=-1,c=a.length;++u<c;)m=a[u],t(m)?(m={path:m},h="PathValues"):i(m)?h="PathValues":s(m)?h="JSONGraphs":o(m)&&(h="PathMaps"),y!==h&&(y=h,f.push(v={arguments:[],inputType:h})),v.arguments.push(m);return f}},function(r,n,e){r.exports=function(t,i,o,s,a){return t["f_key"]=o,t["f_parent"]=i,void 0!==s&&(t["f_version"]=s),t["f_abs_path"]||(t["f_abs_path"]=a.slice(0,a.index).concat(o)),i[o]=t}},function(r,n,e){function t(h,d,l,p,g,x,_,b,w,S){if(h&&"object"==typeof h&&!h.$type)for(var O in h)if(!y(O)){var j=h[O],E=!(!j||"object"!=typeof j||j.$type);i(l,p,g,O,j,E,!1,x,_,b,w,S);var A=o[0],q=o[1];A&&(E?t(j,d+1,l,q,A,x,_,b,w,S):m(A,u(A),b,x))}}function i(h,d,l,p,g,x,_,b,w,S,O,j){var E=l;for(l=E.$type;"ref"===l;){e:{d=g,l=h,_=b;var A=w,q=S,k=O,T=j;if(s(E,T))a(E,A,q),o[0]=void 0,o[1]=l;else{f(q,E);var $=E,C=E.value;if(null!=(E=E["f_context"]))var I=E["f_parent"]||l;else{var M=0,R=C.length-1;I=E=l;do{if(i(l,I,E,C[M],d,M<R,!0,_,A,q,k,T),!(E=o[0])&&"object"!=typeof E)break e;I=o[1]}while(M++<R);$["f_context"]!==E&&c($,E)}o[0]=E,o[1]=I}}if(!(E=o[0])&&"object"!=typeof E)return;d=o[1],l=E.$type}if(void 0===l)if(null==p){if(x)throw Error("`null` is not allowed in branch key positions.")}else E=(d=E)[p];o[0]=E,o[1]=d}var o=Array(2),s=e(0),a=e(2),f=e(13),u=e(9),c=e(7),v=e(17),y=e(33),m=e(11);r.exports=function(h,d,l){var p=h._root,g=p.expired,x=p.version+1,_=p._comparator,b=p.cache;if(!(h=v(h)))return!1;for(var w=-1,S=h["f_parent"]||b,O=d.length;++w<O;)t(d[w].json,0,b,S,h,x,g,p,_,l);return o[0]=void 0,o[1]=void 0,b["f_version"]===x&&(p.version=x,!0)}},function(r,n,e){var t=e(34),i=e(101),o=e(9),s=e(32),a=e(51),f=e(0),u=e(2),c=e(46),v=e(50),y=e(49),m=e(11);e(29),r.exports=function(h,d,l,p,g,x,_,b,w,S,O,j,E,A){return A=i(d,x),g||x?(A&&f(d,!0)&&(u(d,S,O),A=d.$expires===t?A:"expired"),(A&&"ref"!==A||!d||"object"!=typeof d)&&(d=v(d,{},h,l,O,w),d=c(d,h,l,w,b))):(g=i(p),(A||g)&&(j?3>j.length?j(d,p):j(d,p,b.slice(0,b.index)):s(p)<s(d))||(E&&"error"===g&&(p=E(y(_,l),p)),_=o(d)-o(p=a(p,g,g?p.value:p)),d=v(d,p,h,l,O,w),h=m(h,_,O,w),d=c(d,h,l,w,b))),d}},function(r,n){r.exports=function(e,t){return(e=e.slice(0,e.depth))[e.length]=t,e}},function(r,n,e){var t=e(83),i=e(29),o=e(31);r.exports=function(s,a,f,u,c,v){return s===a?s:(s&&"object"==typeof s&&(t(s,a),i(s,f,u,c),o(a,v)),f[u]=a)}},function(r,n,e){var t=Array.isArray,i=e(59),o=e(99),s=e(9),a=e(100),f=e(34);r.exports=function(u,c,v){var y=0;if(c){var m=u["f_wrapped_value"];u=o(u),y=s(u),u.$type=c,u["f_prev"]=void 0,u["f_next"]=void 0,u["f_wrapped_value"]=m||!1}else u={$type:"atom",value:v,"f_prev":void 0,"f_next":void 0,"f_wrapped_value":!0};if(null==v)y=51;else if(null==y||0>=y)switch(typeof v){case"object":y=t(v)?50+v.length:51;break;case"string":y=50+v.length;break;default:y=51}return"number"==typeof(c=a(u))&&c<f&&(u.$expires=i()+-1*c),u.$size=y,u}},function(r,n,e){n=e(5),r.exports=n("CircularReferenceError",(function(t){this.message="Encountered circular reference "+JSON.stringify(t)}))},function(r,n,e){n=e(5),r.exports=n("InvalidSourceError",(function(t){this.message="An exception was thrown when making a request:\n\t"+t}))},function(r,n,e){r.exports=function(t,i){var o=i["f_prev"],s=i["f_next"];s&&(s["f_prev"]=o),o&&(o["f_next"]=s),i["f_prev"]=i["f_next"]=void 0,i===t["f_head"]&&(t["f_head"]=s),i===t["f_tail"]&&(t["f_tail"]=o)}},function(r,n,e){(function(t){function i(f){if(f)switch(typeof f){case"object":this.source=f;break;case"function":this.source={subscribe:f}}}var o=e(14),s=e(15),a=e(103).default;r.exports=i,i.prototype[a]=function(){return this},i.prototype.operator=function(f){return this.subscribe(f)},i.prototype.subscribe=function(f,u,c){return new s([this.operator.call(this.source,f instanceof o?f:new o(f,u,c))])},i.prototype.then=function(f,u){var c=this;return this._promise||(this._promise=new t.Promise((function(v,y){var m=[],h=!1;c.subscribe({next:function(d){m[m.length]=d},error:function(d){h=!0,y(d)},complete:function(){!h&&v(1>=m.length?m[0]:m)}})}))),this._promise.then(f,u)}}).call(n,e(35))},function(r,n){function e(){}var t={dispose:function(){},unsubscribe:function(){}};e.prototype.schedule=function(i){return i(),t},r.exports=e},function(r,n,e){var t=e(6);r.exports=function(i){return t(i)&&"json"in i}},function(r,n,e){var t=Array.isArray,i=e(6);r.exports=function(o){return i(o)&&t(o.paths)&&(i(o.jsonGraph)||i(o.jsong)||i(o.json)||i(o.values)||i(o.value))}},function(r,n){r.exports=Date.now},function(r,n){r.exports=1},function(r,n,e){function t(o){if(!(this instanceof i))return new i(o);i.call(this,o)}var i=e(66);n=e(3),t.prototype=Object.create(i.prototype),t.Model=i,t.FalcorJSON=n,t.toProps=n.prototype.toProps,r.exports=t},function(r,n,e){var i=e(22);r.exports=function t(o){if(void 0!==o){for(var s="",a=o.$keys,f=-1,u=a.length;++f<u;){var c=a[f];if(null===c)s=""+i(s+"null");else{"object"==typeof c&&(c="["+c.from+".."+(c.from+c.length-1)+"]");var v=t(o[f]);s=void 0===v?""+i(""+s+c):""+i(""+s+c+v.$code)}}return o.$code=s,o}}},function(r,n,e){var i=Array.isArray,o=e(8);r.exports=function t(s,a,f,u){if(f===u)return!0;var c=-1,v=0,y=f+1,m=a[f];if(null===m)return s===o;e:for(;;){if("object"!=typeof m){f=m;var h=void 0,d=!1}else{if(i(m)){if(void 0!==l)break e;c=0;var l=m;if(0===(v=m.length))break e;m=l[c];continue e}if(h=m.to,f=m.from||0,"number"!=typeof h&&(h=f+(m.length||0)-1),0>h-f)break e;d=!0}do{if(y===u){if(null!==s[f])return!1}else if(null==(m=s[f])||!1===t(m,a,y,u))return!1}while(d&&++f<=h);if(++c===v)break e;m=l[c]}return!0}},function(r,n,e){function i(f,u,c,v){if(c!==v){var y=(f=f||{}).$keys||(f.$keys=[]),m=f.$keysMap||(f.$keysMap={}),h=-1,d=0,l=c+1,p=u[c];if(null===p)return s;e:for(;;){if("object"!=typeof p){var g=p;void 0===(c=m[g])&&(c=y.length),y[c]=g,m[g]=c,void 0!==(p=i(f[c],u,l,v))&&(f[c]=p)}else{if(o(p)){if(void 0!==x)break e;h=0;var x=p;if(0===(d=p.length))break e;p=x[h];continue e}if(c=p.to,g=p.from||0,"number"!=typeof c&&(c=g+(p.length||0)-1),0>c-g)break e;p={from:g,length:c-g+1},void 0===(c=m[g="["+g+".."+c+"]"])&&(c=y.length),y[c]=p,m[g]=c,void 0!==(p=i(f[c],u,l,v))&&(f[c]=p)}if(++h===d)break e;p=x[h]}return f}}var o=Array.isArray,s={$keys:[null],$keysMap:{null:0}},a=e(21);r.exports=function t(f,u){return f.reduce((function(c,v){return o(v)?i(c,v,0,v.length):o(v.$keys)?t(a(v),c):c}),u||{})}},function(r,n,e){function t(s,a,f,u,c){if(f===u)return!0;s=s||{};var m,v=-1,y=0,h=f+1,d=a[f];if(null===d)return o;e:for(;;){if("object"!=typeof d){f=d;var l=void 0,p=!1}else{if(i(d)){if(void 0!==g)break e;v=0;var g=d;if(0===(y=d.length))break e;d=g[v];continue e}if(l=d.to,f=d.from||0,"number"!=typeof l&&(l=f+(d.length||0)-1),0>l-f)break e;p=!0}do{h===u?s[f]=c:(m=t(d=s[f],a,h,u,c))?d||(s[f]=m):s[f]=c}while(p&&++f<=l);if(++v===y)break e;d=g[v]}return s}var i=Array.isArray,o=e(8);r.exports=function(s,a){return s.reduce((function(f,u){return t(f,u,0,u.length,null)}),a||{})}},function(r,n,e){function t(_){_=_||{},this._node=_._node,this._path=_._path||[],this._source=_.source||_._source,this._root=_._root||new o(_,this),this._recycleJSON=!0===_.recycleJSON||_._recycleJSON,this._scheduler=_.scheduler||_._scheduler||new u,_._seed?(this._recycleJSON=!0,this._seed=_._seed,void 0===_.treatErrorsAsValues&&(_.treatErrorsAsValues=!0)):this._recycleJSON&&(this._seed={},this._seed.__proto__=s.prototype,void 0===_.treatErrorsAsValues&&(_.treatErrorsAsValues=!0)),this._boxed=!0===_.boxed||_._boxed||!1,this._materialized=!0===_.materialized||_._materialized||!1,this._treatErrorsAsValues=!0===_.treatErrorsAsValues||_._treatErrorsAsValues||!1,this._allowFromWhenceYouCame=!0===_.allowFromWhenceYouCame||_._allowFromWhenceYouCame||!1,_.cache&&this.setCache(_.cache)}var i=e(94),o=e(68),s=e(3),a=e(67),f=e(98),u=e(56),c=e(36);e(9);var v=e(6),y=e(57),m=e(10),h=e(58),d=e(19),l=e(18),p=e(24),g=e(78),x=e(25);r.exports=t,t.prototype.constructor=t,t.prototype.get=function(){var _=this._seed;_||((_={}).__proto__=s.prototype);for(var b=arguments.length,w=Array(b),S=0;S<b;S++)w[S]=arguments[S];return new i("get",this,w)._toJSON(_,[])},t.prototype.set=function(){var _={};_.__proto__=s.prototype;for(var b=arguments.length,w=Array(b),S=0;S<b;S++)w[S]=arguments[S];return new i("set",this,w)._toJSON(_,[])},t.prototype.preload=function(){for(var _=arguments.length,b=Array(_),w=0;w<_;w++)b[w]=arguments[w];return new i("get",this,b)._toJSON(null,[])},t.prototype.call=function(){var _={};_.__proto__=s.prototype;for(var b=arguments.length,w=Array(b),S=0;S<b;S++)w[S]=arguments[S];return new i("call",this,w)._toJSON(_,[])},t.prototype.invalidate=function(){for(var _=arguments.length,b=Array(_),w=0;w<_;w++)b[w]=arguments[w];return new i("invalidate",this,b)._toJSON(null,null).then()},t.prototype.deref=e(87),t.prototype._hasValidParentReference=e(86),t.prototype.getValue=function(_){return new i("get",this,[_])._toJSON({},[]).lift((function(b){return this.subscribe({onNext:function(w){var S=-1;w=w.json;for(var O=_.length;w&&!w.$type&&++S<O;)w=w[_[S]];b.onNext(w)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})}))},t.prototype.setValue=function(_,b){return _=1===arguments.length?_.path:_,new i("set",this,[b=1===arguments.length?_:{path:_,value:b}])._toJSON({},[]).lift((function(w){return this.subscribe({onNext:function(S){var O=-1;S=S.json;for(var j=_.length;S&&!S.$type&&++O<j;)S=S[_[O]];w.onNext(S)},onError:w.onError.bind(w),onCompleted:w.onCompleted.bind(w)})}))},t.prototype.setCache=function(_){var b=this._root,w=b.cache;if(_!==w){var O,j,S={_path:[],_boxed:!1,_root:b,_materialized:!1,_treatErrorsAsValues:!1};b.cache=this._node={},void 0!==w&&(b.expired=[],b["f_head"]=void 0,b["f_tail"]=void 0,this._recycleJSON&&(this._seed={},this._seed.__proto__=s.prototype)),h(_)?O=l(S,[_]):y(_)?O=d(S,[_]):v(_)&&(O=d(S,[{json:_}])),O&&(O[0].length&&p(S,O[0],null,!1,!1),O[2]&&(j=b.onChange)&&j.call(b.topLevelModel))}else void 0===w&&(this._root.cache={});return this},t.prototype.getCache=function(){for(var _=arguments.length,b=Array(_),w=0;w<_;w++)b[w]=arguments[w];return 0===b.length?g(this,this._root.cache):((_={}).__proto__=s.prototype,(_=x({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},b,_).data).paths=c(b),_)},t.prototype.getVersion=function(_){if(_=_||[],!1===Array.isArray(_))throw Error("Model#getVersion must be called with an Array path.");return this._path.length&&(_=this._path.concat(_)),this._getVersion(this,_)},t.prototype._clone=function(_){var b=new t(this);if(_)for(var w in _){var S=_[w];"delete"===S?delete b[w]:"_path"===w?(b[w]=S,!1===_.hasOwnProperty("_node")&&delete b._node):b[w]=S}return 0<b._path.length&&(b.setCache=void 0),b},t.prototype.batch=function(_){var b;return"number"==typeof _?b=new f(Math.round(Math.abs(_))):_?"function"==typeof _.schedule?b=_:"function"==typeof _&&(b={scheudle:_}):b=new f(1),this._clone({_scheduler:b})},t.prototype.unbatch=function(){return this._clone({_scheduler:new u})},t.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})},t.prototype.asDataSource=function(){return new a(this)},t.prototype._materialize=function(){return this._clone({_materialized:!0})},t.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})},t.prototype.boxValues=function(){return this._clone({_boxed:!0})},t.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})},t.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})},t.prototype.inspect=function(){return"{ v: "+this.getVersion()+" p: ["+this._path.join(", ")+"] }"},t.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}},t.prototype.getPath=function(){return this._path.slice(0)},t.prototype._fromWhenceYouCame=function(_){return this._clone({_allowFromWhenceYouCame:void 0===_||_})},t.prototype._optimizePath=function(_){return((_=m(this._root.cache,_))&&_["f_abs_path"]||[]).slice(0)},t.prototype._getVersion=e(79),t.prototype._getPathValuesAsPathMap=p,t.prototype._getPathValuesAsJSONG=x,t.prototype._setPathValues=e(30),t.prototype._setPathMaps=e(19),t.prototype._setJSONGs=e(18),t.prototype._setCache=e(19),t.prototype._invalidatePathValues=e(28),t.prototype._invalidatePathMaps=e(47)},function(r,n){function e(t){this._model=t._materialize().treatErrorsAsValues()}e.prototype.get=function(t){return this._model.get.apply(this._model,t)._toJSONG()},e.prototype.set=function(t){return this._model.set(t)._toJSONG()},e.prototype.call=function(t,i,o,s){return this._model.call.apply(this._model,[t,i,o].concat(s))._toJSONG()},r.exports=e},function(r,n,e){function t(o,s){o=o||{},this.cache={},this.version=-1,this.syncRefCount=0,this.maxRetryCount=10,this.topLevelModel=s,this.requests=new i(this),this.expired=o.expired||[],this.collectRatio=.75,this.maxSize=Math.pow(2,53)-1,"number"==typeof o.collectRatio&&(this.collectRatio=o.collectRatio),"number"==typeof o.maxSize&&(this.maxSize=o.maxSize),"function"==typeof o.comparator&&(this.comparator=o.comparator),"function"==typeof o.branchSelector&&(this.branchSelector=o.branchSelector),"function"==typeof o.errorSelector&&(this.errorSelector=o.errorSelector),"function"==typeof o.branchSelector&&(this.branchSelector=o.branchSelector),"function"==typeof o.onChange&&(this.onChange=o.onChange),"function"==typeof o.onChangesCompleted&&(this.onChangesCompleted=o.onChangesCompleted)}var i=e(95);e(32),t.comparator=t.prototype.comparator=function(o,s){var f,a=o&&o.$type,u=s&&s.$type;if(a){if(!u)return o.value===s;if(a!==u)return!1;if((f=s.$timestamp)<(u=o.$timestamp))return!0;if(void 0!==f&&void 0===u||o.$expires!==s.$expires)return!1;if("ref"===a){if((a=(o=o.value).length)!==(s=s.value).length)return!1;for(;~--a;)if(o[a]!==s[a])return!1;return!0}return o.value===s.value}return!u&&o===s},r.exports=t},function(r,n,e){var t=e(24),i=e(25);r.exports={json:function(o,s,a,f){var u=!1;if(!s)return{missing:!1,hasValue:!1};var c=[].concat(s[1]||[]),v=[].concat(s[2]||[]),y=[].concat(s[3]||[]);return s=(o._path||[]).concat(s[0]||[]),f&&y&&y.length&&(u=t(o,y,a,f,!0).hasValue),{data:a,missing:!0,hasValue:u,fragments:[s,c,v,y]}},jsonGraph:function(o,s,a,f){var u=!1;if(!s)return{missing:!1,hasValue:!1};var c=[].concat(s[1]||[]),v=[].concat(s[2]||[]),y=[].concat(s[3]||[]);return s=(o._path||[]).concat(s[0]||[]),f&&y&&y.length&&(u=i({_root:o._root,_boxed:o._boxed,_materialized:o._materialized,_treatErrorsAsValues:o._treatErrorsAsValues},y,a,!0,!0).hasValue),{data:a,missing:!0,hasValue:u,fragments:[s,c,v,y]}}}},function(r,n,e){r.exports={json:e(40),jsonGraph:e(43)}},function(r,n,e){var t=e(1);r.exports=function(i,o,s,a,f,u){var c=-1;for(o+=!!f,f=Array(o),i=u?t(i):i.value;++c<o;)f[c]=a[c];(s.errors||(s.errors=[])).push({path:f,value:i})}},function(r,n,e){function i(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$){if(E)return T(A,p,g,g,q,k,$,j,x,_,S,O,w,i);p=p?l(p):[[]];var C=_.slice(0,b);return p.forEach((function(I){return b=g+I.length,v(C.concat(I),g,x,_,b,w,S,O,j,!1,A,q,k,T,$)}))}var s=Array(2),a=e(42),f=e(3),u=e(0),c=e(16),v=e(27),y=e(41),m=e(77),h=e(4);e(12);var d=e(22),l=e(21);r.exports=function t(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$,C,I,M,R,D,V){var F,N,H=A;if(void 0===g||void 0!==(F=g.$type)||void 0===_)return s[1]=void 0===g,s[0]=c(g,F,x,_,b,w,S,O,b,j,E,H,k,T,$,C,I,M,R,D,a,i,m),s;F="",A=_.$keys;var ne=b+1,ve=E+1;if(V&&q)var ce=q.value,le=q["f_abs_path"];if(x&&"object"==typeof x){if(N=x["f_meta"]){var Q=g["f_abs_path"],Z=N.abs_path;if(C||x instanceof f||(x.__proto__={},x.__proto__["f_meta"]=N,x.__proto__.__proto__=f.prototype),!function o(p,g){if(p===g)return!0;var x=p.length;if(x!==g.length)return!1;for(;~--x;)if(p[x]!==g[x])return!1;return!0}(Q,Z)){if(N.$code="",N.status=R?"pending":"incomplete",N.abs_path=Q,N.version=g["f_version"],ce&&(N.deref_to=ce),le&&(N.deref_from=le),Z=N.keys)for(Y in N.keys=Object.create(null),Z)Z[Y]&&delete x[Y];return s[0]=x,s[1]=!0,s}if(N.version===g["f_version"]&&N.$code===_.$code)return S.hasValue=!0,s[0]=x,s[1]=!1,s;Z=N.keys,N.abs_path=Q,N.version=g["f_version"],ce&&(N.deref_to=ce),le&&(N.deref_from=le)}}else x=void 0;Q=Object.create(null);var ur=-1,ar=A.length,we=!1;e:for(;++ur<ar;){H=A[ur];var Se=_[ur];if(null===H){if(void 0!==Se)throw new h;F=""+d(F+"null")}else{if("object"!=typeof H)var Y=H,ke=void 0,qe=!1,Re=Y;else{if(ke=H.to,Y=H.from||0,"number"!=typeof ke&&(ke=Y+(H.length||0)-1),0>ke-Y)break e;qe=!0,Re="["+Y+".."+ke+"]"}do{H=!1;var qr=x&&x[Y],_t=j,to=ve,no=q,ze=g[Y];if(O[b]=Y,j[E]=Y,void 0===Se){if(t(p,ze,qr,Se,ne,w,S,O,_t,to,H,no,k,T,$,C,I,M,R,D,V),!0===s[1]&&(we=!0),void 0===(qr=s[0])&&!M){x&&x.hasOwnProperty(Y)&&delete x[Y];continue}}else{if(ze&&"ref"===ze.$type&&!u(ze,$)){var fr=y(p,ze,k,$);ze=fr[0],H=!0,_t=fr[1],no=fr[2],to=_t.length,fr[0]=fr[1]=fr[2]=void 0}if(t(p,ze,qr,Se,ne,w,S,O,_t,to,H,no,k,T,$,C,I,M,R,D,V),!0===s[1]&&(we=!0),void 0===(qr=s[0])){x&&x.hasOwnProperty(Y)&&delete x[Y];continue}}void 0===N&&((N={}).version=g["f_version"],N.abs_path=g["f_abs_path"],ce&&(N.deref_to=ce),le&&(N.deref_from=le),(x={})["f_meta"]=N,x.__proto__=f.prototype,C?x=C(x):(H=x,(x={}).__proto__=H)),Q[Y]=!0,Z&&Y in Z&&(Z[Y]=!1),x[Y]=qr}while(qe&&++Y<=ke);F=""+d(""+F+(we?"":Re)+(Se?Se.$code:""))}}if(N&&(N.$code=F,N.keys=Q,N.status=we?R?"pending":M?"resolved":"incomplete":"resolved",Z))for(Y in Z)Z[Y]&&delete x[Y];return s[0]=x,s[1]=we,s}},function(r,n,e){var i=Array(2),o=Array.isArray,s=e(42),a=e(27),f=e(3),u=e(16),c=e(0),v=e(44),y=e(41),m=e(4),h=e(12);r.exports=function t(d,l,p,g,x,_,b,w,S,O,j,E,A,q,k,T,$,C,I,M,R,D){var V;if(void 0===l||(V=l.$type)||x===S)return i[1]=void 0===l,i[0]=u(l,V,p,g,x,_,b,w,S,O,j,E,q,k,T,$,C,I,M,R,s,a,v),i;var F,H=x+1,N=-1,ne=0,ve=j+1;if(null===(E=g[x])){if(H<S)throw new m;return i[0]=p,i[1]=!1,i}if(D&&A)var ce=A.value,le=A["f_abs_path"];p&&"object"==typeof p?(F=p["f_meta"])&&(F.version=l["f_version"],F.abs_path=l["f_abs_path"],ce&&(F.deref_to=ce),le&&(F.deref_from=le)):p=void 0;var Q=!1;e:for(;;){if("object"!=typeof E){V=E;var Z=void 0,ur=!1}else{if(o(E)){if(void 0!==ar)throw new h(g,ar);N=0;var ar=E;if(0===(ne=E.length))break e;E=ar[N];continue e}if(Z=E.to,V=E.from||0,"number"!=typeof Z&&(Z=V+(E.length||0)-1),0>Z-V)break e;ur=!0}do{E=!1;var we=p&&p[V],Se=O,Y=ve,ke=A,qe=l[V];if(w[x]=V,O[j]=V,H===S){if(t(d,qe,we,g,H,_,b,w,S,Se,Y,E,ke,q,k,T,$,C,I,M,R,D),!0===i[1]&&(Q=!0),void 0===(we=i[0])&&!I)continue}else{if(qe&&"ref"===qe.$type&&!c(qe,T)){var Re=y(d,qe,q,T);qe=Re[0],E=!0,Se=Re[1],ke=Re[2],Y=Se.length,Re[0]=Re[1]=Re[2]=void 0}if(t(d,qe,we,g,H,_,b,w,S,Se,Y,E,ke,q,k,T,$,C,I,M,R,D),!0===i[1]&&(Q=!0),void 0===(we=i[0]))continue}void 0===F&&((F={}).version=l["f_version"],F.abs_path=l["f_abs_path"],ce&&(F.deref_to=ce),le&&(F.deref_from=le),(p={})["f_meta"]=F,p.__proto__=f.prototype,$&&(p=$(p))),p[V]=we}while(ur&&++V<=Z);if(++N===ne)break e;E=ar[N]}return F&&(F.status=Q?M?"pending":I?"resolved":"incomplete":"resolved"),i[0]=p,i[1]=Q,i}},function(r,n,e){var t=Array(2),i=e(1),o=e(26),s=e(13),a=e(0),f=e(7),u=e(52);r.exports=function(c,v,y,m,h){s(y,v);for(var d,l=0,p=c,g=v.value,x=g,_=g.length;;){if(0===l&&void 0!==(d=v["f_context"]))p=d,l=_;else{var b=g[l++];if(void 0===(p=p[b]))break}if(l===_){if(void 0!==(b=p.$type)&&a(p,h))break;if(p===v)throw new u(g);if(p!==d&&f(v,p),"ref"!==b)break;s(y,p),m&&o(i(p),g,_,m),l=0,v=p,p=c,_=(g=x=v.value).length}else if(void 0!==p.$type)break}for(l<_&&void 0!==p&&(_=l),l=-1,g=Array(_);++l<_;)g[l]=x[l];return t[0]=p,t[1]=g,t}},function(r,n,e){var t=e(1),i=e(26);r.exports=function(o,s,a,f,u,c,v,y,m,h,d){return d=o.value,(h||"ref"===s||"error"===s||!o["f_wrapped_value"]||"object"==typeof d)&&(d=t(o)),u.hasValue=!0,i(d,v,y,f),(f.paths||(f.paths=[])).push(c.slice(0,a+!!m)),d}},function(r,n,e){function i(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$){var C;if(A&&E){(A.paths||(A.paths=[])).push((C=b-g==0)&&_.slice(0,g+!!w)||_.slice(0,g).concat(p.slice(g,b+!!w)));var I=f(C&&s(l)||void 0,S,O,A,!C)}return y(p,g,x,_,b,w,S,O,j,!C&&E,I,q,!0,T,$)}var o=Array.isArray,s=e(1),a=e(75),f=e(26),u=e(0),c=e(16),v=e(44),y=e(27),m=e(74),h=e(4),d=e(12),l=e(8);r.exports=function t(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$,C,I,M){var R;if(void 0===g||(R=g.$type)||_===O)return c(g,R,b,x,_,b,w,S,O,j,E,A,q,k,T,void 0,$,C,I,M,a,i,v);var D=_+1,V=-1,F=0,H=E+1;if(null===(A=x[_])){if(D<O)throw new h}else e:for(;;){if("object"!=typeof A){R=A;var N=void 0,ne=!1}else{if(o(A)){if(void 0!==ve)throw new d(x,ve);V=0;var ve=A;if(0===(F=A.length))break e;A=ve[V];continue e}if(N=A.to,R=A.from||0,"number"!=typeof N&&(N=R+(A.length||0)-1),0>N-R)break e;ne=!0}do{A=!1;var ce=j,le=H,Q=g[R];if(S[_]=R,j[E]=R,Q&&D<O&&"ref"===Q.$type&&!u(Q,T)){b&&f(s(Q),j,le,b);var Z=m(p,Q,q,b,T);Q=Z[0],A=!0,le=(ce=Z[1]).length,Z[0]=Z[1]=void 0}t(p,Q,x,D,b,w,S,O,ce,le,A,q,k,T,$,C,I,M)}while(ne&&++R<=N);if(++V===F)break e;A=ve[V]}}},function(r,n,e){var i=e(1),o=e(16),s=e(3),a=e(4);e(12);var f=e(8);r.exports=function t(u,c,v,y,m,h,d,l,p,g,x,_,b,w){if(void 0===c)return o(void 0,void 0,u,c,v,void 0,p,g,v,x,_,b,d,void 0,!1,m,h,!1,l,!1,void 0,w,void 0),h?i(f):void 0;var S,O,j=c.$keys,E=v+1,A=_+1;u&&"object"==typeof u?((S=u["f_meta"])?O=S.keys:u["f_meta"]=S={},S.$code="",S.status=l?"pending":"resolved",S.version=d.version,S.abs_path=x.slice(0,_)):((u={}).__proto__=s.prototype,u["f_meta"]=S={},S.$code="",S.status=l?"pending":"resolved",S.version=d.version,S.abs_path=x.slice(0,_),m&&(u=m(u))),y=Object.create(null);var q=-1,k=j.length;e:for(;++q<k;){var T=j[q],$=c[q];if(null===T){if(void 0!==$)throw new a}else{if("object"!=typeof T){var C=T,I=void 0;T=!1}else{if(I=T.to,C=T.from||0,"number"!=typeof I&&(I=C+(T.length||0)-1),0>I-C)break e;T=!0}do{g[v]=C,x[_]=C,y[C]=!0,O&&C in O&&(O[C]=!1),u[C]=t(u[C],$,E,E,m,h,d,l,p,g,x,A,b,w)}while(T&&++C<=I)}}if(S.keys=y,O)for(C in O)O[C]&&delete u[C];return u}},function(r,n,e){function t(s,a,f,u){var c,v;if(!s||"object"!=typeof s)return s;if(c=s.$type)return void 0===(v=s.value)?u?v={$type:"atom"}:s["f_wrapped_value"]&&(v=i(s)):(f||"ref"===c||"error"===c||!s["f_wrapped_value"]||"object"==typeof v)&&(v=i(s)),v;for(var y=(c=Object.keys(s)).length,m=-1;++m<y;){var h=c[m];"$size"===h||o(h)||void 0===(v=t(s[h],a&&a[h],f,u))||(void 0===a&&(a={}),a[h]=v)}return a}var i=e(1),o=e(20);r.exports=function(s,a){return t(a,{},s._boxed,s._materialized)}},function(r,n,e){var t=e(17);r.exports=function(i,o){return null==(i=(i=t(i,o))&&i["f_version"])?-1:i}},function(r,n,e){function t(s,a,f,u,c){f=!1,u=-1;for(var v=(a=o(a)).length;++u<v;){var y=a[u],m=y.inputType;0<(y=y.arguments).length&&("PathValues"===m&&(y=y.map(i)),(0,r.exports["invalidate"+m])(s,y,c)&&(f=!0))}return f&&(c=s._root.onChange)&&c.call(s._root.topLevelModel),{}}function i(s){return s.path||s.paths}var o=e(45);r.exports={json:t,jsonGraph:t,invalidatePathMaps:e(47),invalidatePathValues:e(28)}},function(r,n,e){var t=e(51),i=e(0),o=e(46),s=e(2),a=e(50),f=e(9),u=e(49),c=e(32),v=e(11);r.exports=function(y,m,h,d,l,p,g,x,_,b,w,S){var O,j,E;if(m===h){if(void 0===h)return h;if(null===h)return m=t(h,void 0,h),y=v(y,-m.$size,_,g),o(m,y,d,void 0,p);if((j=!(!m||"object"!=typeof m))&&void 0===(O=m.$type))return void 0===m["f_parent"]&&o(m,y,d,g,p),m}else(j=!(!m||"object"!=typeof m))&&(O=m.$type);if("ref"!==O){if(E=!(!h||"object"!=typeof h))var A=h.$type;if(j&&!O&&(null==h||E&&!A))return m}else{if(null==h)return i(m,S)?void s(m,x,_):m;if((E=!(!h||"object"!=typeof h))&&"ref"===(A=h.$type))if(m===h){if(null!=m["f_parent"])return m}else{var q=m.$timestamp,k=h.$timestamp;if(!i(m,S)&&!i(h,S)&&k<q)return}}return O&&E&&!A?o(a(m,h,y,d,_,g),y,d,void 0,p):(A||!E?("error"===A&&w&&(h=w(u(l,d),h)),A&&m===h?m["f_parent"]||(m=t(m,O,m.value),y=v(y,-m.$size,_,g),m=o(m,y,d,g,p)):(l=!0,O||A?j&&i(m,S)||(l=b?!(3>b.length?b(m,h):b(m,h,p.slice(0,p.index))):!(c(h)<c(m))):l=!0,l&&(b=f(m)-f(h=t(h,A,A?h.value:h)),m=a(m,h,y,d,_,g),y=v(y,b,_,g),m=o(m,y,d,g,p))),i(m,!0)&&s(m,x,_)):null==m&&(m=o(h,y,d,void 0,p)),m)}},function(r,n,e){function t(u,c,v){var y=!1,m=-1,h=c.length,d=[],l=[],p=u._root,g=p.errorSelector;for(v=v&&!u._source,p=u._source?null:p.comparator;++m<h;){var x=c[m],_=x.inputType;if(0<(x=x.arguments).length){var b=(0,r.exports["set"+_])(u,x,g,p,v);y=y||b[2],l.push.apply(l,b[1]),"PathValues"===_?d.push.apply(d,x.map(i)):"JSONGraphs"===_?d.push.apply(d,o(x,i)):d.push.apply(d,b[0])}}return{changed:y,requested:d,optimized:l}}function i(u){return u.path||u.paths}function o(u,c){for(var v=-1,y=-1,m=u.length,h=[];++y<m;)for(var d=c(u[y],y,u),l=-1,p=d.length;++l<p;)h[++v]=d[l];return h}var s=e(24),a=e(25),f=e(45);r.exports={json:function(u,c,v,y,m){var h,d=f(c),l=t(u,d,m);if((c=l.requested).length){if(!(h=l.changed)||y)var p=s(u,c,v,y,m);if(h){var g=a({_root:u._root,_boxed:u._boxed,_materialized:!0,_treatErrorsAsValues:u._treatErrorsAsValues},l.optimized,{},y,m),x=g.data,_=x.paths;g=g.requested,(y=u._root.onChange)&&y.call(u._root.topLevelModel)}}return{args:d,data:v,missing:_,relative:c,fragments:x,requested:g,error:p&&p.error,errors:p&&p.errors,hasValue:p&&p.hasValue}},jsonGraph:function(u,c,v,y,m){var h,d=f(c),l=t(u,d,m);if((c=l.requested).length&&(y||(h=l.changed))){var p=a({_root:u._root,_boxed:u._boxed,_materialized:!0,_treatErrorsAsValues:u._treatErrorsAsValues},l.optimized,v,y,m),g=p.data,x=g.paths,_=p.requested;h&&(y=u._root.onChange)&&y.call(u._root.topLevelModel)}return{args:d,data:v,missing:x,relative:c,fragments:g,requested:_,error:p&&p.error,hasValue:p&&p.hasValue}},setPathMaps:e(19),setPathValues:e(30),setJSONGraphs:e(18)}},function(r,n,e){r.exports=function(t,i){for(var o=t["f_refs_length"]||0,s=i["f_refs_length"]||0,a=-1;++a<o;){var f=t["f_ref"+a];void 0!==f&&(f["f_context"]=i,f["f_ref_index"]=s+a,i["f_ref"+(s+a)]=f,t["f_ref"+a]=void 0)}return i["f_refs_length"]=o+s,t["f_refs_length"]=void 0,i}},function(r,n,e){r.exports=function(t){for(var i=-1,o=t["f_refs_length"]||0;++i<o;){var s=t["f_ref"+i];null!=s&&(s["f_context"]=s["f_ref_index"]=t["f_ref"+i]=void 0)}return t["f_refs_length"]=void 0,t}},function(r,n,e){r.exports=function(t){var i=t["f_context"];if(i){for(var o=(t["f_ref_index"]||0)-1,s=(i["f_refs_length"]||0)-1;++o<=s;){var a=i["f_ref"+(o+1)];(i["f_ref"+o]=a)&&(a["f_ref_index"]=o)}i["f_refs_length"]=s,t["f_ref_index"]=t["f_context"]=void 0}return t}},function(r,n,e){r.exports=function(){var t=this._referenceContainer;return!this._allowFromWhenceYouCame||!0===t||!(!1===t||t&&void 0===t["f_parent"]||t&&t["f_invalidated"])}},function(r,n,e){var t=e(3),i=e(10);e(89),r.exports=function(o){var s;if(!o||"object"!=typeof o||!(s=o["f_meta"])||"object"!=typeof s)return null;var c,a=this._root.cache,f=this._recycleJSON,u=s.abs_path;if(!u){if(f){var v={json:o};v.__proto__=t.prototype}return this._clone({_node:void 0,_seed:v})}if(0===u.length)return f&&((v={json:o}).__proto__=t.prototype),this._clone({_node:a,_path:u,_referenceContainer:!0,_seed:v});var y=s.deref_to,m=s.deref_from,h=i(a,u),d="e";if(m){d=!1,s=-1;var l=m.length;for(c=a;++s<l&&(c=c[m[s]])&&!c.$type;);if(y&&c&&"ref"===c.$type)for(d=!0,l=y.length,a=c.value,s=0;s<l;++s)if(a[s]!==y[s]){h=void 0,d=!1;break}}return d?"e"===d&&(c=!0):c=!1,f&&((v={json:o}).__proto__=t.prototype),this._clone({_seed:v,_node:h,_path:u,_referenceContainer:c})}},function(r,n,e){n=e(5),r.exports=n("BoundJSONGraphModelError",(function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."}))},function(r,n,e){n=e(5),r.exports=n("InvalidDerefInputError",(function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."}))},function(r,n,e){n=e(5),r.exports=n("InvalidModelError",(function(t,i){this.message="The boundPath of the model is not valid since a value or error was found before the path end.",this.boundPath=t,this.shortedPath=i}))},function(r,n,e){function t(i){return i.map((function(o){return JSON.stringify(o)})).join(",\n\t")}n=e(5),r.exports=n("MaxRetryExceededError",(function(i,o,s,a){this.message="Exceeded the max retry count ("+i+") for these paths: \n"+(o&&"absolute: [\n\t"+t(o)+"\n]\n"||"")+(s&&"relative: [\n\t"+t(s)+"\n]\n"||"")+(a&&"optimized: [\n\t"+t(a)+"\n]\n"||"")}))},function(r,n){r.exports=String.fromCharCode(30)+"f_"},function(r,n,e){var t=e(11);r.exports=function(i,o,s,a,f,u){"number"!=typeof f&&(f=.75);for(var c,v=a*f;f=o.pop();)s-=c=f.$size||0,t(f,c,i,u);if(s>=a){for(o=i["f_tail"];s>=v&&(f=o);)o=o["f_prev"],s-=c=f.$size||0,t(f,c,i,u);i["f_tail"]=f,null==f?i["f_head"]=void 0:f["f_next"]=void 0}}},function(r,n,e){function t(l,p,g){u.call(this,l),p&&g&&(this.type=l,this.source=this,this.model=p,this._args=g)}function i(l,p,g,x,_){this.data=l,this.errors=p,this.operation=g,this.progressive=x,this.maxRetryCount=_}function o(l,p,g,x,_,b){c.call(this,l),this.data=p,this.request=this.missing=null,this.started=!1,this.retryCount=-1,this.errors=g,this.errored=!1,this.relative=null,this.hasValue=!1,this.requested=this.fragments=null,this.completed=!1,this.operation=x,this.progressive=_,this.maxRetryCount=b}function s(l,p,g,x){"jsonGraph"===p&&l.paths&&(l.paths=m(l.paths));try{++g.syncRefCount,x.onNext(l)}catch(_){throw _}finally{--g.syncRefCount}}function a(l,p){try{throw p}catch(g){c.prototype.onError.call(l,g)}}function f(l,p){for(var g,x,_,b=Object.keys(p),w=-1,S=b.length;++w<S;)"f_meta"!==(_=b[w])&&(x=p[_],(g=l[_])!==x&&(x&&"object"==typeof x?void 0===g?l[_]=x:f(g,x):void 0===g&&(l[_]=x)));return l}var u=e(55),c=e(14),v=e(93),y=e(3),m=e(36),h=e(53),d=e(91);r.exports=t,t.prototype=Object.create(u.prototype),t.prototype.lift=function(l,p){return(p=new t(p||this)).type=this.type,p.model=this.model,p._args=this._args,p.operator=l,l.data=l.data||this.operator.data,l.errors=l.errors||this.operator.errors,l.operation=l.operation||this.operator.operation,l.progressive=l.progressive||this.operator.progressive,l.maxRetryCount=l.maxRetryCount||this.operator.maxRetryCount,p},t.prototype.operator=function(l){return this._subscribe(l)},t.prototype._subscribe=function(l){return l.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version}),l.onCompleted(),l},t.prototype._toJSON=function(l,p){return void 0===l&&((l={}).__proto__=y.prototype),this.lift(new i(l,p||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)},t.prototype._toJSONG=function(l,p){return void 0===l&&((l={}).__proto__=y.prototype),this.lift(new i(l,p||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)},t.prototype.retry=function(l){return this.lift(new i(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,l),this.source)},t.prototype.progressively=function(){return this.lift(new i(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)},i.prototype.call=function(l,p){return l.subscribe(new o(p,this.data,this.errors,this.operation,this.progressive))},o.prototype=Object.create(c.prototype),o.prototype.operations={get:e(70),set:e(82),call:e(69),invalidate:e(80)},o.prototype.next=o.prototype.onNext=function(l){if(this.started){if(this.destination){var p,g=l.type;l=l.args||l.paths;var x=this.data,_=this.model,b=this.errors,w=this.hasValue,S=this.operation,O=this.progressive,j=O&&x;if(_._recycleJSON&&"get"===this.type&&(j=!1),j&&((x={}).__proto__=y.prototype),l&&l.length){var E=this.operations[g][S](_,l,x,O||!_._source,-1===this.retryCount);if(E.error)return a(this,E.error);b&&E.errors&&b.push.apply(b,E.errors),(p=E.fragments)&&(l=E.args,this.fragments=p),this.relative=E.relative,this.requested=E.requested,this.missing=p=E.missing,this.hasValue=w||(w=E.hasValue)}this.completed=!p||!_._source,"set"!==g&&(this.args=l,j&&(this.data=f(x,this.data))),O&&w&&x&&(x.json||x.jsonGraph)&&s(x,S,_._root,this.destination)}}else this.args=l.args,this.type=l.type,this.model=l.model,this.version=l.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount},o.prototype.error=o.prototype.onError=function(l){if(l instanceof h)return c.prototype.onError.call(this,l);this.errored=!0,this.onCompleted(l)},o.prototype.complete=o.prototype.onCompleted=function(l){if(this.destination){var p,g;if(!this.started&&(this.started=!0)?this.onNext(this):(g=this.errored)&&this.onNext({type:"get",paths:this.relative}),g||this.completed)return!this.progressive&&this.hasValue&&((p=this.data)&&p.json||p.jsonGraph)&&s(p,this.operation,this.model._root,this.destination),p=this.errors,g||l||p&&p.length?a(this,p.length&&p||l):c.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return a(this,new d(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)}},o.prototype.dispose=o.prototype.unsubscribe=function(){var l=this.model,p=this.version,g=this.request;this.errors=this.model=this.data=this.args=null,this.completed=this.hasValue=this.started=this.errored=!1,c.prototype.dispose.call(this),g&&(this.request=null,g.dispose()),l&&(g=(l=l._root).cache,0>=l.syncRefCount&&p!==l.version&&(g&&v(l,l.expired,g.$size||0,l.maxSize,l.collectRatio,l.version),(p=l.onChangesCompleted)&&p.call(l.topLevelModel)))}},function(r,n,e){function t(c){f.call(this,[]),this.modelRoot=c}function i(c,v,y,m,h){this.queue=c,this.dataSource=v,this.scheduler=y,this.requested=m,this.optimized=h}var o=e(55),s=e(96),a=e(14),f=e(15),u=e(56);r.exports=t,t.prototype=Object.create(f.prototype),t.prototype.set=function(c,v,y,m){var h=this;return new o((function(d){var l=new s("set",h,c._source,new u);return d=l.subscribe(new a(d,l)),h.add(l),l.data=m.jsonGraph,l.requested.push(y),l.optimized.push(v),l.connect(),d}))},t.prototype.call=function(c,v,y,m){var h=this;return new o((function(d){var l=new s("call",h,c._source,new u);return d=l.subscribe(new a(d,l)),h.add(l),l.data=m,l.boundPath=c._path,l.connect(),d}))},t.prototype.get=function(c,v,y){return new i(this,c._source,c._scheduler,y,v)},i.prototype.subscribe=function(c){for(var v,y=this.queue,m=this.dataSource,h=this.requested,d=this.optimized,l=this.scheduler,p=-1,g=y.subscriptions,x=g.length,_=new f([],c);++p<x&&("get"!==(v=g[p]).type||((v=v.batch(h,d,h=[],d=[]))&&_.add(v.subscribe(new a(c,v))),d.length)););return d.length&&(v=g[p]=new s("get",y,m,l).batch(h,d),_.add(v.subscribe(new a(c,v))),v.connect()),_}},function(r,n,e){function t(l,p,g,x){a.call(this,[],p),this.trees=[],this.type=l,this.data=null,this.responded=this.active=!1,this.paths=null,this.requested=[],this.optimized=[],this.disposable=null,this.dataSource=g,this.scheduler=x}function i(){var l=this.paths=y(h(this.optimized.reduce((function(g,x){return m(x,g)}),{})));this.trees=this.optimized.map((function(g){return h(m(g))})),this.active=!0;try{switch(this.type){case"get":var p=this.dataSource.get(l);break;case"set":p=this.dataSource.set({paths:l,jsonGraph:this.data});break;case"call":p=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=p.subscribe(this)}catch(g){this.disposable={},a.prototype.onError.call(this,new f(g))}}function o(l,p){var g;if(!l||0===(g=l.length))return p;var x=[],_=-1,b=-1,w=p.length;e:for(;++b<w;){var S=p[b];if(S.length>g){var O=0;do{if(S[O]!==l[O])continue e}while(++O<g);x[++_]=S.slice(g)}}return x}var s=Array.isArray,a=e(97);e(14),e(15);var f=e(53),u=e(18),c=e(30),v=e(28),y=e(39),m=e(37),h=e(38),d=e(63);r.exports=t,t.prototype=Object.create(a.prototype),t.prototype.next=t.prototype.onNext=function(l){var p=this.parent;if(p){this.responded=!0;var g=!1,x=l.jsonGraph,_=this.boundPath;p=p.modelRoot;var b=l.invalidated,w=l.paths||this.paths,S=this.requested.slice(0);l=this.observers.slice(0);var O=p.onChange;b&&b.length&&(g=v({_root:p,_path:[]},b,!1)),w&&w.length&&x&&"object"==typeof x&&(x=u({_root:p},[{paths:w,jsonGraph:x}],p.errorSelector,p.comparator,!1),w=x[0],g=g||x[2]),l.forEach((function(j,E){j.onNext({type:"get",paths:S[E]||o(_,w)})})),g&&O&&O.call(p.topLevelModel)}},t.prototype.error=t.prototype.onError=function(l){var p=this.parent;if(p){!1===this.responded&&(this.responded=!0,p.remove(this)),l=(l=l||{})instanceof Error?{$type:"error",value:{message:l.message}}:"error"===l.$type&&l||{$type:"error",value:l},p=p.modelRoot;var g=y(h(this.requested.reduce((function(x,_){return m(!s(_[0])&&s(_[0].$keys)?_[0]:_,x)}),{}))).map((function(x){return{path:x,value:l}}));g.length&&c({_root:p,_path:[]},g,p.errorSelector,p.comparator,!1),a.prototype.onError.call(this,l)}},t.prototype.complete=t.prototype.onCompleted=function(){!1===this.responded&&this.onNext({}),a.prototype.onCompleted.call(this)},t.prototype.remove=function(l){return~(l=this.subscriptions.indexOf(l))&&(this.trees.splice(l,1),this.requested.splice(l,1),this.optimized.splice(l,1),this.observers.splice(l,1),this.subscriptions.splice(l,1)),0===this.subscriptions.length&&this.dispose(),this},t.prototype.dispose=t.prototype.unsubscribe=function(){this.trees=[],this.paths=this.data=null,this.active=!1,this.boundPath=null,this.requested=[],this.optimized=[];var l=this.parent;l&&(this.parent=null,l.remove(this)),(l=this.disposable)&&(this.disposable=null,l.dispose?l.dispose():l.unsubscribe&&l.unsubscribe()),a.prototype.dispose.call(this)},t.prototype.connect=function(){if(!this.active&&!this.disposable){var l=this.scheduler.schedule(i.bind(this));this.disposable||(this.disposable=l)}return this},t.prototype.batch=function(l,p,g,x){if(this.active){var _=[],b=[],w=this.trees,S=-1,O=-1,j=-1,E=-1,A=-1,q=w.length,k=p.length,T=l.length-1;e:for(;++S<k;){for(var $=-1,C=p[S],I=C.length;++$<q;){var M=w[$][I];if(M&&d(M,C,0,I)){b[++E]=C,A<T&&(_[++A]=l[S<T?S:T]);continue e}}x[++O]=C,j<T&&(g[++j]=l[S<T?S:T])}return~E?(this.requested.push(_),this.optimized.push(b),this.trees.push(h(m(b))),this):null}return this.trees.push({}),this.requested.push(l),this.optimized.push(p),this}},function(r,n,e){function t(s,a){i.call(this,null,a),this.observers=s||[]}var i=e(14),o=e(15);r.exports=t,t.prototype=Object.create(i.prototype),t.prototype.onError=function(s){var a=this.observers.slice(0);this.dispose(),a.forEach((function(f){f.onError(s)}))},t.prototype.onCompleted=function(){var s=this.observers.slice(0);this.dispose(),s.forEach((function(a){a.onCompleted()}))},t.prototype.subscribe=function(s){return this.observers.push(s),this.subscriptions.push(s=new o([s],this)),s},t.prototype.dispose=t.prototype.unsubscribe=function(){this.observers=[]}},function(r,n){function e(i){this.delay=i}var t=function(i){this.id=i,this.disposed=!1};e.prototype.schedule=function(i){return new t(setTimeout(i,this.delay))},t.prototype.dispose=t.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)},r.exports=e},function(r,n,e){var t=Array.isArray,i=e(20);r.exports=function(o){var s=o;if(s&&"object"==typeof s)for(var a in s=t(o)?[]:{},o)i(a)||(s[a]=o[a]);return s}},function(r,n,e){var t=e(6);r.exports=function(i){return t(i)&&i.$expires||void 0}},function(r,n,e){var t=e(6);r.exports=function(i,o){return i=t(i)&&i.$type||void 0,o&&i?"branch":i}},function(r,n,e){var t=Array.isArray,i=e(6);r.exports=function(o){return i(o)&&(t(o.path)||"string"==typeof o.path)}},function(r,n,e){r.exports=e(104)},function(r,n,e){var t=e(35);r=e(106)(r),Object.defineProperty(n,"__esModule",{value:!0}),e=(e=e(105))&&e.__esModule?e:{default:e},t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r,t=(0,e.default)(t),n.default=t},function(r,n,e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var i=t.Symbol;return"function"==typeof i?i.observable?t=i.observable:(t=i("observable"),i.observable=t):t="@@observable",t}},function(r,n){r.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(r,n,e){r.exports=e(61)}])},"object"==typeof Gr&&"object"==typeof Ko?Ko.exports=n():"function"==typeof define&&__webpack_require__.amdO?define("falcor",[],n):"object"==typeof Gr?Gr.falcor=n():r.falcor=n()})),Xe=P(((xg,Ha)=>{Ha.exports={token:"token",dotSeparator:".",commaSeparator:",",openingBracket:"[",closingBracket:"]",openingBrace:"{",closingBrace:"}",escape:"\\",space:" ",colon:":",quote:"quote",unknown:"unknown"}})),Yo=P(((wg,Xa)=>{var ye=Xe(),za=Xa.exports=function(r,n){this._string=r,this._idx=-1,this._extended=n,this.parseString=""};function Ka(r,n,e){return{token:r,done:e,type:n}}function Ya(r,n,e){var s,t=!1,i="",o=e?"\\{}'\"[]., :\t\n\r":"\\'\"[]., \t\n\r";do{if(s=n+1>=r.length)break;var a=r[n+1];if(void 0===a||-1!==o.indexOf(a)){if(i.length)break;var f;switch(++n,a){case".":f=ye.dotSeparator;break;case",":f=ye.commaSeparator;break;case"[":f=ye.openingBracket;break;case"]":f=ye.closingBracket;break;case"{":f=ye.openingBrace;break;case"}":f=ye.closingBrace;break;case"\t":case" ":case"\n":case"\r":f=ye.space;break;case'"':case"'":f=ye.quote;break;case"\\":f=ye.escape;break;case":":f=ye.colon;break;default:f=ye.unknown}t=Ka(a,f,!1);break}i+=a,++n}while(!s);return!t&&i.length&&(t=Ka(i,ye.token,!1)),t||(t={done:!0}),{token:t,idx:n}}za.prototype={next:function(){var r=this._nextToken?this._nextToken:Ya(this._string,this._idx,this._extended);return this._idx=r.idx,this._nextToken=!1,this.parseString+=r.token.token,r.token},peek:function(){var r=this._nextToken?this._nextToken:Ya(this._string,this._idx,this._extended);return this._nextToken=r,r.token}},za.toNumber=function(n){return isNaN(+n)?NaN:+n}})),mr=P(((Sg,Za)=>{Za.exports={indexer:{nested:"Indexers cannot be nested.",needQuotes:"unquoted indexers must be numeric.",empty:"cannot have empty indexers.",leadingDot:"Indexers cannot have leading dots.",leadingComma:"Indexers cannot have leading comma.",requiresComma:"Indexers require commas between indexer args.",routedTokens:"Only one token can be used per indexer when specifying routed tokens."},range:{precedingNaN:"ranges must be preceded by numbers.",suceedingNaN:"ranges must be suceeded by numbers."},routed:{invalid:"Invalid routed token.  only integers|ranges|keys are supported."},quote:{empty:"cannot have empty quoted keys.",illegalEscape:"Invalid escape character.  Only quotes are escapable."},unexpectedToken:"Unexpected token.",invalidIdentifier:"Invalid Identifier.",invalidPath:"Please provide a valid path.",throwError:function(r,n,e){throw e?r+" -- "+n.parseString+" with next token: "+e:r+" -- "+n.parseString}}})),tf=P(((Og,rf)=>{var Qa=Yo(),ef=Xe(),yr=mr();rf.exports=function(n,e,t,i){var v,o=n.peek(),s=1,a=!1,f=!0,u=t.indexer.length-1,c=Qa.toNumber(t.indexer[u]);for(isNaN(c)&&yr.throwError(yr.range.precedingNaN,n);!a&&!o.done;){switch(o.type){case ef.dotSeparator:3===s&&yr.throwError(yr.unexpectedToken,n),3===++s&&(f=!1);break;case ef.token:v=Qa.toNumber(n.next().token),isNaN(v)&&yr.throwError(yr.range.suceedingNaN,n),a=!0;break;default:a=!0}if(a)break;n.next(),o=n.peek()}t.indexer[u]={from:c,to:f?v:v-1}}})),sf=P(((Eg,of)=>{var Te=Xe(),Wr=mr(),nf=Wr.quote;of.exports=function(n,e,t,i){for(var o=n.next(),s="",a=e.token,f=!1,u=!1;!o.done;){switch(o.type){case Te.token:case Te.space:case Te.dotSeparator:case Te.commaSeparator:case Te.openingBracket:case Te.closingBracket:case Te.openingBrace:case Te.closingBrace:f&&Wr.throwError(nf.illegalEscape,n),s+=o.token;break;case Te.quote:f?(s+=o.token,f=!1):o.token!==a?s+=o.token:u=!0;break;case Te.escape:f=!0;break;default:Wr.throwError(Wr.unexpectedToken,n)}if(u)break;o=n.next()}0===s.length&&Wr.throwError(nf.empty,n),t.indexer[t.indexer.length]=s}})),zo=P(((Pg,uf)=>{uf.exports={integers:"integers",ranges:"ranges",keys:"keys"}})),ff=P(((Ag,af)=>{var Br=Xe(),Xo=zo(),Nt=mr(),Zo=Nt.routed;af.exports=function(n,e,t,i){var o=n.next(),s=!1,a="";switch(o.token){case Xo.integers:case Xo.ranges:case Xo.keys:break;default:Nt.throwError(Zo.invalid,n)}var f=n.next();if(f.type===Br.colon){for(s=!0,f=n.next();f.type===Br.space;)f=n.next();for(f.type!==Br.token&&Nt.throwError(Zo.invalid,n),a=f.token,f=n.next();f.type===Br.space;)f=n.next()}if(f.type===Br.closingBrace){var u={type:o.token,named:s,name:a};t.indexer[t.indexer.length]=u}else Nt.throwError(Zo.invalid,n)}})),lf=P(((jg,cf)=>{var Ie=Xe(),De=mr(),_r=De.indexer,Ph=tf(),Ah=sf(),jh=ff();cf.exports=function(n,e,t,i){var o=n.next(),s=!1,a=1,f=!1;for(t.indexer=[];!o.done;){switch(o.type){case Ie.token:case Ie.quote:t.indexer.length===a&&De.throwError(_r.requiresComma,n)}switch(o.type){case Ie.openingBrace:f=!0,jh(n,o,t,i);break;case Ie.token:var u=+o.token;isNaN(u)&&De.throwError(_r.needQuotes,n),t.indexer[t.indexer.length]=u;break;case Ie.dotSeparator:t.indexer.length||De.throwError(_r.leadingDot,n),Ph(n,o,t,i);break;case Ie.space:break;case Ie.closingBracket:s=!0;break;case Ie.quote:Ah(n,o,t,i);break;case Ie.openingBracket:De.throwError(_r.nested,n);break;case Ie.commaSeparator:++a;break;default:De.throwError(De.unexpectedToken,n)}if(s)break;o=n.next()}0===t.indexer.length&&De.throwError(_r.empty,n),t.indexer.length>1&&f&&De.throwError(_r.routedTokens,n),1===t.indexer.length&&(t.indexer=t.indexer[0]),i[i.length]=t.indexer,t.indexer=void 0}})),df=P(((kg,pf)=>{var Vt=Xe(),Le=mr(),kh=lf();pf.exports=function(n){for(var e=n.next(),t={},i=[];!e.done;){switch(e.type){case Vt.token:var o=+e.token[0];isNaN(o)||Le.throwError(Le.invalidIdentifier,n),i[i.length]=e.token;break;case Vt.dotSeparator:0===i.length&&Le.throwError(Le.unexpectedToken,n);break;case Vt.space:break;case Vt.openingBracket:kh(n,e,t,i);break;default:Le.throwError(Le.unexpectedToken,n)}e=n.next()}return 0===i.length&&Le.throwError(Le.invalidPath,n),i}})),Qo=P(((qg,hf)=>{var qh=Yo(),Th=df(),Ih=zo(),Ze=function(n,e){return Th(new qh(n,e))};hf.exports=Ze,Ze.fromPathsOrPathValues=function(r,n){if(!r)return[];for(var e=[],t=0,i=r.length;t<i;t++)"string"==typeof r[t]?e[t]=Ze(r[t],n):"string"==typeof r[t].path?e[t]={path:Ze(r[t].path,n),value:r[t].value}:e[t]=r[t];return e},Ze.fromPath=function(r,n){return r?"string"==typeof r?Ze(r,n):r:[]},Ze.RoutedTokens=Ih})),xf=P((Jr=>{var vf=br(Et()),Rh=br(kt()),$h=br(Do()),_e=br(It()),Vh=br(No()),Lh=br(Vr());Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Model=void 0;var yf=function(){function r(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,Lh.default)(n,i.key,i)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),Ge=function r(n,e,t){null===n&&(n=Function.prototype);var i=(0,Vh.default)(n,e);if(void 0===i){var o=(0,_e.default)(n);return null===o?void 0:r(o,e,t)}if("value"in i)return i.value;var s=i.get;return void 0===s?void 0:s.call(t)};function br(r){return r&&r.__esModule?r:{default:r}}Ba();var Ut=$t(),Gh=Ja(),Oe=Qo();function mf(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return(0,$h.default)(r)}function _f(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function Lt(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?r:n}function gf(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=(0,Rh.default)(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(vf.default?(0,vf.default)(r,n):r.__proto__=n)}var bf=function(r){function n(){return _f(this,n),Lt(this,(n.__proto__||(0,_e.default)(n)).apply(this,arguments))}return gf(n,r),yf(n,[{key:"get",value:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return new gr(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"get",this).apply(this,(0,Oe.fromPathsOrPathValues)(i)))}},{key:"set",value:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return new gr(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"set",this).apply(this,(0,Oe.fromPathsOrPathValues)(i)))}},{key:"call",value:function(t,i,o,s){return t=(0,Oe.fromPath)(t),o=o&&(0,Oe.fromPathsOrPathValues)(o)||[],s=s&&(0,Oe.fromPathsOrPathValues)(s)||[],new gr(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"call",this).call(this,t,i,o,s))}},{key:"invalidate",value:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return Ut.Observable.fromPromise(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"invalidate",this).apply(this,(0,Oe.fromPathsOrPathValues)(i)))}},{key:"getItems",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return[["length"]]},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(a){a.json.length;return[]},s=(0,Oe.fromPathsOrPathValues)([].concat(i(this)));return 0===s.length?Ut.Observable.empty():this.get.apply(this,mf(s)).mergeMap((function(a){var f=(0,Oe.fromPathsOrPathValues)([].concat(o(a)));return 0===f.length?Ut.Observable.of(a):t.get.apply(t,mf(s.concat(f)))}))}},{key:"preload",value:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return new gr(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"preload",this).apply(this,(0,Oe.fromPathsOrPathValues)(i)))}},{key:"getValue",value:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return new gr(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"getValue",this).apply(this,(0,Oe.fromPathsOrPathValues)(i)))}},{key:"setValue",value:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return new gr(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"setValue",this).apply(this,(0,Oe.fromPathsOrPathValues)(i)))}},{key:"_clone",value:function(t){return new n(Ge(n.prototype.__proto__||(0,_e.default)(n.prototype),"_clone",this).call(this,t))}}]),n}(Gh.Model),gr=function(r){function n(e,t){if(_f(this,n),"function"!=typeof e){var i=Lt(this,(n.__proto__||(0,_e.default)(n)).call(this));e&&(i.source=e),t&&(i.operator=t)}else i=Lt(this,(n.__proto__||(0,_e.default)(n)).call(this,e));return Lt(i)}return gf(n,r),yf(n,[{key:"lift",value:function(t){return new n(this,t)}},{key:"_toJSONG",value:function(){return new n(this.source._toJSONG())}},{key:"progressively",value:function(){return new n(this.source.progressively())}}]),n}(Ut.Observable);Jr.Model=bf,Jr.default=bf})),Sf=P((wf=>{wf.f=Object.getOwnPropertySymbols})),Pf=P(((Mg,Ef)=>{var Wh=Ne(),Of=wo(),Bh=Sf(),Jh=po(),Hh=Fr(),Kh=vo(),Gt=Object.assign;Ef.exports=!Gt||Cr()((function(){var r={},n={},e=Symbol(),t="abcdefghijklmnopqrst";return r[e]=7,t.split("").forEach((function(i){n[i]=i})),7!=Gt({},r)[e]||Object.keys(Gt({},n)).join("")!=t}))?function(n,e){for(var t=Hh(n),i=arguments.length,o=1,s=Bh.f,a=Jh.f;i>o;)for(var y,f=Kh(arguments[o++]),u=s?Of(f).concat(s(f)):Of(f),c=u.length,v=0;c>v;)y=u[v++],(!Wh||a.call(f,y))&&(t[y]=f[y]);return t}:Gt})),Af=P((()=>{var ei=Ve();ei(ei.S+ei.F,"Object",{assign:Pf()})})),kf=P(((Dg,jf)=>{Af(),jf.exports=me().Object.assign})),ri=P((($g,qf)=>{qf.exports={default:kf(),__esModule:!0}})),ni=P((ti=>{Object.defineProperty(ti,"__esModule",{value:!0}),ti.default=function zh(){if(!Wt&&!(Wt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wt(Yh)};var Wt,Yh=new Uint8Array(16)})),Tf=P((Bt=>{Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;Bt.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i})),Hr=P((Jt=>{Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var Zh=function Qh(r){return r&&r.__esModule?r:{default:r}}(Tf());var rv=function ev(r){return"string"==typeof r&&Zh.default.test(r)};Jt.default=rv})),Yr=P((Kr=>{Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.default=void 0,Kr.unsafeStringify=If;var tv=function nv(r){return r&&r.__esModule?r:{default:r}}(Hr());var te=[];for(let r=0;r<256;++r)te.push((r+256).toString(16).slice(1));function If(r,n=0){return(te[r[n+0]]+te[r[n+1]]+te[r[n+2]]+te[r[n+3]]+"-"+te[r[n+4]]+te[r[n+5]]+"-"+te[r[n+6]]+te[r[n+7]]+"-"+te[r[n+8]]+te[r[n+9]]+"-"+te[r[n+10]]+te[r[n+11]]+te[r[n+12]]+te[r[n+13]]+te[r[n+14]]+te[r[n+15]]).toLowerCase()}var iv=function ov(r,n=0){let e=If(r,n);if(!(0,tv.default)(e))throw TypeError("Stringified UUID is invalid");return e};Kr.default=iv})),Cf=P((Ht=>{Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var sv=function av(r){return r&&r.__esModule?r:{default:r}}(ni()),uv=Yr();var Mf,oi,ii=0,si=0;var cv=function fv(r,n,e){let t=n&&e||0,i=n||new Array(16),o=(r=r||{}).node||Mf,s=void 0!==r.clockseq?r.clockseq:oi;if(null==o||null==s){let y=r.random||(r.rng||sv.default)();null==o&&(o=Mf=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==s&&(s=oi=16383&(y[6]<<8|y[7]))}let a=void 0!==r.msecs?r.msecs:Date.now(),f=void 0!==r.nsecs?r.nsecs:si+1,u=a-ii+(f-si)/1e4;if(u<0&&void 0===r.clockseq&&(s=s+1&16383),(u<0||a>ii)&&void 0===r.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ii=a,si=f,oi=s,a+=122192928e5;let c=(1e4*(268435455&a)+f)%4294967296;i[t++]=c>>>24&255,i[t++]=c>>>16&255,i[t++]=c>>>8&255,i[t++]=255&c;let v=a/4294967296*1e4&268435455;i[t++]=v>>>8&255,i[t++]=255&v,i[t++]=v>>>24&15|16,i[t++]=v>>>16&255,i[t++]=s>>>8|128,i[t++]=255&s;for(let y=0;y<6;++y)i[t+y]=o[y];return n||(0,uv.unsafeStringify)(i)};Ht.default=cv})),ui=P((Kt=>{Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0;var lv=function pv(r){return r&&r.__esModule?r:{default:r}}(Hr());var hv=function dv(r){if(!(0,lv.default)(r))throw TypeError("Invalid UUID");let n,e=new Uint8Array(16);return e[0]=(n=parseInt(r.slice(0,8),16))>>>24,e[1]=n>>>16&255,e[2]=n>>>8&255,e[3]=255&n,e[4]=(n=parseInt(r.slice(9,13),16))>>>8,e[5]=255&n,e[6]=(n=parseInt(r.slice(14,18),16))>>>8,e[7]=255&n,e[8]=(n=parseInt(r.slice(19,23),16))>>>8,e[9]=255&n,e[10]=(n=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=n/4294967296&255,e[12]=n>>>24&255,e[13]=n>>>16&255,e[14]=n>>>8&255,e[15]=255&n,e};Kt.default=hv})),ai=P((Qe=>{Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.URL=Qe.DNS=void 0,Qe.default=function gv(r,n,e){function t(i,o,s,a){var f;if("string"==typeof i&&(i=function _v(r){r=unescape(encodeURIComponent(r));let n=[];for(let e=0;e<r.length;++e)n.push(r.charCodeAt(e));return n}(i)),"string"==typeof o&&(o=(0,mv.default)(o)),16!==(null===(f=o)||void 0===f?void 0:f.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=e(u),u[6]=15&u[6]|n,u[8]=63&u[8]|128,s){a=a||0;for(let c=0;c<16;++c)s[a+c]=u[c];return s}return(0,vv.unsafeStringify)(u)}try{t.name=r}catch(i){}return t.DNS=Rf,t.URL=Df,t};var vv=Yr(),mv=function yv(r){return r&&r.__esModule?r:{default:r}}(ui());var Rf="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Qe.DNS=Rf;var Df="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Qe.URL=Df})),Ff=P((zt=>{function $f(r){return 14+(r+64>>>9<<4)+1}function We(r,n){let e=(65535&r)+(65535&n);return(r>>16)+(n>>16)+(e>>16)<<16|65535&e}function Yt(r,n,e,t,i,o){return We(function Ov(r,n){return r<<n|r>>>32-n}(We(We(n,r),We(t,o)),i),e)}function ie(r,n,e,t,i,o,s){return Yt(n&e|~n&t,r,n,i,o,s)}function se(r,n,e,t,i,o,s){return Yt(n&t|e&~t,r,n,i,o,s)}function ue(r,n,e,t,i,o,s){return Yt(n^e^t,r,n,i,o,s)}function ae(r,n,e,t,i,o,s){return Yt(e^(n|~t),r,n,i,o,s)}Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=void 0;var Ev=function bv(r){if("string"==typeof r){let n=unescape(encodeURIComponent(r));r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e)}return function xv(r){let n=[],e=32*r.length,t="0123456789abcdef";for(let i=0;i<e;i+=8){let o=r[i>>5]>>>i%32&255,s=parseInt(t.charAt(o>>>4&15)+t.charAt(15&o),16);n.push(s)}return n}(function wv(r,n){r[n>>5]|=128<<n%32,r[$f(n)-1]=n;let e=1732584193,t=-271733879,i=-1732584194,o=271733878;for(let s=0;s<r.length;s+=16){let a=e,f=t,u=i,c=o;e=ie(e,t,i,o,r[s],7,-680876936),o=ie(o,e,t,i,r[s+1],12,-389564586),i=ie(i,o,e,t,r[s+2],17,606105819),t=ie(t,i,o,e,r[s+3],22,-1044525330),e=ie(e,t,i,o,r[s+4],7,-176418897),o=ie(o,e,t,i,r[s+5],12,1200080426),i=ie(i,o,e,t,r[s+6],17,-1473231341),t=ie(t,i,o,e,r[s+7],22,-45705983),e=ie(e,t,i,o,r[s+8],7,1770035416),o=ie(o,e,t,i,r[s+9],12,-1958414417),i=ie(i,o,e,t,r[s+10],17,-42063),t=ie(t,i,o,e,r[s+11],22,-1990404162),e=ie(e,t,i,o,r[s+12],7,1804603682),o=ie(o,e,t,i,r[s+13],12,-40341101),i=ie(i,o,e,t,r[s+14],17,-1502002290),t=ie(t,i,o,e,r[s+15],22,1236535329),e=se(e,t,i,o,r[s+1],5,-165796510),o=se(o,e,t,i,r[s+6],9,-1069501632),i=se(i,o,e,t,r[s+11],14,643717713),t=se(t,i,o,e,r[s],20,-373897302),e=se(e,t,i,o,r[s+5],5,-701558691),o=se(o,e,t,i,r[s+10],9,38016083),i=se(i,o,e,t,r[s+15],14,-660478335),t=se(t,i,o,e,r[s+4],20,-405537848),e=se(e,t,i,o,r[s+9],5,568446438),o=se(o,e,t,i,r[s+14],9,-1019803690),i=se(i,o,e,t,r[s+3],14,-187363961),t=se(t,i,o,e,r[s+8],20,1163531501),e=se(e,t,i,o,r[s+13],5,-1444681467),o=se(o,e,t,i,r[s+2],9,-51403784),i=se(i,o,e,t,r[s+7],14,1735328473),t=se(t,i,o,e,r[s+12],20,-1926607734),e=ue(e,t,i,o,r[s+5],4,-378558),o=ue(o,e,t,i,r[s+8],11,-2022574463),i=ue(i,o,e,t,r[s+11],16,1839030562),t=ue(t,i,o,e,r[s+14],23,-35309556),e=ue(e,t,i,o,r[s+1],4,-1530992060),o=ue(o,e,t,i,r[s+4],11,1272893353),i=ue(i,o,e,t,r[s+7],16,-155497632),t=ue(t,i,o,e,r[s+10],23,-1094730640),e=ue(e,t,i,o,r[s+13],4,681279174),o=ue(o,e,t,i,r[s],11,-358537222),i=ue(i,o,e,t,r[s+3],16,-722521979),t=ue(t,i,o,e,r[s+6],23,76029189),e=ue(e,t,i,o,r[s+9],4,-640364487),o=ue(o,e,t,i,r[s+12],11,-421815835),i=ue(i,o,e,t,r[s+15],16,530742520),t=ue(t,i,o,e,r[s+2],23,-995338651),e=ae(e,t,i,o,r[s],6,-198630844),o=ae(o,e,t,i,r[s+7],10,1126891415),i=ae(i,o,e,t,r[s+14],15,-1416354905),t=ae(t,i,o,e,r[s+5],21,-57434055),e=ae(e,t,i,o,r[s+12],6,1700485571),o=ae(o,e,t,i,r[s+3],10,-1894986606),i=ae(i,o,e,t,r[s+10],15,-1051523),t=ae(t,i,o,e,r[s+1],21,-2054922799),e=ae(e,t,i,o,r[s+8],6,1873313359),o=ae(o,e,t,i,r[s+15],10,-30611744),i=ae(i,o,e,t,r[s+6],15,-1560198380),t=ae(t,i,o,e,r[s+13],21,1309151649),e=ae(e,t,i,o,r[s+4],6,-145523070),o=ae(o,e,t,i,r[s+11],10,-1120210379),i=ae(i,o,e,t,r[s+2],15,718787259),t=ae(t,i,o,e,r[s+9],21,-343485551),e=We(e,a),t=We(t,f),i=We(i,u),o=We(o,c)}return[e,t,i,o]}(function Sv(r){if(0===r.length)return[];let n=8*r.length,e=new Uint32Array($f(n));for(let t=0;t<n;t+=8)e[t>>5]|=(255&r[t/8])<<t%32;return e}(r),8*r.length))};zt.default=Ev})),Vf=P((Xt=>{Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var Pv=Nf(ai()),Av=Nf(Ff());function Nf(r){return r&&r.__esModule?r:{default:r}}var kv=(0,Pv.default)("v3",48,Av.default);Xt.default=kv})),Uf=P((Zt=>{Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.default=void 0;var Tv={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};Zt.default=Tv})),Wf=P((Qt=>{Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=void 0;var Lf=Gf(Uf()),Iv=Gf(ni()),Mv=Yr();function Gf(r){return r&&r.__esModule?r:{default:r}}var Rv=function Cv(r,n,e){if(Lf.default.randomUUID&&!n&&!r)return Lf.default.randomUUID();let t=(r=r||{}).random||(r.rng||Iv.default)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,n){e=e||0;for(let i=0;i<16;++i)n[e+i]=t[i];return n}return(0,Mv.unsafeStringify)(t)};Qt.default=Rv})),Bf=P((en=>{function Dv(r,n,e,t){switch(r){case 0:return n&e^~n&t;case 1:case 3:return n^e^t;case 2:return n&e^n&t^e&t}}function fi(r,n){return r<<n|r>>>32-n}Object.defineProperty(en,"__esModule",{value:!0}),en.default=void 0;var Fv=function $v(r){let n=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof r){let s=unescape(encodeURIComponent(r));r=[];for(let a=0;a<s.length;++a)r.push(s.charCodeAt(a))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let t=r.length/4+2,i=Math.ceil(t/16),o=new Array(i);for(let s=0;s<i;++s){let a=new Uint32Array(16);for(let f=0;f<16;++f)a[f]=r[64*s+4*f]<<24|r[64*s+4*f+1]<<16|r[64*s+4*f+2]<<8|r[64*s+4*f+3];o[s]=a}o[i-1][14]=8*(r.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(r.length-1)&4294967295;for(let s=0;s<i;++s){let a=new Uint32Array(80);for(let m=0;m<16;++m)a[m]=o[s][m];for(let m=16;m<80;++m)a[m]=fi(a[m-3]^a[m-8]^a[m-14]^a[m-16],1);let f=e[0],u=e[1],c=e[2],v=e[3],y=e[4];for(let m=0;m<80;++m){let h=Math.floor(m/20),d=fi(f,5)+Dv(h,u,c,v)+y+n[h]+a[m]>>>0;y=v,v=c,c=fi(u,30)>>>0,u=f,f=d}e[0]=e[0]+f>>>0,e[1]=e[1]+u>>>0,e[2]=e[2]+c>>>0,e[3]=e[3]+v>>>0,e[4]=e[4]+y>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,255&e[0],e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,255&e[1],e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,255&e[2],e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,255&e[3],e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,255&e[4]]};en.default=Fv})),Hf=P((rn=>{Object.defineProperty(rn,"__esModule",{value:!0}),rn.default=void 0;var Nv=Jf(ai()),Vv=Jf(Bf());function Jf(r){return r&&r.__esModule?r:{default:r}}var Lv=(0,Nv.default)("v5",80,Vv.default);rn.default=Lv})),Kf=P((tn=>{Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;tn.default="00000000-0000-0000-0000-000000000000"})),Yf=P((nn=>{Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=void 0;var Wv=function Bv(r){return r&&r.__esModule?r:{default:r}}(Hr());var Hv=function Jv(r){if(!(0,Wv.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)};nn.default=Hv})),zf=P((Ee=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Object.defineProperty(Ee,"NIL",{enumerable:!0,get:function(){return Zv.default}}),Object.defineProperty(Ee,"parse",{enumerable:!0,get:function(){return tm.default}}),Object.defineProperty(Ee,"stringify",{enumerable:!0,get:function(){return rm.default}}),Object.defineProperty(Ee,"v1",{enumerable:!0,get:function(){return Kv.default}}),Object.defineProperty(Ee,"v3",{enumerable:!0,get:function(){return Yv.default}}),Object.defineProperty(Ee,"v4",{enumerable:!0,get:function(){return zv.default}}),Object.defineProperty(Ee,"v5",{enumerable:!0,get:function(){return Xv.default}}),Object.defineProperty(Ee,"validate",{enumerable:!0,get:function(){return em.default}}),Object.defineProperty(Ee,"version",{enumerable:!0,get:function(){return Qv.default}});var Kv=$e(Cf()),Yv=$e(Vf()),zv=$e(Wf()),Xv=$e(Hf()),Zv=$e(Kf()),Qv=$e(Yf()),em=$e(Hr()),rm=$e(Yr()),tm=$e(ui());function $e(r){return r&&r.__esModule?r:{default:r}}})),ci=P((on=>{var om=Xf(Vr()),sm=Xf(ri());Object.defineProperty(on,"__esModule",{value:!0}),on.FalcorPubSubDataSource=void 0;var um=sm.default||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},am=function(){function r(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,om.default)(n,i.key,i)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}();function Xf(r){return r&&r.__esModule?r:{default:r}}var fm=zf();on.FalcorPubSubDataSource=function(){function r(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"falcor-operation",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cancel-falcor-operation";(function cm(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,r),this.event=t,this.model=e,this.cancel=i,this.emitter=n}return am(r,[{key:"call",value:function(e,t,i,o){return Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),this.operation("call",{callPath:e,callArgs:t,suffixes:i,thisPaths:o})}},{key:"get",value:function(e){return this.operation("get",{pathSets:e})}},{key:"set",value:function(e){return this.operation("set",{jsonGraphEnvelope:e})}},{key:"operation",value:function(e,t){return{subscribe:lm.bind(this,e,t)}}}]),r}();function lm(r,n,e){"function"==typeof e&&(e={onNext:e,onError:arguments.length<=3?void 0:arguments[3],onCompleted:arguments.length<=4?void 0:arguments[4]});var t=this.event,i=this.cancel,o=this.model,s=this.emitter;if(s&&"closed"!==s.readyState&&"closing"!==s.readyState){var a=function l(p,g){var x=p.kind,_=p.value,b=p.error;if(!f)switch(x){case"N":e.onNext&&e.onNext(_);break;case"E":f=!0;try{s.removeListener(c)}catch(w){}s.removeListener(c,l),void 0!==_&&e.onNext&&e.onNext(_),e.onError&&e.onError(b);break;case"C":f=!0;try{s.removeListener(c)}catch(w){}s.removeListener(c,l),void 0!==_&&e.onNext&&e.onNext(_),e.onCompleted&&e.onCompleted()}"function"==typeof g&&g()},f=!1,u=(0,fm.v4)(),c=t+"-"+u,v=i+"-"+u;return s.on(c,a),s.emit(t,um({id:u,method:r},n)),{unsubscribe:function(){this.dispose()},dispose:function(){if(!f){f=!0;try{s.removeListener(c)}catch(p){}s.removeListener(c,a),s.emit(v)}}}}if(o){var y=void 0,m=void 0,h=void 0,d=void 0;"set"===r?d=n.jsonGraphEnvelope:("get"===r||"call"===r)&&(d={},h=n.pathSets,"call"===r&&(m=n.callPath,y=m.slice(0,-1),h=(h=n.thisPaths||[]).map((function(l){return y.concat(l)}))),o._getPathValuesAsJSONG(o._materialize().withoutDataSource().treatErrorsAsValues(),h,d,!1,!1)),e.onNext&&e.onNext(d)}return e.onCompleted&&e.onCompleted(),{dispose:function(){},unsubscribe:function(){}}}})),sn=P((li=>{var dm=Zf(Vr()),vm=Zf(ri());Object.defineProperty(li,"__esModule",{value:!0});var mm=vm.default||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},ym=function(){function r(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,dm.default)(n,i.key,i)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}();function Zf(r){return r&&r.__esModule?r:{default:r}}li.PostMessageEmitter=function(){function r(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"falcor-operation",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cancel-falcor-operation";(function gm(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,r),this.sink=e,this.event=i,this.cancel=o,this.source=n,this.listeners={},this.targetOrigin=t,this.onPostMessage=this.onPostMessage.bind(this),n.addEventListener("message",this.onPostMessage)}return ym(r,[{key:"onPostMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,i=void 0===t?{}:t,o=this.targetOrigin,s=i.type,a=function _m(r,n){var e={};for(var t in r)n.indexOf(t)>=0||!Object.prototype.hasOwnProperty.call(r,t)||(e[t]=r[t]);return e}(i,["type"]);if(s&&("*"===o||o===e.origin)&&(~s.indexOf(this.event)||~s.indexOf(this.cancel))){var u=this.listeners[s];u&&u.slice(0).forEach((function(c){return c&&c(a)}))}}},{key:"on",value:function(e,t){var i=this.listeners,o=i[e]||(i[e]=[]);-1===o.indexOf(t)&&o.push(t)}},{key:"off",value:function(){return this.removeListener.apply(this,arguments)}},{key:"removeListener",value:function(e,t){var i=this.listeners,o=i[e],s=o&&o.indexOf(t)||-1;~s&&o.splice(s,1),o&&0===o.length&&delete i[e]}},{key:"emit",value:function(e,t){this.sink&&this.sink.postMessage(mm({type:e},t),this.targetOrigin||"*")}},{key:"dispose",value:function(){var e=this.source;this.sink=null,this.target=null,this.source=null,this.listeners=null,e&&e.removeEventListener("message",this.onPostMessage)}}]),r}()})),ec=P((un=>{var xm=pi(It()),Qf=pi(Et()),Om=pi(kt());function pi(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(un,"__esModule",{value:!0}),un.PostMessageDataSource=void 0;var Em=sn(),Pm=ci();un.PostMessageDataSource=function(r){function n(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"falcor-operation",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"cancel-falcor-operation";return function Am(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function jm(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?r:n}(this,(n.__proto__||(0,xm.default)(n)).call(this,new Em.PostMessageEmitter(e,t,o,s,a),i,s,a))}return function km(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=(0,Om.default)(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Qf.default?(0,Qf.default)(r,n):r.__proto__=n)}(n,r),n}(Pm.FalcorPubSubDataSource)})),hi=P((di=>{var Tm=function Im(r){return r&&r.__esModule?r:{default:r}}(Do());Object.defineProperty(di,"__esModule",{value:!0});di.FalcorPubSubDataSink=function r(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"falcor-operation",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cancel-falcor-operation";(function Cm(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,r),this.event=t,this.cancel=i,this.emitter=n,this.getDataSource=e,this.response=Rm.bind(this)};function Rm(r){var n=r.id,e=r.callPath,t=r.callArgs,i=r.jsonGraphEnvelope,o=r.method,s=r.pathSets,a=r.suffixes,f=r.thisPaths,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.emitter,c=void 0;if("call"===o)c=[e,t,a,f];else if("get"===o)c=[s];else{if("set"!==o)throw new Error(o+" is not a valid method");c=[i]}var v=this.event,y=this.cancel,m=this.getDataSource,h=v+"-"+n,d=y+"-"+n,l={},p=!1,g=void 0,x=m(u),_=x._streaming||!1;function b(){if(p)return!1;p=!0;try{u.removeListener(d)}catch(w){}return u.removeListener(d,b),!!l&&("function"==typeof l.dispose?l.dispose():"function"==typeof l.unsubscribe?l.unsubscribe():"function"==typeof l&&l(),l=null,!0)}u.on(d,b),l=x[o].apply(x,function Mm(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return(0,Tm.default)(r)}(c)).subscribe((function(w){g=w,!p&&_&&u.emit(h,{kind:"N",value:g})}),(function(w){b()&&(_||void 0===g?u.emit(h,{kind:"E",error:w}):u.emit(h,{kind:"E",error:w,value:g}))}),(function(){b()&&(_||void 0===g?u.emit(h,{kind:"C"}):u.emit(h,{kind:"C",value:g}))}))}})),sc=P((fn=>{var rc=zr(Et()),Fm=zr(kt()),Vm=zr(Vr()),an=zr(It()),Gm=zr(No());Object.defineProperty(fn,"__esModule",{value:!0}),fn.PostMessageDataSink=void 0;var Wm=function r(n,e,t){null===n&&(n=Function.prototype);var i=(0,Gm.default)(n,e);if(void 0===i){var o=(0,an.default)(n);return null===o?void 0:r(o,e,t)}if("value"in i)return i.value;var s=i.get;return void 0===s?void 0:s.call(t)},tc=function(){function r(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,Vm.default)(n,i.key,i)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}();function zr(r){return r&&r.__esModule?r:{default:r}}var Bm=sn(),Jm=hi();function nc(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function oc(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?r:n}function ic(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=(0,Fm.default)(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(rc.default?(0,rc.default)(r,n):r.__proto__=n)}fn.PostMessageDataSink=function(r){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"falcor-operation",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cancel-falcor-operation";nc(this,n);var a=oc(this,(n.__proto__||(0,an.default)(n)).call(this,null,e,o,s));return a.source=t,a.targetOrigin=i,a.onPostMessage=a.onPostMessage.bind(a),t.addEventListener("message",a.onPostMessage),a}return ic(n,r),tc(n,[{key:"onPostMessage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.data,o=void 0===i?{}:i,s=this.targetOrigin;o.type!==this.event||"*"!==s&&s!==t.origin||this.response(o,new Hm(this.source,t.source,this.targetOrigin,this.event,this.cancel))}},{key:"dispose",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){var t=this.source;this.source=null,t&&t.removeEventListener("message",this.onPostMessage)}}]),n}(Jm.FalcorPubSubDataSink);var Hm=function(r){function n(){return nc(this,n),oc(this,(n.__proto__||(0,an.default)(n)).apply(this,arguments))}return ic(n,r),tc(n,[{key:"emit",value:function(t,i){var s=(i||{}).kind,a=Wm(n.prototype.__proto__||(0,an.default)(n.prototype),"emit",this).call(this,t,i);return("E"===s||"C"===s)&&this.dispose(),a}}]),n}(Bm.PostMessageEmitter)})),uc=P((er=>{Object.defineProperty(er,"__esModule",{value:!0});var Km=ci();Object.defineProperty(er,"FalcorPubSubDataSource",{enumerable:!0,get:function(){return Km.FalcorPubSubDataSource}});var Ym=ec();Object.defineProperty(er,"PostMessageDataSource",{enumerable:!0,get:function(){return Ym.PostMessageDataSource}});var zm=hi();Object.defineProperty(er,"FalcorPubSubDataSink",{enumerable:!0,get:function(){return zm.FalcorPubSubDataSink}});var Xm=sc();Object.defineProperty(er,"PostMessageDataSink",{enumerable:!0,get:function(){return Xm.PostMessageDataSink}});var Zm=sn();Object.defineProperty(er,"PostMessageEmitter",{enumerable:!0,get:function(){return Zm.PostMessageEmitter}})})),fc=P(((lb,ac)=>{var vi=Qo().fromPath;function cn(r,n,e){var t=Object.create(null);if(null!=e)for(var i in e)t[i]=e[i];return t.$type=r,t.value=n,t}var ee={ref:function(n,e){return cn("ref",vi(n),e)},atom:function(n,e){return cn("atom",n,e)},undefined:function(r){return cn("atom",void 0,r)},error:function(n,e){return cn("error",n,e)},pathValue:function(n,e){return{path:vi(n),value:e}},pathInvalidation:function(n){return{path:vi(n),invalidated:!0}}};ee.$ref=ee.ref,ee.$atom=ee.atom,ee.$error=ee.error,ee.empty=ee.undefined,ee.$empty=ee.undefined,ee.$value=ee.pathValue,ee.$pathValue=ee.pathValue,ee.$invalidate=ee.pathInvalidation,ee.$invalidation=ee.pathInvalidation,ac.exports=ee})),Uc=P(((jb,bn)=>{var mc,yc,_c,gc,bc,xc,wc,Sc,Oc,Ec,Pc,Ac,jc,_n,Si,kc,qc,Tc,xr,Ic,Mc,Cc,Rc,Dc,$c,Fc,Nc,Vc,gn;!function(r){var n="object"==typeof __webpack_require__.g?__webpack_require__.g:"object"==typeof self?self:"object"==typeof this?this:{};function e(t,i){return t!==n&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(o,s){return t[o]=i?i(o,s):s}}"function"==typeof define&&__webpack_require__.amdO?define("tslib",["exports"],(function(t){r(e(n,e(t)))})):"object"==typeof bn&&"object"==typeof bn.exports?r(e(n,e(bn.exports))):r(e(n))}((function(r){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])};mc=function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)},yc=Object.assign||function(t){for(var i,o=1,s=arguments.length;o<s;o++)for(var a in i=arguments[o])Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);return t},_c=function(t,i){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(o[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(o[s[a]]=t[s[a]])}return o},gc=function(t,i,o,s){var u,a=arguments.length,f=a<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(t,i,o,s);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(f=(a<3?u(f):a>3?u(i,o,f):u(i,o))||f);return a>3&&f&&Object.defineProperty(i,o,f),f},bc=function(t,i){return function(o,s){i(o,s,t)}},xc=function(t,i,o,s,a,f){function u(_){if(void 0!==_&&"function"!=typeof _)throw new TypeError("Function expected");return _}for(var h,c=s.kind,v="getter"===c?"get":"setter"===c?"set":"value",y=!i&&t?s.static?t:t.prototype:null,m=i||(y?Object.getOwnPropertyDescriptor(y,s.name):{}),d=!1,l=o.length-1;l>=0;l--){var p={};for(var g in s)p[g]="access"===g?{}:s[g];for(var g in s.access)p.access[g]=s.access[g];p.addInitializer=function(_){if(d)throw new TypeError("Cannot add initializers after decoration has completed");f.push(u(_||null))};var x=(0,o[l])("accessor"===c?{get:m.get,set:m.set}:m[v],p);if("accessor"===c){if(void 0===x)continue;if(null===x||"object"!=typeof x)throw new TypeError("Object expected");(h=u(x.get))&&(m.get=h),(h=u(x.set))&&(m.set=h),(h=u(x.init))&&a.push(h)}else(h=u(x))&&("field"===c?a.push(h):m[v]=h)}y&&Object.defineProperty(y,s.name,m),d=!0},wc=function(t,i,o){for(var s=arguments.length>2,a=0;a<i.length;a++)o=s?i[a].call(t,o):i[a].call(t);return s?o:void 0},Sc=function(t){return"symbol"==typeof t?t:"".concat(t)},Oc=function(t,i,o){return"symbol"==typeof i&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},Ec=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},Pc=function(t,i,o,s){return new(o||(o=Promise))((function(f,u){function c(m){try{y(s.next(m))}catch(h){u(h)}}function v(m){try{y(s.throw(m))}catch(h){u(h)}}function y(m){m.done?f(m.value):function a(f){return f instanceof o?f:new o((function(u){u(f)}))}(m.value).then(c,v)}y((s=s.apply(t,i||[])).next())}))},Ac=function(t,i){var s,a,f,u,o={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(y){return function(m){return function v(y){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,y[0]&&(o=0)),o;)try{if(s=1,a&&(f=2&y[0]?a.return:y[0]?a.throw||((f=a.return)&&f.call(a),0):a.next)&&!(f=f.call(a,y[1])).done)return f;switch(a=0,f&&(y=[2&y[0],f.value]),y[0]){case 0:case 1:f=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,a=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(!(f=(f=o.trys).length>0&&f[f.length-1])&&(6===y[0]||2===y[0])){o=0;continue}if(3===y[0]&&(!f||y[1]>f[0]&&y[1]<f[3])){o.label=y[1];break}if(6===y[0]&&o.label<f[1]){o.label=f[1],f=y;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(y);break}f[2]&&o.ops.pop(),o.trys.pop();continue}y=i.call(t,o)}catch(m){y=[6,m],a=0}finally{s=f=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([y,m])}}},jc=function(t,i){for(var o in t)"default"!==o&&!Object.prototype.hasOwnProperty.call(i,o)&&gn(i,t,o)},gn=Object.create?function(t,i,o,s){void 0===s&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(t,s,a)}:function(t,i,o,s){void 0===s&&(s=o),t[s]=i[o]},_n=function(t){var i="function"==typeof Symbol&&Symbol.iterator,o=i&&t[i],s=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Si=function(t,i){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var a,u,s=o.call(t),f=[];try{for(;(void 0===i||i-- >0)&&!(a=s.next()).done;)f.push(a.value)}catch(c){u={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(u)throw u.error}}return f},kc=function(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(Si(arguments[i]));return t},qc=function(){for(var t=0,i=0,o=arguments.length;i<o;i++)t+=arguments[i].length;var s=Array(t),a=0;for(i=0;i<o;i++)for(var f=arguments[i],u=0,c=f.length;u<c;u++,a++)s[a]=f[u];return s},Tc=function(t,i,o){if(o||2===arguments.length)for(var f,s=0,a=i.length;s<a;s++)(f||!(s in i))&&(f||(f=Array.prototype.slice.call(i,0,s)),f[s]=i[s]);return t.concat(f||Array.prototype.slice.call(i))},xr=function(t){return this instanceof xr?(this.v=t,this):new xr(t)},Ic=function(t,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=o.apply(t,i||[]),f=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(d){s[d]&&(a[d]=function(l){return new Promise((function(p,g){f.push([d,l,p,g])>1||c(d,l)}))})}function c(d,l){try{!function v(d){d.value instanceof xr?Promise.resolve(d.value.v).then(y,m):h(f[0][2],d)}(s[d](l))}catch(p){h(f[0][3],p)}}function y(d){c("next",d)}function m(d){c("throw",d)}function h(d,l){d(l),f.shift(),f.length&&c(f[0][0],f[0][1])}},Mc=function(t){var i,o;return i={},s("next"),s("throw",(function(a){throw a})),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,f){i[a]=t[a]?function(u){return(o=!o)?{value:xr(t[a](u)),done:!1}:f?f(u):u}:f}},Cc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=t[Symbol.asyncIterator];return i?i.call(t):(t=_n(t),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=t[f]&&function(u){return new Promise((function(c,v){(function a(f,u,c,v){Promise.resolve(v).then((function(y){f({value:y,done:c})}),u)})(c,v,(u=t[f](u)).done,u.value)}))}}},Rc=function(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t};var e=Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i};Dc=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var o in t)"default"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&gn(i,t,o);return e(i,t),i},$c=function(t){return t&&t.__esModule?t:{default:t}},Fc=function(t,i,o,s){if("a"===o&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!s:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?s:"a"===o?s.call(t):s?s.value:i.get(t)},Nc=function(t,i,o,s,a){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!a:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?a.call(t,o):a?a.value=o:i.set(t,o),o},Vc=function(t,i){if(null===i||"object"!=typeof i&&"function"!=typeof i)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?i===t:t.has(i)},r("__extends",mc),r("__assign",yc),r("__rest",_c),r("__decorate",gc),r("__param",bc),r("__esDecorate",xc),r("__runInitializers",wc),r("__propKey",Sc),r("__setFunctionName",Oc),r("__metadata",Ec),r("__awaiter",Pc),r("__generator",Ac),r("__exportStar",jc),r("__createBinding",gn),r("__values",_n),r("__read",Si),r("__spread",kc),r("__spreadArrays",qc),r("__spreadArray",Tc),r("__await",xr),r("__asyncGenerator",Ic),r("__asyncDelegator",Mc),r("__asyncValues",Cc),r("__makeTemplateObject",Rc),r("__importStar",Dc),r("__importDefault",$c),r("__classPrivateFieldGet",Fc),r("__classPrivateFieldSet",Nc),r("__classPrivateFieldIn",Vc)}))})),Tl=Ir(Xi()),Il=Ir(xf()),Ml=Ir(uc()),L=Ir(fc()),ln=function(r,n,e,t){return new(e||(e=Promise))((function(o,s){function a(c){try{u(t.next(c))}catch(v){s(v)}}function f(c){try{u(t.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((t=t.apply(r,n||[])).next())}))},pn=function(r,n){var t,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(r,e)}catch(c){u=[6,c],i=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},dn=function(){function r(n,e,t,i,o,s,a){void 0===e&&(e="https"),void 0===t&&(t="hub.graphistry.com"),void 0===o&&(o=fetch),void 0===a&&(a="@graphistry/js-upload-api"),this.org=n,this.protocol=e,this.host=t,this.fetch=o,this.version=s,this.agent=a,this.clientProtocolHostname=i||"".concat(e,"://").concat(t)}return r.prototype.setToken=function(n){return this._token=n,this},r.prototype.authTokenValid=function(){return Boolean(this._token)},r.prototype.post=function(n,e,t){return void 0===t&&(t=void 0),ln(this,void 0,void 0,(function(){var i,o;return pn(this,(function(s){switch(s.label){case 0:return console.debug("post",{uri:n,payload:e}),[4,this.getSecureHeaders(t)];case 1:return i=s.sent(),console.debug("post",{headers:i}),[4,this.postToApi(n,e,i)];case 2:return[4,s.sent().json()];case 3:return o=s.sent(),console.debug("post response",{uri:n,payload:e,response:o}),[2,o]}}))}))},r.isConfigurationValid=function(n,e,t){return console.debug("isConfigurationValid",{userId:n,secret:e,host:t}),""!==(n||"")&&""!==(e||"")&&""!==(t||"")},r.prototype.getToApi=function(n,e,t){return ln(this,void 0,void 0,(function(){var i,o;return pn(this,(function(s){switch(s.label){case 0:return i=this.fetch,console.debug("getToApi",{url:n,headers:e}),[4,i((null!=t?t:this.getBaseUrl())+n,{method:"GET",headers:e})];case 1:return o=s.sent(),console.debug("getToApi",{url:n,headers:e}),[2,o]}}))}))},r.prototype.postToApi=function(n,e,t,i){return ln(this,void 0,void 0,(function(){var o,s;return pn(this,(function(a){switch(a.label){case 0:return o=this.fetch,console.debug("postToApi",{url:n,data:e,headers:t}),[4,o((null!=i?i:this.getBaseUrl())+n,{method:"POST",headers:t,body:!ArrayBuffer.isView(e)||e instanceof DataView?JSON.stringify(e):e})];case 1:return s=a.sent(),console.debug("postToApi",{url:n,data:e,headers:t,response:s}),[2,s]}}))}))},r.prototype.getBaseHeaders=function(){return{Accept:"application/json","Content-Type":"application/json"}},r.prototype.getBaseUrl=function(){return"".concat(this.protocol,"://").concat(this.host,"/")},r.prototype.getSecureHeaders=function(n){return ln(this,void 0,void 0,(function(){var e,t;return pn(this,(function(i){switch(i.label){case 0:return e=n||this.getBaseHeaders(),[4,this.getAuthToken()];case 1:return t=i.sent(),console.debug("getSecureHeaders",{headers:e,tok:t}),e.Authorization="Bearer ".concat(t),console.debug("getSecureHeaders",{headers:e}),[2,e]}}))}))},r}(),Qm=(r=function(n,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])})(n,e)},function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}r(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),Xr=function(){return Xr=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r},Xr.apply(this,arguments)},cc=function(r,n,e,t){return new(e||(e=Promise))((function(o,s){function a(c){try{u(t.next(c))}catch(v){s(v)}}function f(c){try{u(t.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((t=t.apply(r,n||[])).next())}))},lc=function(r,n){var t,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(r,e)}catch(c){u=[6,c],i=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},pc="api/v2/auth/token/generate",mi=function(r){function n(e,t,i,o,s,a,f,u,c){void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),void 0===c&&(c="@graphistry/js-upload-api");var v=r.call(this,i,o,s,a,f,u,c)||this;return v.username=e,v._password=t,v.isServerConfigured()&&(v._getAuthTokenPromise=v.getAuthToken()),v}return Qm(n,r),n.prototype.isServerConfigured=function(){return""!==(this.username||"")&&""!==(this._password||"")&&""!==(this.host||"")},n.prototype.checkStale=function(e,t,i,o,s){return this.username!==e||this._password!==t||this.protocol!==i||this.host!==o||this.clientProtocolHostname!==s},n.prototype.getAuthToken=function(e){return void 0===e&&(e=!1),cc(this,void 0,void 0,(function(){var t,i;return lc(this,(function(o){switch(o.label){case 0:if(!e&&this.authTokenValid())return[2,this._token||""];if(!this.isServerConfigured())throw new Error("Invalid username or password");return!e&&this._getAuthTokenPromise?[4,this._getAuthTokenPromise]:[3,2];case 1:return[2,o.sent()];case 2:return[4,this.postToApi(pc,Xr({username:this.username,password:this._password},this.org?{org_name:this.org}:{}),this.getBaseHeaders())];case 3:return[4,(t=o.sent()).json()];case 4:if(t=o.sent(),i=t.token,this._token=i,!this.authTokenValid())throw console.error("auth token failure",{response:t,username:this.username,host:this.host}),new Error(Xr({error:"Auth token failure"},t||{}));return[2,i]}}))}))},n.prototype.fetchToken=function(e,t,i,o,s){return void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),cc(this,void 0,void 0,(function(){return lc(this,(function(f){switch(f.label){case 0:return[4,this.postToApi(pc,Xr({username:e,password:t},i?{org_name:i}:{}),this.getBaseHeaders(),"".concat(o,"://").concat(s,"/"))];case 1:return[4,f.sent().json()];case 2:return[2,f.sent().token]}}))}))},n}(dn),e0=function(){var r=function(n,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}r(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),rr=function(){return rr=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r},rr.apply(this,arguments)},dc=function(r,n,e,t){return new(e||(e=Promise))((function(o,s){function a(c){try{u(t.next(c))}catch(v){s(v)}}function f(c){try{u(t.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((t=t.apply(r,n||[])).next())}))},hc=function(r,n){var t,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(r,e)}catch(c){u=[6,c],i=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},hn="api/v2/auth/pkey/jwt/",yi=function(r){function n(e,t,i,o,s,a,f,u,c){void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),void 0===c&&(c="@graphistry/js-upload-api");var v=r.call(this,i,o,s,a,f,u,c)||this;return v.personalKeyId=e,v._personalKeySecret=t,v.isServerConfigured()&&(v._getAuthTokenPromise=v.getAuthToken()),v}return e0(n,r),n.prototype.isServerConfigured=function(){return""!==(this.personalKeyId||"")&&""!==(this._personalKeySecret||"")&&""!==(this.host||"")},n.prototype.checkStale=function(e,t,i,o,s){return this.personalKeyId!==e||this._personalKeySecret!==t||this.protocol!==i||this.host!==o||this.clientProtocolHostname!==s},n.prototype.getPKeyString=function(e,t){return"PersonalKey ".concat(e,":").concat(t)},n.prototype.getAuthToken=function(e){return void 0===e&&(e=!1),dc(this,void 0,void 0,(function(){var t,i;return hc(this,(function(o){switch(o.label){case 0:if(!e&&this.authTokenValid())return[2,this._token||""];if(!this.isServerConfigured())throw new Error("Invalid personalKeyId or personalKeySecret");return!e&&this._getAuthTokenPromise?[4,this._getAuthTokenPromise]:[3,2];case 1:return[2,o.sent()];case 2:return[4,this.postToApi(hn,rr({},this.org?{org_name:this.org}:{}),rr({Authorization:this.getPKeyString(this.personalKeyId,this._personalKeySecret)},this.getBaseHeaders()))];case 3:return 405!==(t=o.sent()).status?[3,5]:(this.org&&console.warn("Host does not support org auth via PKey, use username/password auth instead"),[4,this.getToApi(hn,{Authorization:this.getPKeyString(this.personalKeyId,this._personalKeySecret)})]);case 4:t=o.sent(),o.label=5;case 5:return[4,t.json()];case 6:if(t=o.sent(),i=t.token,this._token=i,!this.authTokenValid())throw console.error("auth token failure",{response:t,personalKeyId:this.personalKeyId,host:this.host}),new Error(rr({error:"Auth token failure"},t||{}));return[2,i]}}))}))},n.prototype.fetchToken=function(e,t,i,o,s){return void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),dc(this,void 0,void 0,(function(){var a;return hc(this,(function(f){switch(f.label){case 0:return[4,this.postToApi(hn,rr({},i?{org_name:i}:{}),rr({Authorization:this.getPKeyString(e,t)},this.getBaseHeaders()),"".concat(o,"://").concat(s,"/"))];case 1:return 405!==(a=f.sent()).status?[3,3]:(i&&console.warn("Host does not support org auth via PKey, use username/password auth instead"),[4,this.getToApi(hn,{Authorization:this.getPKeyString(e,t)},"".concat(o,"://").concat(s,"/"))]);case 2:a=f.sent(),f.label=3;case 3:return[4,a.json()];case 4:return[2,(a=f.sent()).token]}}))}))},n}(dn),vc=function(){var r=function(n,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}r(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),vn=function(){return vn=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r},vn.apply(this,arguments)},_i=function(r,n,e,t){return new(e||(e=Promise))((function(o,s){function a(c){try{u(t.next(c))}catch(v){s(v)}}function f(c){try{u(t.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((t=t.apply(r,n||[])).next())}))},gi=function(r,n){var t,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(r,e)}catch(c){u=[6,c],i=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};!function(r){r[r.Node=0]="Node",r[r.Edge=1]="Edge"}(Be||(Be={}));var Zr=function(){function r(n,e,t,i,o,s){void 0===e&&(e=void 0),void 0===t&&(t="json"),void 0===i&&(i="my file"),void 0===o&&(o={}),void 0===s&&(s=""),this._fileCreated=!1,this._fileUploaded=!1,this._fileValidated=!1,"string"==typeof e?(this._fileID=e,this._fileCreated=!0,this._fileUploaded=!0):this._data=e,this.createOpts=o,this.uploadUrlOpts=s,this.fileFormat=t,this.name=i,this.type=n}return Object.defineProperty(r.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fileID",{get:function(){return this._fileID},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fileCreated",{get:function(){return this._fileCreated},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fileCreateResponse",{get:function(){return this._fileCreateResponse},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fileUploaded",{get:function(){return this._fileUploaded},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fileValidated",{get:function(){return this._fileValidated},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fileUploadResponse",{get:function(){return this._fileUploadResponse},enumerable:!1,configurable:!0}),r.prototype.upload=function(n,e){return void 0===e&&(e=!1),_i(this,void 0,void 0,(function(){return gi(this,(function(t){switch(t.label){case 0:if(!n)throw new Error("No client provided");return[4,this.createFile(n,e)];case 1:if(t.sent(),!this._fileID)throw new Error("Unexpected file creation response, check file._fileCreateResponse");return[4,this.uploadData(n,e)];case 2:if(t.sent(),!this._fileCreated)throw new Error("Unexpected file upload response, check file._fileUploadResponse");if(!this._fileValidated)throw new Error("Unexpected file validation response, check file._fileValidateResponse");return[2,this]}}))}))},r.prototype.createFile=function(n,e){return void 0===e&&(e=!1),_i(this,void 0,void 0,(function(){var t;return gi(this,(function(i){switch(i.label){case 0:return!e&&this._fileCreated?(console.debug("File already created, skipping"),[2,this._fileCreated]):(console.debug("Creating file"),[4,n.post("api/v2/files/",vn(vn({file_type:this.fileFormat},n.org?{org_name:n.org}:{}),this.createOpts))]);case 1:return t=i.sent(),console.debug("File creation response:",t),this._fileCreateResponse=t,this._fileID=t.file_id,this._fileCreated=!!t.file_id,[2,t]}}))}))},r.prototype.uploadData=function(n,e){return void 0===e&&(e=!1),_i(this,void 0,void 0,(function(){var t;return gi(this,(function(i){switch(i.label){case 0:return!e&&this._fileUploaded?[2,this._fileUploaded]:(this.fillMetadata(this._data,n),[4,n.post("api/v2/upload/files/".concat(this._fileID).concat(this.uploadUrlOpts?"?".concat(this.uploadUrlOpts):""),this._data,"json"!=this.fileFormat?{}:void 0)]);case 1:return t=i.sent(),this._fileUploadResponse=t,this._fileUploaded=!!t.is_uploaded,this._fileValidated=!!t.is_valid,[2,t]}}))}))},r.prototype.setData=function(n){if(this._fileUploaded)throw new Error("Cannot set data after file has been successfully uploaded");this._data=n},r.prototype.fillMetadata=function(n,e){if(!n)throw new Error("No data to fill metadata; call setData() first or provide to File constructor");n instanceof Uint8Array||(n.agent_name||(n.agent_name=e.agent),n.agent_version||(n.agent_version=e.version))},r}(),Qr=function(r){function n(e,t,i,o,s){return void 0===e&&(e=void 0),void 0===t&&(t="json"),void 0===i&&(i="my file"),void 0===o&&(o={}),void 0===s&&(s=""),r.call(this,Be.Edge,e,t,i,o,s)||this}return vc(n,r),n}(Zr),et=function(r){function n(e,t,i,o,s){return void 0===e&&(e=void 0),void 0===t&&(t="json"),void 0===i&&(i="my file"),void 0===o&&(o={}),void 0===s&&(s=""),r.call(this,Be.Node,e,t,i,o,s)||this}return vc(n,r),n}(Zr),r0=function(r,n,e,t){return new(e||(e=Promise))((function(o,s){function a(c){try{u(t.next(c))}catch(v){s(v)}}function f(c){try{u(t.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((t=t.apply(r,n||[])).next())}))},t0=function(r,n){var t,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(r,e)}catch(c){u=[6,c],i=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},bi={view:"10",edit:"20",share:"30"},xi=function(){function r(n,e,t,i,o,s,a){void 0===e&&(e="dataset"),void 0===t&&(t="private"),void 0===o&&(o=[]),void 0===s&&(s=!1),void 0===a&&(a=""),this.id=n,this.kind=e,this.mode=t,this.modeAction=i?bi[i]:"private"===this.mode?bi.edit:bi.view,this.invitedUsers=o,this.notify=s,this.message=a}return r.prototype.upload=function(n){return r0(this,void 0,void 0,(function(){var e,t;return t0(this,(function(i){switch(i.label){case 0:if(!n)throw new Error("No client provided");if(!n.authTokenValid()&&!n.isServerConfigured())throw new Error("Client is not configured, set token or creds");return e={obj_pk:this.id,obj_type:this.kind,mode:this.mode,notify:this.notify,invited_users:this.invitedUsers,mode_action:this.modeAction,message:this.message},console.debug("Privacy.upload",e,this),[4,n.post("api/v2/share/link/",e)];case 1:if("OK"!=(t=i.sent()).status)throw console.error("Privacy.upload error: ".concat(t.message)),new Error("Privacy upload failed");return[2,this]}}))}))},r}(),rt=function(){return rt=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r},rt.apply(this,arguments)},mn=function(r,n,e,t){return new(e||(e=Promise))((function(o,s){function a(c){try{u(t.next(c))}catch(v){s(v)}}function f(c){try{u(t.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((t=t.apply(r,n||[])).next())}))},yn=function(r,n){var t,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(r,e)}catch(c){u=[6,c],i=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},wi=function(){function r(n,e,t,i){void 0===n&&(n={}),void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===i&&(i={}),this.bindings=n,this.edgeFiles=e instanceof Qr?[e]:e,this.nodeFiles=t instanceof et?[t]:t,this.urlOpts=i,console.debug("Dataset constructor",this,{bindings:n,edgeFiles:e,nodeFiles:t,urlOpts:i});for(var o=0,s=this.edgeFiles;o<s.length;o++){if(!s[o].fileFormat)throw new Error("Edge file must have a fileType")}for(var f=0,u=this.nodeFiles;f<u.length;f++){if(!u[f].fileFormat)throw new Error("Node file must have a fileType")}}return Object.defineProperty(r.prototype,"datasetID",{get:function(){return this._datasetID},enumerable:!1,configurable:!0}),r.prototype.getCreateDatasetResponse=function(){return this._createDatasetResponse},Object.defineProperty(r.prototype,"datasetURL",{get:function(){var n=this;if(!this._datasetID)throw new Error("No dataset ID yet");if(!this._usedClientProtocolHostname)throw new Error("No client protocol hostname yet");var e=Object.keys(this.urlOpts).length?"&".concat(Object.keys(this.urlOpts).map((function(t){return"".concat(t,"=").concat(n.urlOpts[t])})).join("&")):"";return"".concat(this._usedClientProtocolHostname,"/graph/graph.html?dataset=").concat(this._datasetID).concat(e)},enumerable:!1,configurable:!0}),r.prototype.upload=function(n){return mn(this,void 0,void 0,(function(){var e,t,i=this;return yn(this,(function(o){switch(o.label){case 0:if(!n)throw new Error("No client provided");if(!n.authTokenValid()&&!n.isServerConfigured())throw new Error("Client is not configured, set token or creds");return console.debug("Uploading dataset",{nodeFiles:this.nodeFiles,edgeFiles:this.edgeFiles}),[4,Promise.all(this.nodeFiles.concat(this.edgeFiles).map((function(s){return mn(i,void 0,void 0,(function(){var a;return yn(this,(function(u){switch(u.label){case 0:return console.debug("Uploading file",s),[4,s.createFile(n)];case 1:if(a=u.sent(),console.debug("Uploaded ".concat(s.fileFormat," file")),!a)throw new Error("File creation failed 1");return[4,s.uploadData(n)];case 2:if(!u.sent())throw new Error("File upload failed 2");return[2,s]}}))}))})))];case 1:return o.sent(),e={node_files:this.nodeFiles.map((function(s){return s.fileID})),edge_files:this.edgeFiles.map((function(s){return s.fileID}))},t=rt(rt(rt({},n.org?{org_name:n.org}:{}),e),this.bindings),[4,this.createDataset(n,t)];case 2:return o.sent(),[2,this]}}))}))},r.prototype.createDataset=function(n,e){return mn(this,void 0,void 0,(function(){var t,i;return yn(this,(function(o){switch(o.label){case 0:return this.fillMetadata(e,n),[4,n.post("api/v2/upload/datasets/",e)];case 1:if(t=o.sent(),this._createDatasetResponse=t,i=t.data.dataset_id,this._datasetID=i,this._usedClientProtocolHostname=n.clientProtocolHostname,!i)throw new Error("Unexpected dataset response, check dataset._createDatasetResponse");return[2,i]}}))}))},r.prototype.updateBindings=function(n){for(var e=0,t=Object.entries(n);e<t.length;e++){var i=t[e],o=i[0],s=i[1];this.bindings[o]=s}},r.prototype.addFile=function(n){if(console.debug("Adding file",n),n.type===Be.Node)this.nodeFiles.push(n);else{if(n.type!==Be.Edge)throw new Error("Invalid File Type");this.edgeFiles.push(n)}},r.prototype.fillMetadata=function(n,e){if(!n)throw new Error("No data to fill metadata; call setData() first or provide to File constructor");n.metadata||(n.metadata={});var t=n.metadata;t.agent||(t.agent=e.agent),t.agentversion||(t.agentversion=e.version),t.apiversion||(t.apiversion="3")},r.prototype.privacy=function(n,e,t,i,o,s){return void 0===e&&(e="private"),void 0===i&&(i=[]),void 0===o&&(o=!1),void 0===s&&(s=""),mn(this,void 0,void 0,(function(){return yn(this,(function(f){switch(f.label){case 0:if(!this._datasetID)throw new Error("Dataset must be uploaded before setting privacy");return[4,new xi(this._datasetID,"dataset",e,t,i,o,s).upload(n)];case 1:return[2,f.sent()]}}))}))},r}(),Lc=Ir(Uc(),1),{__extends:re,__assign:xn,__rest:kb,__decorate:qb,__param:Tb,__esDecorate:Ib,__runInitializers:Mb,__propKey:Cb,__setFunctionName:Rb,__metadata:Db,__awaiter:Gc,__generator:wn,__exportStar:$b,__createBinding:Fb,__values:Fe,__read:pe,__spread:Nb,__spreadArrays:Vb,__spreadArray:he,__await:Sn,__asyncGenerator:Wc,__asyncDelegator:Ub,__asyncValues:Bc,__makeTemplateObject:Lb,__importStar:Gb,__importDefault:Wb,__classPrivateFieldGet:Bb,__classPrivateFieldSet:Jb,__classPrivateFieldIn:Hb}=Lc.default;function U(r){return"function"==typeof r}function Je(r){var e=r((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var On=Je((function(r){return function(e){r(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,i){return i+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function tr(r,n){if(r){var e=r.indexOf(n);0<=e&&r.splice(e,1)}}var He=function(){function r(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var n,e,t,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Fe(s),f=a.next();!f.done;f=a.next()){f.value.remove(this)}}catch(d){n={error:d}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(n)throw n.error}}else s.remove(this);var c=this.initialTeardown;if(U(c))try{c()}catch(d){o=d instanceof On?d.errors:[d]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var y=Fe(v),m=y.next();!m.done;m=y.next()){var h=m.value;try{Jc(h)}catch(d){o=null!=o?o:[],d instanceof On?o=he(he([],pe(o)),pe(d.errors)):o.push(d)}}}catch(d){t={error:d}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(t)throw t.error}}}if(o)throw new On(o)}},r.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)Jc(n);else{if(n instanceof r){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}},r.prototype._hasParent=function(n){var e=this._parentage;return e===n||Array.isArray(e)&&e.includes(n)},r.prototype._addParent=function(n){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n},r.prototype._removeParent=function(n){var e=this._parentage;e===n?this._parentage=null:Array.isArray(e)&&tr(e,n)},r.prototype.remove=function(n){var e=this._finalizers;e&&tr(e,n),n instanceof r&&n._removeParent(this)},r.EMPTY=((n=new r).closed=!0,n),r;var n}(),Oi=He.EMPTY;function En(r){return r instanceof He||r&&"closed"in r&&U(r.remove)&&U(r.add)&&U(r.unsubscribe)}function Jc(r){U(r)?r():r.unsubscribe()}var Pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wr={setTimeout:function(r,n){for(var e=[],t=2;t<arguments.length;t++)e[t-2]=arguments[t];var i=wr.delegate;return null!=i&&i.setTimeout?i.setTimeout.apply(i,he([r,n],pe(e))):setTimeout.apply(void 0,he([r,n],pe(e)))},clearTimeout:function(r){var n=wr.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(r)},delegate:void 0};function Pn(r){wr.setTimeout((function(){var n=Pe.onUnhandledError;if(!n)throw r;n(r)}))}function tt(){}var Hc=Ei("C",void 0,void 0);function Ei(r,n,e){return{kind:r,value:n,error:e}}var nr=null;function Sr(r){if(Pe.useDeprecatedSynchronousErrorHandling){var n=!nr;if(n&&(nr={errorThrown:!1,error:null}),r(),n){var e=nr,t=e.errorThrown,i=e.error;if(nr=null,t)throw i}}else r()}var nt=function(r){function n(e){var t=r.call(this)||this;return t.isStopped=!1,e?(t.destination=e,En(e)&&e.add(t)):t.destination=s0,t}return re(n,r),n.create=function(e,t,i){return new or(e,t,i)},n.prototype.next=function(e){this.isStopped?Ai(function Yc(r){return Ei("N",r,void 0)}(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?Ai(function Kc(r){return Ei("E",void 0,r)}(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?Ai(Hc,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(He),n0=Function.prototype.bind;function Pi(r,n){return n0.call(r,n)}var o0=function(){function r(n){this.partialObserver=n}return r.prototype.next=function(n){var e=this.partialObserver;if(e.next)try{e.next(n)}catch(t){An(t)}},r.prototype.error=function(n){var e=this.partialObserver;if(e.error)try{e.error(n)}catch(t){An(t)}else An(n)},r.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(e){An(e)}},r}(),or=function(r){function n(e,t,i){var s,a,o=r.call(this)||this;U(e)||!e?s={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=i?i:void 0}:o&&Pe.useDeprecatedNextContext?((a=Object.create(e)).unsubscribe=function(){return o.unsubscribe()},s={next:e.next&&Pi(e.next,a),error:e.error&&Pi(e.error,a),complete:e.complete&&Pi(e.complete,a)}):s=e;return o.destination=new o0(s),o}return re(n,r),n}(nt);function An(r){Pe.useDeprecatedSynchronousErrorHandling?function zc(r){Pe.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=r)}(r):Pn(r)}function Ai(r,n){var e=Pe.onStoppedNotification;e&&wr.setTimeout((function(){return e(r,n)}))}var s0={closed:!0,next:tt,error:function i0(r){throw r},complete:tt},Or="function"==typeof Symbol&&Symbol.observable||"@@observable";function Me(r){return r}function ji(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return ki(r)}function ki(r){return 0===r.length?Me:1===r.length?r[0]:function(e){return r.reduce((function(t,i){return i(t)}),e)}}var B=function(){function r(n){n&&(this._subscribe=n)}return r.prototype.lift=function(n){var e=new r;return e.source=this,e.operator=n,e},r.prototype.subscribe=function(n,e,t){var i=this,o=function a0(r){return r&&r instanceof nt||function u0(r){return r&&U(r.next)&&U(r.error)&&U(r.complete)}(r)&&En(r)}(n)?n:new or(n,e,t);return Sr((function(){var s=i,a=s.operator,f=s.source;o.add(a?a.call(o,f):f?i._subscribe(o):i._trySubscribe(o))})),o},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){n.error(e)}},r.prototype.forEach=function(n,e){var t=this;return new(e=Xc(e))((function(i,o){var s=new or({next:function(a){try{n(a)}catch(f){o(f),s.unsubscribe()}},error:o,complete:i});t.subscribe(s)}))},r.prototype._subscribe=function(n){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(n)},r.prototype[Or]=function(){return this},r.prototype.pipe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return ki(n)(this)},r.prototype.toPromise=function(n){var e=this;return new(n=Xc(n))((function(t,i){var o;e.subscribe((function(s){return o=s}),(function(s){return i(s)}),(function(){return t(o)}))}))},r.create=function(n){return new r(n)},r}();function Xc(r){var n;return null!==(n=null!=r?r:Pe.Promise)&&void 0!==n?n:Promise}function W(r){return function(n){if(function f0(r){return U(null==r?void 0:r.lift)}(n))return n.lift((function(e){try{return r(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function J(r,n,e,t,i){return new c0(r,n,e,t,i)}var c0=function(r){function n(e,t,i,o,s,a){var f=r.call(this,e)||this;return f.onFinalize=s,f.shouldUnsubscribe=a,f._next=t?function(u){try{t(u)}catch(c){e.error(c)}}:r.prototype._next,f._error=o?function(u){try{o(u)}catch(c){e.error(c)}finally{this.unsubscribe()}}:r.prototype._error,f._complete=i?function(){try{i()}catch(u){e.error(u)}finally{this.unsubscribe()}}:r.prototype._complete,f}return re(n,r),n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;r.prototype.unsubscribe.call(this),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},n}(nt),Zc=Je((function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ge=function(r){function n(){var e=r.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return re(n,r),n.prototype.lift=function(e){var t=new Qc(this,this);return t.operator=e,t},n.prototype._throwIfClosed=function(){if(this.closed)throw new Zc},n.prototype.next=function(e){var t=this;Sr((function(){var i,o;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=Fe(t.currentObservers),a=s.next();!a.done;a=s.next()){a.value.next(e)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}}))},n.prototype.error=function(e){var t=this;Sr((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}}))},n.prototype.complete=function(){var e=this;Sr((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(e){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},n.prototype._innerSubscribe=function(e){var t=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?Oi:(this.currentObservers=null,a.push(e),new He((function(){t.currentObservers=null,tr(a,e)})))},n.prototype._checkFinalizedStatuses=function(e){var t=this,i=t.hasError,o=t.thrownError,s=t.isStopped;i?e.error(o):s&&e.complete()},n.prototype.asObservable=function(){var e=new B;return e.source=this,e},n.create=function(e,t){return new Qc(e,t)},n}(B),Qc=function(r){function n(e,t){var i=r.call(this)||this;return i.destination=e,i.source=t,i}return re(n,r),n.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},n.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},n.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},n.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Oi},n}(ge),ot=function(r){function n(e){var t=r.call(this)||this;return t._value=e,t}return re(n,r),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(e){var t=r.prototype._subscribe.call(this,e);return!t.closed&&e.next(this._value),t},n.prototype.getValue=function(){var e=this,t=e.hasError,i=e.thrownError,o=e._value;if(t)throw i;return this._throwIfClosed(),o},n.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},n}(ge),it={now:function(){return(it.delegate||Date).now()},delegate:void 0},Er=function(r){function n(e,t,i){void 0===e&&(e=1/0),void 0===t&&(t=1/0),void 0===i&&(i=it);var o=r.call(this)||this;return o._bufferSize=e,o._windowTime=t,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=t===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,t),o}return re(n,r),n.prototype.next=function(e){var t=this,i=t.isStopped,o=t._buffer,s=t._infiniteTimeWindow,a=t._timestampProvider,f=t._windowTime;i||(o.push(e),!s&&o.push(a.now()+f)),this._trimBuffer(),r.prototype.next.call(this,e)},n.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),o=this._infiniteTimeWindow,a=this._buffer.slice(),f=0;f<a.length&&!e.closed;f+=o?1:2)e.next(a[f]);return this._checkFinalizedStatuses(e),t},n.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,i=e._timestampProvider,o=e._buffer,s=e._infiniteTimeWindow,a=(s?1:2)*t;if(t<1/0&&a<o.length&&o.splice(0,o.length-a),!s){for(var f=i.now(),u=0,c=1;c<o.length&&o[c]<=f;c+=2)u=c;u&&o.splice(0,u+1)}},n}(ge),el=function(r){function n(e,t){return r.call(this)||this}return re(n,r),n.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},n}(He),st={setInterval:function(r,n){for(var e=[],t=2;t<arguments.length;t++)e[t-2]=arguments[t];var i=st.delegate;return null!=i&&i.setInterval?i.setInterval.apply(i,he([r,n],pe(e))):setInterval.apply(void 0,he([r,n],pe(e)))},clearInterval:function(r){var n=st.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(r)},delegate:void 0},rl=function(r){function n(e,t){var i=r.call(this,e,t)||this;return i.scheduler=e,i.work=t,i.pending=!1,i}return re(n,r),n.prototype.schedule=function(e,t){var i;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this},n.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),st.setInterval(e.flush.bind(e,this),i)},n.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&st.clearInterval(t)},n.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(e,t){var o,i=!1;try{this.work(e)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},n.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,tr(o,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},n}(el),qi=function(){function r(n,e){void 0===e&&(e=r.now),this.schedulerActionCtor=n,this.now=e}return r.prototype.schedule=function(n,e,t){return void 0===e&&(e=0),new this.schedulerActionCtor(this,n).schedule(t,e)},r.now=it.now,r}(),tl=function(r){function n(e,t){void 0===t&&(t=qi.now);var i=r.call(this,e,t)||this;return i.actions=[],i._active=!1,i}return re(n,r),n.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},n}(qi),Ti=new tl(rl),nl=Ti,jn=new B((function(r){return r.complete()}));function kn(r){return r&&U(r.schedule)}function ol(r){return r[r.length-1]}function Pr(r){return kn(ol(r))?r.pop():void 0}var Ar=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function qn(r){return U(null==r?void 0:r.then)}function Tn(r){return U(r[Or])}function In(r){return Symbol.asyncIterator&&U(null==r?void 0:r[Symbol.asyncIterator])}function Mn(r){return new TypeError("You provided "+(null!==r&&"object"==typeof r?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Cn=function l0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rn(r){return U(null==r?void 0:r[Cn])}function Dn(r){return Wc(this,arguments,(function(){var e,t,i;return wn(this,(function(s){switch(s.label){case 0:e=r.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Sn(e.read())];case 3:return t=s.sent(),i=t.value,t.done?[4,Sn(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Sn(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function $n(r){return U(null==r?void 0:r.getReader)}function z(r){if(r instanceof B)return r;if(null!=r){if(Tn(r))return function p0(r){return new B((function(n){var e=r[Or]();if(U(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(r);if(Ar(r))return function d0(r){return new B((function(n){for(var e=0;e<r.length&&!n.closed;e++)n.next(r[e]);n.complete()}))}(r);if(qn(r))return function h0(r){return new B((function(n){r.then((function(e){n.closed||(n.next(e),n.complete())}),(function(e){return n.error(e)})).then(null,Pn)}))}(r);if(In(r))return sl(r);if(Rn(r))return function v0(r){return new B((function(n){var e,t;try{for(var i=Fe(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(n.next(s),n.closed)return}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}))}(r);if($n(r))return function m0(r){return sl(Dn(r))}(r)}throw Mn(r)}function sl(r){return new B((function(n){(function y0(r,n){var e,t,i,o;return Gc(this,void 0,void 0,(function(){var s,a;return wn(this,(function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),e=Bc(r),f.label=1;case 1:return[4,e.next()];case 2:if((t=f.sent()).done)return[3,4];if(s=t.value,n.next(s),n.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=f.sent(),i={error:a},[3,11];case 6:return f.trys.push([6,,9,10]),t&&!t.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}}))}))})(r,n).catch((function(e){return n.error(e)}))}))}function be(r,n,e,t,i){void 0===t&&(t=0),void 0===i&&(i=!1);var o=n.schedule((function(){e(),i?r.add(this.schedule(null,t)):this.unsubscribe()}),t);if(r.add(o),!i)return o}function Fn(r,n){return void 0===n&&(n=0),W((function(e,t){e.subscribe(J(t,(function(i){return be(t,r,(function(){return t.next(i)}),n)}),(function(){return be(t,r,(function(){return t.complete()}),n)}),(function(i){return be(t,r,(function(){return t.error(i)}),n)})))}))}function Nn(r,n){return void 0===n&&(n=0),W((function(e,t){t.add(r.schedule((function(){return e.subscribe(t)}),n))}))}function Vn(r,n){if(!r)throw new Error("Iterable cannot be null");return new B((function(e){be(e,n,(function(){var t=r[Symbol.asyncIterator]();be(e,n,(function(){t.next().then((function(i){i.done?e.complete():e.next(i.value)}))}),0,!0)}))}))}function pl(r,n){if(null!=r){if(Tn(r))return function ul(r,n){return z(r).pipe(Nn(n),Fn(n))}(r,n);if(Ar(r))return function fl(r,n){return new B((function(e){var t=0;return n.schedule((function(){t===r.length?e.complete():(e.next(r[t++]),e.closed||this.schedule())}))}))}(r,n);if(qn(r))return function al(r,n){return z(r).pipe(Nn(n),Fn(n))}(r,n);if(In(r))return Vn(r,n);if(Rn(r))return function cl(r,n){return new B((function(e){var t;return be(e,n,(function(){t=r[Cn](),be(e,n,(function(){var i,o,s;try{o=(i=t.next()).value,s=i.done}catch(a){return void e.error(a)}s?e.complete():e.next(o)}),0,!0)})),function(){return U(null==t?void 0:t.return)&&t.return()}}))}(r,n);if($n(r))return function ll(r,n){return Vn(Dn(r),n)}(r,n)}throw Mn(r)}function Un(r,n){return n?pl(r,n):z(r)}function Ke(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Un(r,Pr(r))}var jr=Je((function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}}));function K(r,n){return W((function(e,t){var i=0;e.subscribe(J(t,(function(o){t.next(r.call(n,o,i++))})))}))}var _0=Array.isArray;function Gn(r){return K((function(n){return function g0(r,n){return _0(n)?r.apply(void 0,he([],pe(n))):r(n)}(r,n)}))}var b0=Array.isArray,x0=Object.getPrototypeOf,w0=Object.prototype,S0=Object.keys;function hl(r){if(1===r.length){var n=r[0];if(b0(n))return{args:n,keys:null};if(function O0(r){return r&&"object"==typeof r&&x0(r)===w0}(n)){var e=S0(n);return{args:e.map((function(t){return n[t]})),keys:e}}}return{args:r,keys:null}}function de(r,n,e){return void 0===e&&(e=1/0),U(n)?de((function(t,i){return K((function(o,s){return n(t,o,i,s)}))(z(r(t,i)))}),e):("number"==typeof n&&(e=n),W((function(t,i){return function ml(r,n,e,t,i,o,s,a){var f=[],u=0,c=0,v=!1,y=function(){v&&!f.length&&!u&&n.complete()},m=function(d){return u<t?h(d):f.push(d)},h=function(d){o&&n.next(d),u++;var l=!1;z(e(d,c++)).subscribe(J(n,(function(p){null==i||i(p),o?m(p):n.next(p)}),(function(){l=!0}),void 0,(function(){if(l)try{u--;for(var p=function(){var g=f.shift();s?be(n,s,(function(){return h(g)})):h(g)};f.length&&u<t;)p();y()}catch(g){n.error(g)}})))};return r.subscribe(J(n,m,(function(){v=!0,y()}))),function(){null==a||a()}}(t,i,r,e)})))}function ut(r){return void 0===r&&(r=1/0),de(Me,r)}function at(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return function yl(){return ut(1)}()(Un(r,Pr(r)))}function ft(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var e=function il(r){return U(ol(r))?r.pop():void 0}(r),t=hl(r),i=t.args,o=t.keys,s=new B((function(a){var f=i.length;if(f)for(var u=new Array(f),c=f,v=f,y=function(h){var d=!1;z(i[h]).subscribe(J(a,(function(l){d||(d=!0,v--),u[h]=l}),(function(){return c--}),void 0,(function(){(!c||!d)&&(v||a.next(o?function vl(r,n){return r.reduce((function(e,t,i){return e[t]=n[i],e}),{})}(o,u):u),a.complete())})))},m=0;m<f;m++)y(m);else a.complete()}));return e?s.pipe(Gn(e)):s}var E0=["addListener","removeListener"],P0=["addEventListener","removeEventListener"],A0=["on","off"];function Ae(r,n,e,t){if(U(e)&&(t=e,e=void 0),t)return Ae(r,n,e).pipe(Gn(t));var i=pe(function q0(r){return U(r.addEventListener)&&U(r.removeEventListener)}(r)?P0.map((function(a){return function(f){return r[a](n,f,e)}})):function j0(r){return U(r.addListener)&&U(r.removeListener)}(r)?E0.map(_l(r,n)):function k0(r){return U(r.on)&&U(r.off)}(r)?A0.map(_l(r,n)):[],2),o=i[0],s=i[1];if(!o&&Ar(r))return de((function(a){return Ae(a,n,e)}))(z(r));if(!o)throw new TypeError("Invalid event target");return new B((function(a){var f=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return a.next(1<u.length?u:u[0])};return o(f),function(){return s(f)}}))}function _l(r,n){return function(e){return function(t){return r[e](n,t)}}}function ct(r,n,e){void 0===r&&(r=0),void 0===e&&(e=nl);var t=-1;return null!=n&&(kn(n)?e=n:t=n),new B((function(i){var o=function dl(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;o<0&&(o=0);var s=0;return e.schedule((function(){i.closed||(i.next(s++),0<=t?this.schedule(void 0,t):i.complete())}),o)}))}function xe(r,n){return W((function(e,t){var i=0;e.subscribe(J(t,(function(o){return r.call(n,o,i++)&&t.next(o)})))}))}function Wn(r){return W((function(n,e){var o,t=null,i=!1;t=n.subscribe(J(e,void 0,void 0,(function(s){o=z(r(s,Wn(r)(n))),t?(t.unsubscribe(),t=null,o.subscribe(e)):i=!0}))),i&&(t.unsubscribe(),t=null,o.subscribe(e))}))}function Ii(r,n){return U(n)?de(r,n,1):de(r,1)}function Bn(r){return W((function(n,e){var t=!1;n.subscribe(J(e,(function(i){t=!0,e.next(i)}),(function(){t||e.next(r),e.complete()})))}))}function Ye(r){return r<=0?function(){return jn}:W((function(n,e){var t=0;n.subscribe(J(e,(function(i){++t<=r&&(e.next(i),r<=t&&e.complete())})))}))}function Mi(r,n){return n?function(e){return at(n.pipe(Ye(1),function bl(){return W((function(r,n){r.subscribe(J(n,tt))}))}()),e.pipe(Mi(r)))}:de((function(e,t){return z(r(e,t)).pipe(Ye(1),function xl(r){return K((function(){return r}))}(e))}))}function lt(r,n){void 0===n&&(n=Ti);var e=ct(r,n);return Mi((function(){return e}))}function Jn(r){return void 0===r&&(r=T0),W((function(n,e){var t=!1;n.subscribe(J(e,(function(i){t=!0,e.next(i)}),(function(){return t?e.complete():e.error(r())})))}))}function T0(){return new jr}function pt(r){return W((function(n,e){try{n.subscribe(e)}finally{e.add(r)}}))}function Ci(r,n){var e=arguments.length>=2;return function(t){return t.pipe(r?xe((function(i,o){return r(i,o,t)})):Me,Ye(1),e?Bn(n):Jn((function(){return new jr})))}}function Ri(){return W((function(r,n){r.subscribe(J(n,(function(){n.next(!1),n.complete()}),(function(){n.next(!0),n.complete()})))}))}function ir(r){return r<=0?function(){return jn}:W((function(n,e){var t=[];n.subscribe(J(e,(function(i){t.push(i),r<t.length&&t.shift()}),(function(){var i,o;try{for(var s=Fe(t),a=s.next();!a.done;a=s.next()){var f=a.value;e.next(f)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}e.complete()}),void 0,(function(){t=null})))}))}function Di(r,n){var e=arguments.length>=2;return function(t){return t.pipe(r?xe((function(i,o){return r(i,o,t)})):Me,ir(1),e?Bn(n):Jn((function(){return new jr})))}}function Kn(r,n){return W(function gl(r,n,e,t,i){return function(o,s){var a=e,f=n,u=0;o.subscribe(J(s,(function(c){var v=u++;f=a?r(f,c,v):(a=!0,c),t&&s.next(f)}),i&&function(){a&&s.next(f),s.complete()}))}}(r,n,arguments.length>=2,!0))}function dt(r){void 0===r&&(r={});var n=r.connector,e=void 0===n?function(){return new ge}:n,t=r.resetOnError,i=void 0===t||t,o=r.resetOnComplete,s=void 0===o||o,a=r.resetOnRefCountZero,f=void 0===a||a;return function(u){var c,v,y,m=0,h=!1,d=!1,l=function(){null==v||v.unsubscribe(),v=void 0},p=function(){l(),c=y=void 0,h=d=!1},g=function(){var x=c;p(),null==x||x.unsubscribe()};return W((function(x,_){m++,!d&&!h&&l();var b=y=null!=y?y:e();_.add((function(){0===--m&&!d&&!h&&(v=$i(g,f))})),b.subscribe(_),!c&&m>0&&(c=new or({next:function(w){return b.next(w)},error:function(w){d=!0,l(),v=$i(p,i,w),b.error(w)},complete:function(){h=!0,l(),v=$i(p,s),b.complete()}}),z(x).subscribe(c))}))(u)}}function $i(r,n){for(var e=[],t=2;t<arguments.length;t++)e[t-2]=arguments[t];if(!0!==n){if(!1!==n){var i=new or({next:function(){i.unsubscribe(),r()}});return z(n.apply(void 0,he([],pe(e)))).subscribe(i)}}else r()}function sr(r,n,e){var t,i,o,s,a=!1;return r&&"object"==typeof r?(t=r.bufferSize,s=void 0===t?1/0:t,i=r.windowTime,n=void 0===i?1/0:i,a=void 0!==(o=r.refCount)&&o,e=r.scheduler):s=null!=r?r:1/0,dt({connector:function(){return new Er(s,n,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Yn(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var e=Pr(r);return W((function(t,i){(e?at(r,t,e):at(r,t)).subscribe(i)}))}function fe(r,n){return W((function(e,t){var i=null,o=0,s=!1,a=function(){return s&&!i&&t.complete()};e.subscribe(J(t,(function(f){null==i||i.unsubscribe();var u=0,c=o++;z(r(f,c)).subscribe(i=J(t,(function(v){return t.next(n?n(f,v,c,u++):v)}),(function(){i=null,a()})))}),(function(){s=!0,a()})))}))}function X(r,n,e){var t=U(r)||n||e?{next:r,error:n,complete:e}:r;return t?W((function(i,o){var s;null===(s=t.subscribe)||void 0===s||s.call(t);var a=!0;i.subscribe(J(o,(function(f){var u;null===(u=t.next)||void 0===u||u.call(t,f),o.next(f)}),(function(){var f;a=!1,null===(f=t.complete)||void 0===f||f.call(t),o.complete()}),(function(f){var u;a=!1,null===(u=t.error)||void 0===u||u.call(t,f),o.error(f)}),(function(){var f,u;a&&(null===(f=t.unsubscribe)||void 0===f||f.call(t)),null===(u=t.finalize)||void 0===u||u.call(t)})))})):Me}function zn(r){switch(r.responseType){case"json":if("response"in r)return r.response;var n=r;return JSON.parse(n.responseText);case"document":return r.responseXML;default:return"response"in r?r.response:(n=r).responseText}}var wl=function r(n,e,t,i){void 0===i&&(i="download_load"),this.originalEvent=n,this.xhr=e,this.request=t,this.type=i;var o=e.status,s=e.responseType;this.status=null!=o?o:0,this.responseType=null!=s?s:"";var a=e.getAllResponseHeaders();this.responseHeaders=a?a.split("\n").reduce((function(c,v){var y=v.indexOf(": ");return c[v.slice(0,y)]=v.slice(y+2),c}),{}):{},this.response=zn(e);var f=n.loaded,u=n.total;this.loaded=f,this.total=u},ht=Je((function(r){return function(e,t,i){var o;this.message=e,this.name="AjaxError",this.xhr=t,this.request=i,this.status=t.status,this.responseType=t.responseType;try{o=zn(t)}catch(s){o=t.responseText}this.response=o}})),Sl=function(){function r(n,e){return ht.call(this,"ajax timeout",n,e),this.name="AjaxTimeoutError",this}return r.prototype=Object.create(ht.prototype),r}();function I0(r,n){return Ce({method:"GET",url:r,headers:n})}function M0(r,n,e){return Ce({method:"POST",url:r,body:n,headers:e})}function C0(r,n){return Ce({method:"DELETE",url:r,headers:n})}function R0(r,n,e){return Ce({method:"PUT",url:r,body:n,headers:e})}function D0(r,n,e){return Ce({method:"PATCH",url:r,body:n,headers:e})}var $0=K((function(r){return r.response}));function F0(r,n){return $0(Ce({method:"GET",url:r,headers:n}))}var Ce=function(){var r=function(n){return function V0(r){return new B((function(n){var e,t,u,i=xn({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},r),o=i.queryParams,s=i.body,a=i.headers,f=i.url;if(!f)throw new TypeError("url is required");if(o)if(f.includes("?")){var c=f.split("?");if(2<c.length)throw new TypeError("invalid url");u=new URLSearchParams(c[1]),new URLSearchParams(o).forEach((function(I,M){return u.set(M,I)})),f=c[0]+"?"+u}else f=f+"?"+(u=new URLSearchParams(o));var v={};if(a)for(var y in a)a.hasOwnProperty(y)&&(v[y.toLowerCase()]=a[y]);var m=i.crossDomain;!m&&!("x-requested-with"in v)&&(v["x-requested-with"]="XMLHttpRequest");var h=i.withCredentials,d=i.xsrfCookieName,l=i.xsrfHeaderName;if((h||!m)&&d&&l){var p=null!==(t=null===(e=null==document?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)")))||void 0===e?void 0:e.pop())&&void 0!==t?t:"";p&&(v[l]=p)}var _,g=function U0(r,n){var e;if(!r||"string"==typeof r||function H0(r){return"undefined"!=typeof FormData&&r instanceof FormData}(r)||function K0(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(r)||function G0(r){return Vi(r,"ArrayBuffer")}(r)||function W0(r){return Vi(r,"File")}(r)||function B0(r){return Vi(r,"Blob")}(r)||function Y0(r){return"undefined"!=typeof ReadableStream&&r instanceof ReadableStream}(r))return r;if(function J0(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(r)}(r))return r.buffer;if("object"==typeof r)return n["content-type"]=null!==(e=n["content-type"])&&void 0!==e?e:"application/json;charset=utf-8",JSON.stringify(r);throw new TypeError("Unknown body type")}(s,v),x=xn(xn({},i),{url:f,headers:v,body:g});_=r.createXHR?r.createXHR():new XMLHttpRequest;var b=r.progressSubscriber,w=r.includeDownloadProgress,S=void 0!==w&&w,O=r.includeUploadProgress,j=void 0!==O&&O,E=function(I,M){_.addEventListener(I,(function(){var R,D=M();null===(R=null==b?void 0:b.error)||void 0===R||R.call(b,D),n.error(D)}))};E("timeout",(function(){return new Sl(_,x)})),E("abort",(function(){return new ht("aborted",_,x)}));var A=function(I,M){return new wl(M,_,x,I+"_"+M.type)},q=function(I,M,R){I.addEventListener(M,(function(D){n.next(A(R,D))}))};j&&[Fi,Ni,El].forEach((function(I){return q(_.upload,I,N0)})),b&&[Fi,Ni].forEach((function(I){return _.upload.addEventListener(I,(function(M){var R;return null===(R=null==b?void 0:b.next)||void 0===R?void 0:R.call(b,M)}))})),S&&[Fi,Ni].forEach((function(I){return q(_,I,Ol)}));var k=function(I){var M="ajax error"+(I?" "+I:"");n.error(new ht(M,_,x))};_.addEventListener("error",(function(I){var M;null===(M=null==b?void 0:b.error)||void 0===M||M.call(b,I),k()})),_.addEventListener(El,(function(I){var M,R,D=_.status;if(D<400){null===(M=null==b?void 0:b.complete)||void 0===M||M.call(b);var V=void 0;try{V=A(Ol,I)}catch(F){return void n.error(F)}n.next(V),n.complete()}else null===(R=null==b?void 0:b.error)||void 0===R||R.call(b,I),k(D)}));var T=x.user,$=x.method,C=x.async;for(var y in T?_.open($,f,C,T,x.password):_.open($,f,C),C&&(_.timeout=x.timeout,_.responseType=x.responseType),"withCredentials"in _&&(_.withCredentials=x.withCredentials),v)v.hasOwnProperty(y)&&_.setRequestHeader(y,v[y]);return g?_.send(g):_.send(),function(){_&&4!==_.readyState&&_.abort()}}))}("string"==typeof n?{url:n}:n)};return r.get=I0,r.post=M0,r.delete=C0,r.put=R0,r.patch=D0,r.getJSON=F0,r}(),N0="upload",Ol="download",Fi="loadstart",Ni="progress",El="load";var L0=Object.prototype.toString;function Vi(r,n){return L0.call(r)==="[object "+n+"]"}var Pl=1,FP=wi,NP=Zr,VP=Qr,UP=et,Al=class extends mi{constructor(n,e,t=void 0,i="https",o="hub.graphistry.com",s,a){super(n,e,t,i,o,s,window.fetch.bind(window),a,"@graphistry/client-api")}},jl=class extends yi{constructor(n,e,t=void 0,i="https",o="hub.graphistry.com",s,a){super(n,e,t,i,o,s,window.fetch.bind(window),a,"@graphistry/client-api")}},G={};function mt(r,...n){return fe((e=>(console.debug("makeCaller switchMap",{g:e}),new B((t=>{console.debug("caller hit",r,n,{g:e});let i=0,o=e.models[r].call(...n).subscribe((s=>{i++,console.debug("caller tick",s,{runs:i}),t.next(s)}),(s=>{i++,console.error("caller error",s,{runs:i}),t.error(s)}),(()=>{console.debug("caller complete",r,n,{runs:i}),t.complete()}));return()=>{console.debug("caller unsub skip",r,n,{runs:i}),o.unsubscribe()}})).pipe(X((t=>console.debug("caller got",r,n,t,{g:e}))),K((t=>e.updateStateWithResult(t)))))))}function Cl(r,...n){return fe((e=>Ke(e).pipe(mt(r,...n),K((({json:t})=>t.toJSON())))))}function z0(r,...n){return fe((e=>new B((t=>{console.debug("getter hit",r,n);let i=e.models[r].get(...n).subscribe((o=>{t.next(o)}),(o=>{t.error(o)}),(()=>{console.debug("getter complete",r,n),t.complete()}));return()=>{console.debug("getter unsub",r,n),i.unsubscribe()}})).pipe(X((t=>console.debug("getter got",r,n,t))),K((t=>e.updateStateWithResult(t))))))}function X0(r,...n){return fe((e=>Ke(e).pipe(z0(r,...n))))}function yt(r,n){return fe((e=>{let t=n(e.models[r]),i=e.models[r].set(...t);return new B((o=>{console.debug("starting makeSetterWithModel postMessage cmds",t);let s=i.subscribe((a=>{o.next(a)}),(a=>{o.error({msg:"iframe setter fail",e:a,modelName:r,values:t})}),(()=>{o.complete()}));return()=>{console.debug("finished makeSetterWithModel; unsubscribe postMessage",{sub:s,values:t}),s.unsubscribe()}})).pipe(X((o=>{console.debug("setter resp pre",o)})),K((({json:o})=>e.updateStateWithResult(o.toJSON()))),X((o=>{console.debug("setter resp post",o)})))}))}function je(r,...n){return yt(r,(()=>n))}function Qn(r,n,e,t){let i=Array.isArray(t)?{colors:t}:{mapping:t};return je("view",(0,L.$value)(`encodings.${r}.color`,Tr({reset:void 0===n,variation:e,name:"user_"+Math.random(),encodingType:"color",graphType:r,attribute:n},i)))}function Z0(r){return Qn(r)}function Rl(r){let n=["point"];if(void 0!==r)if(r instanceof Array)for(let e of r)n.push(e);else"string"==typeof r&&n.push(r);return Qn.apply(this,n)}function Q0(){return Rl(void 0)}function Dl(r){let n=["edge"];if(void 0!==r)if(r instanceof Array)for(let e of r)n.push(e);else"string"==typeof r&&n.push(r);return Qn.apply(this,n)}function ey(){return Dl(void 0)}function ry(r){return je("view",(0,L.$value)("encodings.point.axis",{reset:void 0===r,name:"user_"+Math.random(),encodingType:"axis",graphType:"point",attribute:"degree",variation:"categorical",rows:r}))}function kr(r,n,e){return je("view",(0,L.$value)(`encodings.${r}.icon`,{reset:void 0===n,name:"user_"+Math.random(),encodingType:"icon",graphType:r,attribute:n,mapping:e}))}function ty(r){return kr(r)}function ny(r){let n=["point"];if(void 0!==r)if(r instanceof Array)for(let e of r)n.push(e);else"string"==typeof r&&n.push(r);return kr.apply(this,n)}function GP(){return kr("point")}function oy(r){let n=["edge"];if(void 0!==r)if(r instanceof Array)for(let e of r)n.push(e);else"string"==typeof r&&n.push(r);return kr.apply(this,n)}function iy(){return kr("edge")}function eo(r,n,e){return je("view",(0,L.$value)(`encodings.${r}.size`,Tr({reset:void 0===n,name:"user_"+Math.random(),encodingType:"size",graphType:r,attribute:n},e?{mapping:e}:{})))}function sy(r){return eo(r)}function uy(r){let n=["point"];if(void 0!==r){let e=r instanceof Array?r[0]:r;if(n.push(e),r instanceof Array&&r.length>1){let t=r[1];n.push(t)}}return eo.apply(this,n)}function ay(){return eo("point")}function fy(r,n){if(!r)return K((e=>e));if(Array.isArray(r)&&(n=r.length>1?r[1]:void 0,r=r[0]),n)return yt("view",(e=>[(0,L.$value)("filters.controls[0].selected","filters"===r),(0,L.$value)("scene.controls[1].selected","scene"===r),(0,L.$value)("labels.controls[0].selected","labels"===r),(0,L.$value)("layout.controls[0].selected","layout"===r),(0,L.$value)("exclusions.controls[0].selected","exclusions"===r),(0,L.$value)("panels.left","filters"===r?(0,L.$ref)(e._path.concat("filters")):"scene"===r?(0,L.$ref)(e._path.concat("scene")):"labels"===r?(0,L.$ref)(e._path.concat("labels")):"layout"===r?(0,L.$ref)(e._path.concat("layout")):(0,L.$ref)(e._path.concat("exclusions")))]));return je("view",...[(0,L.$value)("panels.left",void 0),(0,L.$value)("filters.controls[0].selected",!1),(0,L.$value)("scene.controls[1].selected",!1),(0,L.$value)("labels.controls[0].selected",!1),(0,L.$value)("layout.controls[0].selected",!1),(0,L.$value)("exclusions.controls[0].selected",!1)])}function Ui(r){return je("view",...[(0,L.$value)("scene.simulating",r),(0,L.$value)("scene.controls[0].selected",r)])}function Wi(r,n,e){return je("view",(0,L.$value)(`encodings.defaults.${r}.icon`,{reset:void 0===n,name:"user_"+Math.random(),encodingType:"icon",graphType:r,attribute:n,mapping:e}))}function cy(r){let n=["point"];if(void 0!==r){let e=r instanceof Array?r[0]:r;if(n.push(e),r instanceof Array&&r.length>1){let t=r[1];n.push(t)}}return Wi.apply(this,n)}function ly(r){let n=["edge"];if(void 0!==r){let e=r instanceof Array?r[0]:r;if(n.push(e),r instanceof Array&&r.length>1){let t=r[1];n.push(t)}}return Wi.apply(this,n)}function Bi(r,n,e){let{view:t}=this;return new this(t.set((0,L.$value)(`encodings.defaults.${r}.size`,{reset:void 0===n,name:"user_"+Math.random(),encodingType:"size",graphType:r,attribute:n,mapping:e})).map((({json:i})=>i.toJSON())).toPromise())}function py(r){let n=["point"];if(void 0!==r){let e=r instanceof Array?r[0]:r;if(n.push(e),r instanceof Array&&r.length>1){let t=r[1];n.push(t)}}return Bi.apply(this,n)}function dy(r){let n=["edge"];if(void 0!==r){let e=r instanceof Array?r[0]:r;if(n.push(e),r instanceof Array&&r.length>1){let t=r[1];n.push(t)}}return Bi.apply(this,n)}function Ji(r,n,e,t){return je("view",(0,L.$value)(`encodings.defaults.${r}.color`,{reset:void 0===n,variation:e,name:"user_"+Math.random(),encodingType:"color",graphType:r,attribute:n,mapping:t}))}function hy(r){let n=["point"];if(void 0!==r){let e=r instanceof Array?r[0]:r;if(n.push(e),r instanceof Array&&r.length>1){let t=r[1];n.push(t)}}return Ji.apply(this,n)}function vy(r){let n=["edge"];if(void 0!==r){let e=r instanceof Array?r[0]:r;if(n.push(e),r instanceof Array&&r.length>1){let t=r[1];n.push(t)}}return Ji.apply(this,n)}function my(r){if(r)return yt("view",(n=>[(0,L.$value)("inspector.controls[0].selected",!0),(0,L.$value)("panels.bottom",(0,L.$ref)(n._path.concat("inspector")))]));return je("view",...[(0,L.$value)("panels.bottom",void 0),(0,L.$value)("inspector.controls[0].selected",!1)])}function yy(r){if(r)return yt("view",(n=>[(0,L.$value)("timebars.controls[0].selected",!0),(0,L.$value)("panels.bottom",(0,L.$ref)(n._path.concat("timebars")))]));return je("view",...[(0,L.$value)("panels.bottom",void 0),(0,L.$value)("timebars.controls[0].selected",!1)])}function _y(r){return yt("view",(n=>r?[(0,L.$value)("histograms.controls[0].selected",!0),(0,L.$value)("panels.right",(0,L.$ref)(n._path.concat("histograms")))]:[(0,L.$value)("panels.right",void 0),(0,L.$value)("histograms.controls[0].selected",!1)]))}function gy(r=1e3){return"number"!=typeof r?K((n=>n)):fe((n=>Ke(n).pipe(Ui(!0),lt(r),Ui(!1),ir(1))))}function by(r){return Cl("view","autocenter",[r])}function xy(){return X0("workbook","id")}function wy(){return Cl("workbook","save",[])}function Sy(r){return ro("showToolbar",!!r)}function Li(r){return r?mt("view","filters.add",[r]):K((n=>n))}function Oy(r){if("string"==typeof r)return Li(r);if(!Array.isArray(r))throw new Error("Expected an array of filters");return fe((n=>ft(r.map((e=>Ke(n).pipe(Li(e))))).pipe(K((e=>n.updateStateWithResult(e))))))}function Gi(r){return r?mt("view","exclusions.add",[r]):K((n=>n))}function Ey(r){if("string"==typeof r)return Gi(r);if(!Array.isArray(r))throw new Error("Expected an array of exclusions");return fe((n=>ft(r.map((e=>Ke(n).pipe(Gi(e))))).pipe(K((e=>n.updateStateWithResult(e))))))}function Py({point:r=[],edge:n=[]}={}){return mt("view","selection.setExternal",{point:r,edge:n})}function Ay({point:r=[],edge:n=[],darken:e=!0}={}){return mt("view","highlight.setExternal",{point:r,edge:n})}G.encodeColor=Qn,G.resetColor=Z0,G.encodePointColor=Rl,G.resetPointColor=Q0,G.encodeEdgeColor=Dl,G.resetEdgeColor=ey,G.encodeAxis=ry,G.encodeIcons=kr,G.resetIcons=ty,G.encodePointIcons=ny,G.encodeEdgeIcons=oy,G.resetEdgeIcons=iy,G.encodeSize=eo,G.resetSize=sy,G.encodePointSize=uy,G.resetPointSize=ay,G.togglePanel=fy,G.toggleClustering=Ui,G.encodeDefaultIcons=Wi,G.encodeDefaultPointIcons=cy,G.encodeDefaultEdgeIcons=ly,G.encodeDefaultSize=Bi,G.encodeDefaultPointSize=py,G.encodeDefaultEdgeSize=dy,G.encodeDefaultColor=Ji,G.encodeDefaultPointColor=hy,G.encodeDefaultEdgeColor=vy,G.toggleInspector=my,G.toggleTimebars=yy,G.toggleHistograms=_y,G.tickClustering=gy,G.autocenter=by,G.getCurrentWorkbook=xy,G.saveWorkbook=wy,G.toggleToolbar=Sy,G.addFilter=Li,G.addFilters=Oy,G.addExclusion=Gi,G.addExclusions=Ey,G.setSelectionExternal=Py,G.setHighlightExternal=Ay;var Xn={showToolbar:["view","toolbar.visible"],pruneOrphans:["view","pruneOrphans"],showArrows:["view","scene.renderer.showArrows"],background:["view","scene.renderer.background.color"],edgeOpacity:["view","scene.renderer.edges.opacity"],edgeSize:["view","scene.renderer.edges.scaling"],edgeCurvature:["view","scene.renderer.edges.curvature"],pointOpacity:["view","scene.renderer.points.opacity"],pointSize:["view","scene.renderer.points.scaling"],neighbhorhoodHighlight:["view","scene.renderer.points.neighborhoodHighlight"],neighbhorhoodHighlightHops:["view","scene.renderer.points.neighborhoodHighlightHops"],zoom:["view","camera.zoom"],center:["view",'camera.center["x", "y", "z"]'],labelOpacity:["view","labels.opacity"],labelEnabled:["view","labels.enabled"],labelPropertiesEnabled:["view","labels.propertiesEnabled"],labelInspectorEnabled:["view","labels.inspectorEnabled"],labelShowActions:["view","labels.showActions"],labelPOI:["view","labels.poiEnabled"],labelLabelPOI:["view","labels.poiLabelEnabled"],labelPOIMax:["view","labels.poiMax"],labelHighlightEnabled:["view","labels.highlightEnabled"],labelColor:["view","labels.foreground.color"],labelBackground:["view","labels.background.color"],precisionVsSpeed:["view","layout.options.forceatlas2barnes[0].value"],gravity:["view","layout.options.forceatlas2barnes[1].value"],scalingRatio:["view","layout.options.forceatlas2barnes[2].value"],edgeInfluence:["view","layout.options.forceatlas2barnes[3].value"],strongGravity:["view","layout.options.forceatlas2barnes[4].value"],dissuadeHubs:["view","layout.options.forceatlas2barnes[5].value"],linLog:["view","layout.options.forceatlas2barnes[6].value"],lockedX:["view","layout.options.forceatlas2barnes[7].value"],lockedY:["view","layout.options.forceatlas2barnes[8].value"],lockedR:["view","layout.options.forceatlas2barnes[9].value"]};function ro(r,n){if(console.debug("updating setting called",{G_API_SETTINGS:Xn,name:r,val:n}),void 0===Xn[r])throw new Error(`Property "${r}" is not a valid setting, available are: ${Object.keys(Xn).join(", ")}`);let[e,t]=Xn[r];return je(e,(0,L.$value)(t,(0,L.$atom)(n,{$timestamp:Date.now()})))}function jy(r){return ro("zoom",r)}function $l(r,{withColumns:n=!1,pageSize:e=1e3}={}){if(!(r.subscriptionAPIVersion>=1))return function Ln(r,n){var e=U(r)?r:function(){return r},t=function(i){return i.error(e())};return new B(n?function(i){return n.schedule(t,0,i)}:t)}((()=>new Error("selectionUpdates is not available the currently embedded graphistry viz.")));let t=".selection.labels";return r.selectionStream||(r.selectionStream=new ot("Initialize selectionUpdates stream").pipe(X((()=>{console.debug("postMessage subscription","@client-api.selectionUpdates"),r.iFrame.contentWindow.postMessage({type:"graphistry-subscribe",agent:"graphistryjs",path:t,options:{pageSize:e,withColumns:n}},"*")})),pt((()=>{console.debug("postMessage unsubscribe","@client-api.selectionUpdates"),r.iFrame.contentWindow.postMessage({type:"graphistry-unsubscribe",agent:"graphistryjs",path:t},"*")})),fe((()=>Ae(window,"message").pipe(K((i=>i.data)),xe((i=>i&&"graphistry-sub-update"===i.type&&i.path===t)),K((i=>i.data)),X((({edge:i,point:o,labels:s})=>{r.models.model.setCache({json:{workbooks:{open:{views:{current:{selection:{edge:i,point:o,labels:s}}}}}}})})),sr({bufferSize:1,refCount:!0}))))))}function WP({onChange:r,g:n}){return $l(n).subscribe({next:r})}function Fl(r={}){let n=".labels";var e;return r.subscriptionAPIVersion>=1?e=new ot("value").pipe(X((t=>{console.debug("postMessage subscription","@client-api.labelUpdates"),r.iFrame.contentWindow.postMessage({type:"graphistry-subscribe",agent:"graphistryjs",path:n},"*")})),pt((()=>{console.debug("postMessage subscription","@client-api.labelUpdates"),r.iFrame.contentWindow.postMessage({type:"graphistry-unsubscribe",agent:"graphistryjs",path:n},"*")})),fe((()=>Ae(window,"message").pipe(K((t=>t.data)),xe((t=>t&&"graphistry-sub-update"===t.type&&t.path===n)),K((t=>t.data))))),sr({bufferSize:1,refCount:!0})):(console.debug("Using legacy source, version:",r.subscriptionAPIVersion,"@client-api.labelUpdates"),e=Ae(window,"message").pipe(K((t=>t.data)),xe((t=>t&&"labels-update"===t.type)),sr({bufferSize:1,refCount:!0}))),r.labelsStream||(r.labelsStream=e.pipe(Kn(((t,{labels:i,simulating:o,semanticZoomLevel:s})=>{i=i||[];let d,a=[],f=[],u=Object.create(null),c=Object.create(null),{sources:v,prevLabelsById:y}=t,m=-1,h=i.length;for(;++m<h;){let l;d=i[m];let{id:p}=d;p in v?(l=v[p],delete v[p],(t.simulating!==o||t.semanticZoomLevel!==s||!(0,Tl.default)(y[p],d))&&a.push(so(Tr({},d),{simulating:o,semanticZoomLevel:s,tag:"updated"}))):(f.push(l=new Er(1)),a.push(so(Tr({},d),{simulating:o,semanticZoomLevel:s,tag:"added"})),l.key=p),u[p]=d,c[p]=l}for(let l in v)v[l].complete();for(m=-1,h=a.length;++m<h;)d=a[m],c[d.id].next(d);return{newSources:f,simulating:o,semanticZoomLevel:s,sources:c,prevLabelsById:u}}),{newSources:[],sources:Object.create(null),prevLabelsById:Object.create(null)}),de((({newSources:t})=>t))))}function ky({onChange:r,onExit:n,onError:e,g:t}){return Fl(t).pipe(de((i=>i.pipe(X((o=>r&&r(o))),ir(1),X((o=>n&&n(o))))))).subscribe({error:e})}G.updateSetting=ro,G.updateZoom=jy;var vt=class{constructor(n,e,t,i){this.subscriptionAPIVersion=n,this._iFrame=e,this._models=t,this.result=i}clone(){return new vt(this.subscriptionAPIVersion,this.iFrame,this.models,this.result)}get iFrame(){return this._iFrame}get models(){return this._models}get workbook(){return this.models.workbook}get view(){return this.models.view}updateStateWithResult(n){let e=this.clone();return e.result=n,e}};function kl(r,n,e=!1){return function(...t){var i,o=!1;let s=e&&t.length&&t[t.length-1]instanceof Function?t[t.length-1]:function(){};return r.pipe(n(...t)).subscribe((a=>{o=!0,i=a}),(a=>s(a)),(()=>{o&&s(null,i)}))}}function Zn(r){return r.do=function(n){return Zn(this.pipe(X(n)))},r.map=function(n){return Zn(this.pipe(K(n)))},r.switchMap=function(n){return Zn(this.pipe(fe(n)))},r}function ql(r,n){return n||(n=r),Object.keys(G).forEach((e=>{n[e]=kl(r,G[e]),n[e+"CB"]=kl(r,G[e],!0)})),n.labelUpdates=Fl,n.subscribeLabels=ky,n.selectionUpdates=$l,n.subscribeLabels,n}function Nl(r){if(!r)throw new Error("No iframe provided to Graphistry");console.debug("init graphistryJS: modified",{iFrame:r,fromEvent:Ae,updateSetting:ro,ajax:Ce});let e=Ae(r,"load").pipe(X((i=>{console.debug("Starting iframe protocol listen flow: Load trigger")})),Yn(r),X((i=>{console.debug("Starting iframe protocol listen flow: v",i)})),xe((i=>i&&i.contentWindow&&i.contentWindow.postMessage)),K((i=>i.contentWindow)),X((i=>{console.info("Graphistry API: connecting to client",i),i.postMessage({type:"ready",agent:"graphistryjs",subscriptionAPIVersion:Pl},"*")})),fe((i=>Ae(window,"message").pipe(X((o=>{console.debug("Starting iframe protocol listen flow: Message",o)})),xe((({data:o})=>o&&"init"===o.type)),X((o=>{i.postMessage({type:"graphistry-init-ack",agent:"graphistryjs",subscriptionAPIVersion:Pl},"*"),console.debug("Starting iframe protocol listen flow: Got type: init and sent graphistry-init-ack",o)})),K((({data:{cache:o,subscriptionAPIVersion:s},cache:a})=>({target:i,cache:o,cache2:a,subscriptionAPIVersion:s})))))),fe((({target:i,cache:o,cache2:s,subscriptionAPIVersion:a})=>{console.debug("Graphistry API: init filter passed 2, handling",{target:i,cache:o,cache2:s,subscriptionAPIVersion:a}),a||console.error("Viz is using a previous version of the subscription API. Downgrade for labelUpdates.");let f=new Il.Model({cache:o||s||{},recycleJSON:!0,allowFromWhenceYouCame:!0});return console.debug("Graphistry API: model created",f),f._source=new Ml.PostMessageDataSource(window,i,f,"*"),console.debug("Graphistry API: model source created",f._source),new B((u=>{console.debug("Graphistry API: New observable",{target:i,cache:o,cache2:s});let c=f.get("workbooks.open.views.current.id").subscribe((v=>{console.debug("client new observable next",v),u.next(v)}),(v=>{u.error("iframe model initialization error",{error:v})}),(()=>{console.debug("PostMessageDataSource: teardown"),u.complete()}));return()=>{console.debug("client observable unsub"),c.unsubscribe()}})).pipe(X((u=>{console.debug("Starting iframe protocol obs tap",u)})),K((v=>{var y=v,{json:u}=y,c=Yi(y,["json"]);console.debug("got postMessage model hit",u,c);let m=f.deref(u.workbooks.open),h=f.deref(u.workbooks.open.views.current);return console.debug("PostMessageDataSource: connected to client",{workbook:m,view:h}),{workbook:m,view:h}})),X((u=>{console.debug("Starting iframe protocol obs tap2",u)})),K((({workbook:u,view:c})=>new vt(a,r,{model:f,view:c,workbook:u}))),X((u=>{console.info("Graphistry API: connected to client",u)})))})),function Hn(r){return W((function(n,e){var t,o,i=!1,s=function(){t=n.subscribe(J(e,void 0,void 0,(function(a){o||(o=new ge,z(r(o)).subscribe(J(e,(function(){return t?s():i=!0})))),o&&o.next(a)}))),i&&(t.unsubscribe(),t=null,i=!1,s())};s()}))}((i=>(console.error("Graphistry API: retrying2 get",i),i.pipe(X((o=>{console.error("Graphistry API: retrying2 get e",o)})),lt(1e3),X((o=>{console.debug("Graphistry API: retrying2 get v",o)})))))),X((i=>{console.debug("Graphistry API (pre-replay): connected to client",i)}))).pipe(sr(1),X((i=>{console.debug("Graphistry API (replay): connected to client",i)}))),t=e.pipe(K((i=>ql(e,i))));return ql(t),Zn(t),t}var BP=Nl;!function(){try{window.GraphistryJS=Nl}catch(r){}}()},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[9].use[1]!./assets/index.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".graphistry-container {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  position: relative;\n  box-sizing: border-box;\n}\n.graphistry-iframe {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  overflow: hidden;\n  border: 0px solid #DDD;\n  box-sizing: border-box;\n}\n.graphistry-loading-placeholder {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n.graphistry-loading-placeholder-nav {\n  width: 100%;\n  height: 41px;\n  background-color: #ffffff;\n  border-bottom: 1px solid #cccccc;\n}\n.graphistry-loading-placeholder-content {\n  width: 100%;\n  height: calc(100% - 42px);\n  display: table;\n}\n.graphistry-loading-placeholder-message {\n  font-size: 12px;\n  font-weight: bold;\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n  box-shadow: inset -4px 3px 18px 0px rgba(0, 0, 0, 0.13);\n  background-image: repeating-linear-gradient(45deg, #f8f8f8, #f8f8f8 30px, #F6F6F6 30px, #F6F6F6 60px);\n}\n.graphistry-loading-placeholder-spinner {\n  -webkit-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  -o-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-right-color: #333;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  text-align: center;\n}\n@keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n@-webkit-keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    -webkit-transform: rotate(1turn);\n  }\n}\n","",{version:3,sources:["webpack://./assets/index.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,sBAAsB;EACtB,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,gCAAgC;AAClC;AACA;EACE,WAAW;EACX,yBAAyB;EACzB,cAAc;AAChB;AACA;EACE,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,sBAAsB;EACtB,kBAAkB;EAClB,uDAAuD;EACvD,qGAAqG;AACvG;AACA;EACE,sFAAsF;EACtF,iFAAiF;EACjF,8EAA8E;EAC9E,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;EAClB,sBAAsB;EACtB,wBAAwB;EACxB,qBAAqB;EACrB,kBAAkB;EAClB,sBAAsB;EACtB,kBAAkB;AACpB;AACA;EACE;IACE,wBAAwB;EAC1B;AACF;AACA;EACE;IACE,gCAAgC;EAClC;AACF",sourcesContent:[".graphistry-container {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  position: relative;\n  box-sizing: border-box;\n}\n.graphistry-iframe {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  overflow: hidden;\n  border: 0px solid #DDD;\n  box-sizing: border-box;\n}\n.graphistry-loading-placeholder {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n.graphistry-loading-placeholder-nav {\n  width: 100%;\n  height: 41px;\n  background-color: #ffffff;\n  border-bottom: 1px solid #cccccc;\n}\n.graphistry-loading-placeholder-content {\n  width: 100%;\n  height: calc(100% - 42px);\n  display: table;\n}\n.graphistry-loading-placeholder-message {\n  font-size: 12px;\n  font-weight: bold;\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n  box-shadow: inset -4px 3px 18px 0px rgba(0, 0, 0, 0.13);\n  background-image: repeating-linear-gradient(45deg, #f8f8f8, #f8f8f8 30px, #F6F6F6 30px, #F6F6F6 60px);\n}\n.graphistry-loading-placeholder-spinner {\n  -webkit-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  -o-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-right-color: #333;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  text-align: center;\n}\n@keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n@-webkit-keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    -webkit-transform: rotate(1turn);\n  }\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./assets/index.css":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[9].use[1]!./assets/index.css"),options={};options.styleTagTransform=_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default(),options.setAttributes=_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default(),options.insert=_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null,"head"),options.domAPI=_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default(),options.insertStyleElement=_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default();_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z,options),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z&&_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z.locals&&_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z.locals}}]);