/*! For license information please see 961.4ee7b5be.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_graphistry_client_api_react=self.webpackChunk_graphistry_client_api_react||[]).push([[961],{"../client-api/dist/index.full.esm.min.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Client:()=>kl,ClientPKey:()=>ql,Dataset:()=>XP,EdgeFile:()=>QP,File:()=>ZP,GraphistryJS:()=>o2,NodeFile:()=>e2,Observable:()=>J,ReplaySubject:()=>Pt,Subject:()=>xe,addExclusion:()=>Bi,addExclusions:()=>jy,addFilter:()=>Wi,addFilters:()=>Ay,ajax:()=>Ce,autocenter:()=>Sy,catchError:()=>Wn,concatMap:()=>Ci,delay:()=>dr,encodeAxis:()=>oy,encodeColor:()=>to,encodeDefaultColor:()=>Ki,encodeDefaultEdgeColor:()=>_y,encodeDefaultEdgeIcons:()=>hy,encodeDefaultEdgeSize:()=>my,encodeDefaultIcons:()=>Ji,encodeDefaultPointColor:()=>yy,encodeDefaultPointIcons:()=>dy,encodeDefaultPointSize:()=>vy,encodeDefaultSize:()=>Hi,encodeEdgeColor:()=>Fl,encodeEdgeIcons:()=>uy,encodeIcons:()=>Tt,encodePointColor:()=>$l,encodePointIcons:()=>sy,encodePointSize:()=>cy,encodeSize:()=>ro,filter:()=>he,first:()=>Di,forkJoin:()=>lr,fromEvent:()=>Se,getCurrentWorkbook:()=>Oy,graphistryJS:()=>Ul,isEmpty:()=>$i,labelUpdates:()=>Vl,last:()=>Fi,makeCaller:()=>yr,makeCallerJSON:()=>Dl,makeGetter:()=>Q0,makeGetterJSON:()=>ey,makeSetter:()=>ke,makeSetterWithModel:()=>_r,map:()=>K,mergeAll:()=>fr,mergeMap:()=>de,of:()=>Ke,pipe:()=>qi,playUpdates:()=>My,resetColor:()=>ty,resetEdgeColor:()=>ny,resetEdgeIcons:()=>ay,resetIcons:()=>iy,resetPointColor:()=>ry,resetPointIcons:()=>r2,resetPointSize:()=>ly,resetSize:()=>fy,saveWorkbook:()=>Ey,scan:()=>zn,selectionUpdates:()=>Nl,setHighlightExternal:()=>qy,setSelectionExternal:()=>ky,share:()=>hr,shareReplay:()=>ze,startWith:()=>Xn,subscribeLabels:()=>Iy,subscribeSelections:()=>n2,switchMap:()=>ne,take:()=>Ye,takeLast:()=>st,tap:()=>z,tickClustering:()=>wy,timer:()=>pr,toggleClustering:()=>Gi,toggleHistograms:()=>xy,toggleInspector:()=>gy,togglePanel:()=>py,toggleTimebars:()=>by,toggleToolbar:()=>Py,updateSetting:()=>no,updateZoom:()=>Ty});var t,Be,Ll=Object.create,so=Object.defineProperty,Gl=Object.defineProperties,Wl=Object.getOwnPropertyDescriptor,Bl=Object.getOwnPropertyDescriptors,Jl=Object.getOwnPropertyNames,br=Object.getOwnPropertySymbols,Hl=Object.getPrototypeOf,uo=Object.prototype.hasOwnProperty,zi=Object.prototype.propertyIsEnumerable,Yi=(t,n,e)=>n in t?so(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,Mt=(t,n)=>{for(var e in n||(n={}))uo.call(n,e)&&Yi(t,e,n[e]);if(br)for(var e of br(n))zi.call(n,e)&&Yi(t,e,n[e]);return t},ao=(t,n)=>Gl(t,Bl(n)),Xi=(t,n)=>{var e={};for(var r in t)uo.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&br)for(var r of br(t))n.indexOf(r)<0&&zi.call(t,r)&&(e[r]=t[r]);return e},P=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),Ct=(t,n,e)=>(e=null!=t?Ll(Hl(t)):{},((t,n,e,r)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let i of Jl(n))!uo.call(t,i)&&i!==e&&so(t,i,{get:()=>n[i],enumerable:!(r=Wl(n,i))||r.enumerable});return t})(!n&&t&&t.__esModule?e:so(e,"default",{value:t,enumerable:!0}),t)),Qi=P(((Ry,Zi)=>{Zi.exports=function(n,e,r,i){var o=r?r.call(i,n,e):void 0;if(void 0!==o)return!!o;if(n===e)return!0;if("object"!=typeof n||!n||"object"!=typeof e||!e)return!1;var s=Object.keys(n),a=Object.keys(e);if(s.length!==a.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(e),u=0;u<s.length;u++){var c=s[u];if(!f(c))return!1;var v=n[c],y=e[c];if(!1===(o=r?r.call(i,v,y,c):void 0)||void 0===o&&v!==y)return!1}return!0}})),ct=P(((Dy,es)=>{var Yl=es.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=Yl)})),ye=P((($y,ts)=>{var zl=ts.exports={version:"2.6.12"};"number"==typeof __e&&(__e=zl)})),ns=P(((Fy,rs)=>{rs.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}})),xr=P(((Ny,os)=>{var Xl=ns();os.exports=function(t,n,e){if(Xl(t),void 0===n)return t;switch(e){case 1:return function(r){return t.call(n,r)};case 2:return function(r,i){return t.call(n,r,i)};case 3:return function(r,i,o){return t.call(n,r,i,o)}}return function(){return t.apply(n,arguments)}}})),Rt=P(((Vy,is)=>{is.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}})),lt=P(((Uy,ss)=>{var Zl=Rt();ss.exports=function(t){if(!Zl(t))throw TypeError(t+" is not an object!");return t}})),Dt=P(((Ly,us)=>{us.exports=function(t){try{return!!t()}catch(n){return!0}}})),Ne=P(((Gy,as)=>{as.exports=!Dt()((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))})),co=P(((Wy,cs)=>{var fs=Rt(),fo=ct().document,Ql=fs(fo)&&fs(fo.createElement);cs.exports=function(t){return Ql?fo.createElement(t):{}}})),lo=P(((By,ls)=>{ls.exports=!Ne()&&!Dt()((function(){return 7!=Object.defineProperty(co()("div"),"a",{get:function(){return 7}}).a}))})),po=P(((Jy,ps)=>{var wr=Rt();ps.exports=function(t,n){if(!wr(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!wr(r=e.call(t))||"function"==typeof(e=t.valueOf)&&!wr(r=e.call(t))||!n&&"function"==typeof(e=t.toString)&&!wr(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}})),pt=P((hs=>{var ds=lt(),ep=lo(),tp=po(),rp=Object.defineProperty;hs.f=Ne()?Object.defineProperty:function(n,e,r){if(ds(n),e=tp(e,!0),ds(r),ep)try{return rp(n,e,r)}catch(i){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(n[e]=r.value),n}})),$t=P(((Ky,vs)=>{vs.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}})),Ft=P(((Yy,ms)=>{var np=pt(),op=$t();ms.exports=Ne()?function(t,n,e){return np.f(t,n,op(1,e))}:function(t,n,e){return t[n]=e,t}})),dt=P(((zy,ys)=>{var ip={}.hasOwnProperty;ys.exports=function(t,n){return ip.call(t,n)}})),Ve=P(((Xy,gs)=>{var Sr=ct(),ho=ye(),_s=xr(),sp=Ft(),up=dt(),Or="prototype",ie=function(t,n,e){var y,m,h,r=t&ie.F,i=t&ie.G,o=t&ie.S,s=t&ie.P,a=t&ie.B,f=t&ie.W,u=i?ho:ho[n]||(ho[n]={}),c=u[Or],v=i?Sr:o?Sr[n]:(Sr[n]||{})[Or];for(y in i&&(e=n),e)(!(m=!r&&v&&void 0!==v[y])||!up(u,y))&&(h=m?v[y]:e[y],u[y]=i&&"function"!=typeof v[y]?e[y]:a&&m?_s(h,Sr):f&&v[y]==h?function(d){var l=function(p,g,x){if(this instanceof d){switch(arguments.length){case 0:return new d;case 1:return new d(p);case 2:return new d(p,g)}return new d(p,g,x)}return d.apply(this,arguments)};return l[Or]=d[Or],l}(h):s&&"function"==typeof h?_s(Function.call,h):h,s&&((u.virtual||(u.virtual={}))[y]=h,t&ie.R&&c&&!c[y]&&sp(c,y,h)))};ie.F=1,ie.G=2,ie.S=4,ie.P=8,ie.B=16,ie.W=32,ie.U=64,ie.R=128,gs.exports=ie})),vo=P((bs=>{bs.f={}.propertyIsEnumerable})),mo=P(((Qy,xs)=>{var ap={}.toString;xs.exports=function(t){return ap.call(t).slice(8,-1)}})),yo=P(((e_,ws)=>{var fp=mo();ws.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==fp(t)?t.split(""):Object(t)}})),Er=P(((t_,Ss)=>{Ss.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}})),Nt=P(((r_,Os)=>{var cp=yo(),lp=Er();Os.exports=function(t){return cp(lp(t))}})),_o=P((Ps=>{var pp=vo(),dp=$t(),hp=Nt(),vp=po(),mp=dt(),yp=lo(),Es=Object.getOwnPropertyDescriptor;Ps.f=Ne()?Es:function(n,e){if(n=hp(n),e=vp(e,!0),yp)try{return Es(n,e)}catch(r){}if(mp(n,e))return dp(!pp.f.call(n,e),n[e])}})),ks=P(((o_,js)=>{var _p=Rt(),gp=lt(),As=function(t,n){if(gp(t),!_p(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};js.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{(e=xr()(Function.call,_o().f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(r){n=!0}return function(i,o){return As(i,o),n?i.__proto__=o:e(i,o),i}}({},!1):void 0),check:As}})),Ts=P((()=>{var qs=Ve();qs(qs.S,"Object",{setPrototypeOf:ks().set})})),Ms=P(((u_,Is)=>{Ts(),Is.exports=ye().Object.setPrototypeOf})),Pr=P(((a_,Cs)=>{Cs.exports={default:Ms(),__esModule:!0}})),Ar=P(((f_,Rs)=>{var bp=Math.ceil,xp=Math.floor;Rs.exports=function(t){return isNaN(t=+t)?0:(t>0?xp:bp)(t)}})),go=P(((c_,Ds)=>{var wp=Ar(),Sp=Math.min;Ds.exports=function(t){return t>0?Sp(wp(t),9007199254740991):0}})),Fs=P(((l_,$s)=>{var Op=Ar(),Ep=Math.max,Pp=Math.min;$s.exports=function(t,n){return(t=Op(t))<0?Ep(t+n,0):Pp(t,n)}})),Vs=P(((p_,Ns)=>{var Ap=Nt(),jp=go(),kp=Fs();Ns.exports=function(t){return function(n,e,r){var a,i=Ap(n),o=jp(i.length),s=kp(r,o);if(t&&e!=e){for(;o>s;)if((a=i[s++])!=a)return!0}else for(;o>s;s++)if((t||s in i)&&i[s]===e)return t||s||0;return!t&&-1}}})),bo=P(((d_,Us)=>{Us.exports=!0})),xo=P(((h_,Bs)=>{var qp=ye(),Ls=ct(),Gs="__core-js_shared__",Ws=Ls[Gs]||(Ls[Gs]={});(Bs.exports=function(t,n){return Ws[t]||(Ws[t]=void 0!==n?n:{})})("versions",[]).push({version:qp.version,mode:bo()?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),wo=P(((v_,Js)=>{var Tp=0,Ip=Math.random();Js.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Tp+Ip).toString(36))}})),jr=P(((m_,Ks)=>{var Hs=xo()("keys"),Mp=wo();Ks.exports=function(t){return Hs[t]||(Hs[t]=Mp(t))}})),Xs=P(((y_,zs)=>{var Ys=dt(),Cp=Nt(),Rp=Vs()(!1),Dp=jr()("IE_PROTO");zs.exports=function(t,n){var o,e=Cp(t),r=0,i=[];for(o in e)o!=Dp&&Ys(e,o)&&i.push(o);for(;n.length>r;)Ys(e,o=n[r++])&&(~Rp(i,o)||i.push(o));return i}})),So=P(((__,Zs)=>{Zs.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")})),Oo=P(((g_,Qs)=>{var $p=Xs(),Fp=So();Qs.exports=Object.keys||function(n){return $p(n,Fp)}})),tu=P(((b_,eu)=>{var Np=pt(),Vp=lt(),Up=Oo();eu.exports=Ne()?Object.defineProperties:function(n,e){Vp(n);for(var s,r=Up(e),i=r.length,o=0;i>o;)Np.f(n,s=r[o++],e[s]);return n}})),ou=P(((x_,nu)=>{var ru=ct().document;nu.exports=ru&&ru.documentElement})),Ao=P(((w_,su)=>{var Lp=lt(),Gp=tu(),iu=So(),Wp=jr()("IE_PROTO"),Eo=function(){},Po="prototype",kr=function(){var i,t=co()("iframe"),n=iu.length;for(t.style.display="none",ou().appendChild(t),t.src="javascript:",(i=t.contentWindow.document).open(),i.write("<script>document.F=Object<\/script>"),i.close(),kr=i.F;n--;)delete kr[Po][iu[n]];return kr()};su.exports=Object.create||function(n,e){var r;return null!==n?(Eo[Po]=Lp(n),r=new Eo,Eo[Po]=null,r[Wp]=n):r=kr(),void 0===e?r:Gp(r,e)}})),au=P((()=>{var uu=Ve();uu(uu.S,"Object",{create:Ao()})})),cu=P(((E_,fu)=>{au();var Bp=ye().Object;fu.exports=function(n,e){return Bp.create(n,e)}})),qr=P(((P_,lu)=>{lu.exports={default:cu(),__esModule:!0}})),du=P(((A_,pu)=>{var Jp=Ar(),Hp=Er();pu.exports=function(t){return function(n,e){var s,a,r=String(Hp(n)),i=Jp(e),o=r.length;return i<0||i>=o?t?"":void 0:(s=r.charCodeAt(i))<55296||s>56319||i+1===o||(a=r.charCodeAt(i+1))<56320||a>57343?t?r.charAt(i):s:t?r.slice(i,i+2):a-56320+(s-55296<<10)+65536}}})),vu=P(((j_,hu)=>{hu.exports=Ft()})),Tr=P(((k_,mu)=>{mu.exports={}})),Ue=P(((q_,_u)=>{var jo=xo()("wks"),Kp=wo(),ko=ct().Symbol,yu="function"==typeof ko;(_u.exports=function(t){return jo[t]||(jo[t]=yu&&ko[t]||(yu?ko:Kp)("Symbol."+t))}).store=jo})),qo=P(((T_,bu)=>{var zp=pt().f,Xp=dt(),gu=Ue()("toStringTag");bu.exports=function(t,n,e){t&&!Xp(t=e?t:t.prototype,gu)&&zp(t,gu,{configurable:!0,value:n})}})),Su=P(((I_,wu)=>{var Zp=Ao(),Qp=$t(),ed=qo(),xu={};Ft()(xu,Ue()("iterator"),(function(){return this})),wu.exports=function(t,n,e){t.prototype=Zp(xu,{next:Qp(1,e)}),ed(t,n+" Iterator")}})),Vt=P(((M_,Ou)=>{var td=Er();Ou.exports=function(t){return Object(td(t))}})),To=P(((C_,Pu)=>{var rd=dt(),nd=Vt(),Eu=jr()("IE_PROTO"),od=Object.prototype;Pu.exports=Object.getPrototypeOf||function(t){return t=nd(t),rd(t,Eu)?t[Eu]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?od:null}})),Mu=P(((R_,Iu)=>{var Au=bo(),Io=Ve(),id=vu(),ju=Ft(),ku=Tr(),sd=Su(),ud=qo(),ad=To(),Ut=Ue()("iterator"),Mo=!([].keys&&"next"in[].keys()),Ir="values",Tu=function(){return this};Iu.exports=function(t,n,e,r,i,o,s){sd(e,n,r);var l,p,g,a=function(x){if(!Mo&&x in v)return v[x];switch(x){case"keys":case Ir:return function(){return new e(this,x)}}return function(){return new e(this,x)}},f=n+" Iterator",u=i==Ir,c=!1,v=t.prototype,y=v[Ut]||v["@@iterator"]||i&&v[i],m=y||a(i),h=i?u?a("entries"):m:void 0,d="Array"==n&&v.entries||y;if(d&&((g=ad(d.call(new t)))!==Object.prototype&&g.next&&(ud(g,f,!0),!Au&&"function"!=typeof g[Ut]&&ju(g,Ut,Tu))),u&&y&&y.name!==Ir&&(c=!0,m=function(){return y.call(this)}),(!Au||s)&&(Mo||c||!v[Ut])&&ju(v,Ut,m),ku[n]=m,ku[f]=Tu,i)if(l={values:u?m:a(Ir),keys:o?m:a("keys"),entries:h},s)for(p in l)p in v||id(v,p,l[p]);else Io(Io.P+Io.F*(Mo||c),n,l);return l}})),Cu=P((()=>{var cd=du()(!0);Mu()(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=cd(t,n),this._i+=e.length,{value:e,done:!1})}))})),$u=P(((F_,Du)=>{var Ru=lt();Du.exports=function(t,n,e,r){try{return r?n(Ru(e)[0],e[1]):n(e)}catch(o){var i=t.return;throw void 0!==i&&Ru(i.call(t)),o}}})),Nu=P(((N_,Fu)=>{var ld=Tr(),pd=Ue()("iterator"),dd=Array.prototype;Fu.exports=function(t){return void 0!==t&&(ld.Array===t||dd[pd]===t)}})),Uu=P(((V_,Vu)=>{var hd=pt(),vd=$t();Vu.exports=function(t,n,e){n in t?hd.f(t,n,vd(0,e)):t[n]=e}})),Gu=P(((U_,Lu)=>{var Co=mo(),md=Ue()("toStringTag"),yd="Arguments"==Co(function(){return arguments}());Lu.exports=function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(e){}}(n=Object(t),md))?e:yd?Co(n):"Object"==(r=Co(n))&&"function"==typeof n.callee?"Arguments":r}})),Bu=P(((L_,Wu)=>{var gd=Gu(),bd=Ue()("iterator"),xd=Tr();Wu.exports=ye().getIteratorMethod=function(t){if(null!=t)return t[bd]||t["@@iterator"]||xd[gd(t)]}})),Ku=P(((G_,Hu)=>{var Ro,Do=Ue()("iterator"),Ju=!1;try{(Ro=[7][Do]()).return=function(){Ju=!0},Array.from(Ro,(function(){throw 2}))}catch(t){}Hu.exports=function(t,n){if(!n&&!Ju)return!1;var e=!1;try{var r=[7],i=r[Do]();i.next=function(){return{done:e=!0}},r[Do]=function(){return i},t(r)}catch(o){}return e}})),zu=P((()=>{var wd=xr(),$o=Ve(),Sd=Vt(),Od=$u(),Ed=Nu(),Pd=go(),Yu=Uu(),Ad=Bu();$o($o.S+$o.F*!Ku()((function(t){Array.from(t)})),"Array",{from:function(n){var u,c,v,y,e=Sd(n),r="function"==typeof this?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,s=void 0!==o,a=0,f=Ad(e);if(s&&(o=wd(o,i>2?arguments[2]:void 0,2)),null==f||r==Array&&Ed(f))for(c=new r(u=Pd(e.length));u>a;a++)Yu(c,a,s?o(e[a],a):e[a]);else for(y=f.call(e),c=new r;!(v=y.next()).done;a++)Yu(c,a,s?Od(y,o,[v.value,a],!0):v.value);return c.length=a,c}})})),Zu=P(((J_,Xu)=>{Cu(),zu(),Xu.exports=ye().Array.from})),Fo=P(((H_,Qu)=>{Qu.exports={default:Zu(),__esModule:!0}})),Vo=P(((K_,ea)=>{var No=Ve(),jd=ye(),kd=Dt();ea.exports=function(t,n){var e=(jd.Object||{})[t]||Object[t],r={};r[t]=n(e),No(No.S+No.F*kd((function(){e(1)})),"Object",r)}})),ta=P((()=>{var qd=Vt(),Td=To();Vo()("getPrototypeOf",(function(){return function(n){return Td(qd(n))}}))})),na=P(((X_,ra)=>{ta(),ra.exports=ye().Object.getPrototypeOf})),Mr=P(((Z_,oa)=>{oa.exports={default:na(),__esModule:!0}})),ia=P((()=>{var Id=Nt(),Md=_o().f;Vo()("getOwnPropertyDescriptor",(function(){return function(n,e){return Md(Id(n),e)}}))})),ua=P(((tg,sa)=>{ia();var Cd=ye().Object;sa.exports=function(n,e){return Cd.getOwnPropertyDescriptor(n,e)}})),Uo=P(((rg,aa)=>{aa.exports={default:ua(),__esModule:!0}})),fa=P((()=>{var Lo=Ve();Lo(Lo.S+Lo.F*!Ne(),"Object",{defineProperty:pt().f})})),la=P(((ig,ca)=>{fa();var Rd=ye().Object;ca.exports=function(n,e,r){return Rd.defineProperty(n,e,r)}})),Lt=P(((sg,pa)=>{pa.exports={default:la(),__esModule:!0}})),Gt=P((ha=>{var Dd="undefined"!=typeof window&&window,$d="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fd=void 0!==__webpack_require__.g&&__webpack_require__.g,da=Dd||Fd||$d;ha.root=da,function(){if(!da)throw new Error("RxJS could not find any global context (window, self, global)")}()})),Go=P((va=>{va.isFunction=function Nd(t){return"function"==typeof t}})),ya=P((ma=>{ma.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}})),ga=P((_a=>{_a.isObject=function Vd(t){return null!=t&&"object"==typeof t}})),Wo=P((ba=>{ba.errorObject={e:{}}})),Oa=P((Sa=>{var wa,xa=Wo();function Ud(){try{return wa.apply(this,arguments)}catch(t){return xa.errorObject.e=t,xa.errorObject}}Sa.tryCatch=function Ld(t){return wa=t,Ud}})),Ea=P((Cr=>{var Gd=Cr&&Cr.__extends||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},Wd=function(t){function n(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map((function(i,o){return o+1+") "+i.toString()})).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return Gd(n,t),n}(Error);Cr.UnsubscriptionError=Wd})),ka=P((ja=>{var Bd=ya(),Jd=ga(),Hd=Go(),Pa=Oa(),ht=Wo(),Rr=Ea(),Kd=function(){function t(n){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}return t.prototype.unsubscribe=function(){var e,n=!1;if(!this.closed){var r=this,i=r._parent,o=r._parents,s=r._unsubscribe,a=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,u=o?o.length:0;i;)i.remove(this),i=++f<u&&o[f]||null;if(Hd.isFunction(s))Pa.tryCatch(s).call(this)===ht.errorObject&&(n=!0,e=e||(ht.errorObject.e instanceof Rr.UnsubscriptionError?Aa(ht.errorObject.e.errors):[ht.errorObject.e]));if(Bd.isArray(a))for(f=-1,u=a.length;++f<u;){var v=a[f];if(Jd.isObject(v))if(Pa.tryCatch(v.unsubscribe).call(v)===ht.errorObject){n=!0,e=e||[];var y=ht.errorObject.e;y instanceof Rr.UnsubscriptionError?e=e.concat(Aa(y.errors)):e.push(y)}}if(n)throw new Rr.UnsubscriptionError(e)}},t.prototype.add=function(n){if(!n||n===t.EMPTY)return t.EMPTY;if(n===this)return this;var e=n;switch(typeof n){case"function":e=new t(n);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){var r=e;(e=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e},t.prototype.remove=function(n){var e=this._subscriptions;if(e){var r=e.indexOf(n);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(n){var r=this._parent,i=this._parents;r&&r!==n?i?-1===i.indexOf(n)&&i.push(n):this._parents=[n]:this._parent=n},t.EMPTY=((n=new t).closed=!0,n),t;var n}();function Aa(t){return t.reduce((function(n,e){return n.concat(e instanceof Rr.UnsubscriptionError?e.errors:e)}),[])}ja.Subscription=Kd})),Bo=P((qa=>{qa.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}})),Ho=P((Dr=>{var Jo=Gt().root.Symbol;Dr.rxSubscriber="function"==typeof Jo&&"function"==typeof Jo.for?Jo.for("rxSubscriber"):"@@rxSubscriber",Dr.$$rxSubscriber=Dr.rxSubscriber})),Ra=P(($r=>{var Ma=$r&&$r.__extends||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},Ta=Go(),zd=ka(),Ko=Bo(),Xd=Ho(),Ca=function(t){function n(e,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ko.empty;break;case 1:if(!e){this.destination=Ko.empty;break}if("object"==typeof e){e instanceof n?(this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ia(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Ia(this,e,r,i)}}return Ma(n,t),n.prototype[Xd.rxSubscriber]=function(){return this},n.create=function(e,r,i){var o=new n(e,r,i);return o.syncErrorThrowable=!1,o},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var r=this._parent,i=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=i,this},n}(zd.Subscription);$r.Subscriber=Ca;var Ia=function(t){function n(e,r,i,o){t.call(this),this._parentSubscriber=e;var s,a=this;Ta.isFunction(r)?s=r:r&&(s=r.next,i=r.error,o=r.complete,r!==Ko.empty&&(a=Object.create(r),Ta.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=i,this._complete=o}return Ma(n,t),n.prototype.next=function(e){if(!this.isStopped&&this._next){var r=this._parentSubscriber;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},n.prototype.error=function(e){if(!this.isStopped){var r=this._parentSubscriber;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),e;r.syncErrorValue=e,r.syncErrorThrown=!0,this.unsubscribe()}}},n.prototype.complete=function(){var e=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return e._complete.call(e._context)};r.syncErrorThrowable?(this.__tryOrSetError(r,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(e,r){try{e.call(this._context,r)}catch(i){throw this.unsubscribe(),i}},n.prototype.__tryOrSetError=function(e,r,i){try{r.call(this._context,i)}catch(o){return e.syncErrorValue=o,e.syncErrorThrown=!0,!0}return!1},n.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},n}(Ca)})),Fa=P(($a=>{var Yo=Ra(),Da=Ho(),Zd=Bo();$a.toSubscriber=function Qd(t,n,e){if(t){if(t instanceof Yo.Subscriber)return t;if(t[Da.rxSubscriber])return t[Da.rxSubscriber]()}return t||n||e?new Yo.Subscriber(t,n,e):new Yo.Subscriber(Zd.empty)}})),Va=P((Wt=>{var eh=Gt();function Na(t){var n,e=t.Symbol;return"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable",n}Wt.getSymbolObservable=Na,Wt.observable=Na(eh.root),Wt.$$observable=Wt.observable})),Fr=P((Ua=>{var vt=Gt(),th=Fa(),rh=Va(),nh=function(){function t(n){this._isScalar=!1,n&&(this._subscribe=n)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(n,e,r){var i=this.operator,o=th.toSubscriber(n,e,r);if(i?i.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){n.syncErrorThrown=!0,n.syncErrorValue=e,n.error(e)}},t.prototype.forEach=function(n,e){var r=this;if(e||(vt.root.Rx&&vt.root.Rx.config&&vt.root.Rx.config.Promise?e=vt.root.Rx.config.Promise:vt.root.Promise&&(e=vt.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(i,o){var s;s=r.subscribe((function(a){if(s)try{n(a)}catch(f){o(f),s.unsubscribe()}else n(a)}),o,i)}))},t.prototype._subscribe=function(n){return this.source.subscribe(n)},t.prototype[rh.observable]=function(){return this},t.create=function(n){return new t(n)},t}();Ua.Observable=nh})),Wa=P((Nr=>{var oh=Nr&&Nr.__extends||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},La=Gt(),sh=function(t){function n(e,r){t.call(this),this.promise=e,this.scheduler=r}return oh(n,t),n.create=function(e,r){return new n(e,r)},n.prototype._subscribe=function(e){var r=this,i=this.promise,o=this.scheduler;if(null==o)this._isScalar?e.closed||(e.next(this.value),e.complete()):i.then((function(s){r.value=s,r._isScalar=!0,e.closed||(e.next(s),e.complete())}),(function(s){e.closed||e.error(s)})).then(null,(function(s){La.root.setTimeout((function(){throw s}))}));else if(this._isScalar){if(!e.closed)return o.schedule(Ga,0,{value:this.value,subscriber:e})}else i.then((function(s){r.value=s,r._isScalar=!0,e.closed||e.add(o.schedule(Ga,0,{value:s,subscriber:e}))}),(function(s){e.closed||e.add(o.schedule(uh,0,{err:s,subscriber:e}))})).then(null,(function(s){La.root.setTimeout((function(){throw s}))}))},n}(Fr().Observable);function Ga(t){var n=t.value,e=t.subscriber;e.closed||(e.next(n),e.complete())}function uh(t){var n=t.err,e=t.subscriber;e.closed||e.error(n)}Nr.PromiseObservable=sh})),Ja=P((Ba=>{var ah=Wa();Ba.fromPromise=ah.PromiseObservable.create})),Ha=P((()=>{var fh=Fr(),ch=Ja();fh.Observable.fromPromise=ch.fromPromise})),Ka=P(((Bt,zo)=>{var t,n;t=Bt,n=function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(r){return r},n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:o})},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=107)}([function(t,n,e){var r=e(59),i=e(34),o=e(60);t.exports=function(s,a){return null!=(s=s.$expires)&&s!==o&&(s===i?a:s<r())}},function(t,n,e){var r=e(20);t.exports=function(i){for(var o,s=Object.keys(i),a={},f=-1,u=s.length;++f<u;)"$size"===(o=s[f])||r(o)||(a[o]=i[o]);return a}},function(t,n,e){var r=e(54);t.exports=function(i,o,s){return i["f_invalidated"]||(i["f_invalidated"]=!0,o.push(i),r(s,i)),i}},function(t,n,e){(function(r){function i(h){h?(this["f_meta"]=h["f_meta"])||(this["f_meta"]=h):this["f_meta"]={}}function o(h){return function(){var p,d=this.length,l=d;if("number"!=(p=typeof d)&&(!d||"object"!==p||"atom"!==d.$type||"number"!=typeof(l=d.value))||0>l||l!==(0|l)){if("resolved"===this.$__status)throw new RangeError("Invalid FalcorJSON length");return[]}return this.length=l,l=h.apply(this,arguments),this.length=d,l}}function s(h){var d=h,l=typeof d,p=arguments.length;if(0===p)d=this;else if("string"!==l){if(!d||"object"!==l)return d}else{if(1!==p)return d;d=this}return d===r?void 0:d}function f(h,d){return JSON.stringify(c(s.call(this,this),c,!0===h,!1,!0===d))}function c(h,d,l,p,g){if(!h||"object"!=typeof h)return h;var x,_;if(m(h))var b=h;else{var w=-1,S=Object.keys(h),O=S.length;if(b={},p&&(b.__proto__=i.prototype),l&&(x=h["f_meta"])){var j=x.$code,E=x.status,A=x.abs_path,q=x.deref_to,k=x.deref_from;x={},j&&(x.$code=j),A&&(x.abs_path=A),q&&(x.deref_to=q),k&&(x.deref_from=k),g&&E&&(x.status=E),b["f_meta"]=x,p&&((x={}).__proto__=b,b=x)}for(;++w<O;)"f_meta"!==(_=S[w])&&(b[_]=d(h[_],d,l,p,g))}return b}var v={length:!0,toString:!0,constructor:!0,toLocaleString:!0},y={toJSON:{enumerable:!1,value:function a(){return c(s.apply(this,arguments),a)}},toProps:{enumerable:!1,value:function u(h){var l,p,d=s.apply(this,arguments),g=0,x=c(d,u,!0,!0);return d&&(l=d["f_meta"])&&(g=l.version),x&&"object"==typeof x&&(p=x["f_meta"])&&(p.version=g),x}},toString:{enumerable:!1,value:f},toLocaleString:{enumerable:!1,value:f},$__hash:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.$code||""}},$__path:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.abs_path||[]}},$__status:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.status||"resolved"}},$__version:{enumerable:!1,get:function(){var h=this["f_meta"];return h&&h.version||0}}};Object.defineProperties(i.prototype,Object.getOwnPropertyNames(Array.prototype).reduce((function(h,d){if(!v.hasOwnProperty(d)){var l=Array.prototype[d];"function"==typeof l&&(h[d]={value:o(l),writable:!0,enumerable:!1})}return h}),y));var m=Array.isArray;t.exports=i}).call(n,e(35))},function(t,n,e){n=e(5),t.exports=n("NullInPathError",(function(){this.message="`null` is not allowed in branch key positions."}))},function(t,n){t.exports=function(e,r){function i(o){this.message=o,r&&r.apply(this,arguments),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack}return i.prototype=Object.create(Error.prototype),i.prototype.name=e,i.prototype.constructor=i,i.is=function(o){return o.name===e},i}},function(t,n){t.exports=function(e){return null!==e&&"object"==typeof e}},function(t,n,e){t.exports=function(r,i){var o=i["f_refs_length"]||0;i["f_ref"+o]=r,i["f_refs_length"]=o+1,r["f_ref_index"]=o,r["f_context"]=i}},function(t,n){t.exports={$type:"atom"}},function(t,n,e){var r=e(6);t.exports=function(i){return r(i)&&i.$size||0}},function(t,n,e){t.exports=function r(i,o){var a,s=i,f=0,u=o.length;if(0<u)do{for(s=s[o[f]];s&&"ref"===(a=s.$type);)s=r(i,s.value)}while(++f<u&&s&&!a);return s}},function(t,n,e){var r=e(29),i=e(31);t.exports=function(o,s,a,f){var c,u=o;do{0<(u.$size=(u.$size||0)-s)?(c=u["f_parent"])?u["f_version"]!==f&&i(u,f):u["f_version"]=f:(c=u["f_parent"])&&r(u,c,u["f_key"],a,f)}while(u=c);return o}},function(t,n,e){n=e(5),t.exports=n("InvalidKeySetError",(function(r,i){this.mesage="The KeySet "+JSON.stringify(i)+" in path "+JSON.stringify(r)+" contains a KeySet. Keysets can only contain Keys or Ranges"}))},function(t,n,e){var r=e(60);t.exports=function(i,o){if(o.$expires!==r){var s=i["f_head"];if(s){if(s!==o){var a=o["f_prev"],f=o["f_next"];f&&(f["f_prev"]=a),a&&(a["f_next"]=f),o["f_prev"]=void 0,i["f_head"]=o,o["f_next"]=s,s["f_prev"]=o,o===i["f_tail"]&&(i["f_tail"]=a)}}else i["f_head"]=i["f_tail"]=o}}},function(t,n,e){function r(o,s,a){"function"==typeof o||"function"==typeof s||"function"==typeof a?(i.call(this,[]),this.destination={error:s,onError:s,next:o,onNext:o,complete:a,onCompleted:a}):(i.call(this,[],s),this.parent=s,this.destination=o)}var i=e(15);t.exports=r,r.prototype=Object.create(i.prototype),r.prototype.next=r.prototype.onNext=function(o){var s=this.destination;s&&(s.onNext?s.onNext(o):s.next&&s.next(o))},r.prototype.error=r.prototype.onError=function(o){var s=!1,a=this.destination;if(a&&(a.onError?(s=!0,a.onError(o)):a.error&&(s=!0,a.error(o)),this.dispose()),!s)throw o},r.prototype.complete=r.prototype.onCompleted=function(){var o=this.destination;o&&(o.onCompleted?o.onCompleted():o.complete&&o.complete(),this.dispose())},r.prototype.dispose=r.prototype.unsubscribe=function(){this.destination=null,i.prototype.dispose.call(this)}},function(t,n){function e(r,i){this.parent=i,this.subscriptions=r||[]}t.exports=e,e.prototype.add=function(r){return this.subscriptions.push(r)&&this||this},e.prototype.remove=function(r){return~(r=this.subscriptions.indexOf(r))&&this.subscriptions.splice(r,1),this},e.prototype.dispose=e.prototype.unsubscribe=function(){for(var r,i=this.subscriptions;i.length;)(r=i.pop())&&r.dispose&&r.dispose();(r=this.parent)&&(this.parent=null,r.remove&&r.remove(this))}},function(t,n,e){var r=e(0),i=e(2),o=e(13);t.exports=function(s,a,f,u,c,v,y,m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){var k=O;if(a)if(r(s,_))s["f_invalidated"]||i(s,x,g);else{if(o(g,s),void 0!==s.value)return v?(p&&(m[c]=null),E(s,a,c,v,y,m,d,l,p,w,S,j)):void 0;k=!1,O=S}if(S)v&&(y.hasValue=!0);else if(!O)return;return A(u,c,y,m,h,p,d,l,k,S,f,b,w,q,g)}},function(t,n,e){var r=e(10);t.exports=function(i,o){o=o||i._path;var s=i._node;return(!s||void 0===s["f_parent"]||s["f_invalidated"])&&(i._node=null,0===o.length?s=i._root.cache:(s=r(i._root.cache,o),o===i._path&&(i._node=s))),s}},function(t,n,e){function r(y,m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q,k){for(var T={},$=m<y.length-1,C=y[m],I=v(C,T),M=S.index;;){w.depth=m,i(h,d,l,p,g,x,I,$,!1,w,S,O,j,E,A,q,k),w[m]=I,w.index=m;var R=o[0],D=o[1],V=o[4];if(V[V.index++]=I,R&&($?r(y,m+1,h,D,R,p,o[3],o[2],_,b,w,V,O,j,E,A,q,k):(_.push(w.slice(0,w.index+1)),b.push(V.slice(0,V.index)))),I=v(C,T),T.done)break;S.index=M}}function i(y,m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){var k=h;for(h=k.$type;"ref"===h;){e:{l=y,w=d,h=p,p=b,m=S,_=O;var T=j,$=E,C=A,I=q,M=k,R=M.value,D=R.slice(0);if(s(M,I)){a(M,_,T),M=void 0;var V=l;k=w,D.index=R.length}else{var F=0,H=M,N=R.length-1;V=M=l,k=h=w;do{var oe=R[F],me=F<N;if(D.index=F,i(l,V,M,w,k,h,oe,me,!0,p,D,m,_,T,$,C,I),M=o[0],D=o[4],!M||"object"!=typeof M){D.index=F;break e}V=o[1],h=o[2],k=o[3]}while(F++<N);D.index=F,H["f_context"]!==M&&f(H,M)}o[0]=M,o[1]=V,o[2]=h,o[3]=k,o[4]=D}if(!(k=o[0])||"object"!=typeof k)return;m=o[1],p=o[2],l=o[3],w=o[4],h=k.$type}if(void 0===h){if(null==g){if(x)throw new c;k&&(g=k["f_key"])}else l=p,k=(m=k)[g],p=l&&l[g];k=u(m,k,p,g,b,w,S,O,j,E,A,q)}o[0]=k,o[1]=m,o[2]=p,o[3]=l,o[4]=w}var o=Array(5),s=e(0),a=e(2),f=e(7),u=e(81),c=e(4),v=e(23);t.exports=function(y,m,h,d,l){for(var p=(y=y._root).expired,g=y.version+1,x=y.cache,_=[],b=[],w=[],S=[],O=-1,j=m.length;++O<j;){var E=m[O],A=E.paths;E=E.jsonGraph;for(var q=-1,k=A.length;++q<k;){var T=A[q];b.index=0,r(T,0,x,x,x,E,E,E,w,S,_,b,g,p,y,d,h,l)}}return o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=void 0,x["f_version"]===g?(y.version=g,[w,S,!0]):[w,S,!1]}},function(t,n,e){function r(h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){if(h&&"object"==typeof h&&!h.$type){var k=[],T=0;for(var $ in s(h)&&(k[T++]="length"),h)v($)||(k[T++]=$)}else k=void 0;if(k&&k.length){T=0,$=k.length;for(var C=w.index;;){var I=k[T],M=h[I],R=!(!M||"object"!=typeof M||M.$type);b.depth=d,i(l,p,g,I,M,R,!1,b,w,S,O,j,E,A,q),b[d]=I,b.index=d;var D=o[0],V=o[1],F=o[2];if(F[F.index++]=I,D&&(R?r(M,d+1,l,V,D,x,_,b,F,S,O,j,E,A,q):(x.push(b.slice(0,b.index+1)),_.push(F.slice(0,F.index)))),++T>=$)break;w.index=C}}}function i(h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){var k=l;for(l=k.$type;"ref"===l;){e:{w=g,l=h,d=b;var T=S,$=O,C=j,I=E,M=A,R=q,D=k,V=D.value,F=V.slice(0);if(a(D,R))f(D,$,C),D=void 0,k=l,F.index=V.length;else{var H=D;if(null!=(D=D["f_context"]))k=D["f_parent"]||l,F.index=V.length;else{var N=0,oe=V.length-1;F.index=N,k=D=l;do{if(i(l,k,D,V[N],w,N<oe,!0,d,F,T,$,C,I,M,R),D=o[0],F=o[2],!D||"object"!=typeof D){F.index=N;break e}k=o[1]}while(N++<oe);F.index=N,H["f_context"]!==D&&u(H,D)}}o[0]=D,o[1]=k,o[2]=F}if(!(k=o[0])||"object"!=typeof k)return;d=o[1],w=o[2],l=k&&k.$type}if(!x||void 0===l){if(null==p){if(x)throw new y;k&&(p=k["f_key"])}else k=(d=k)[p];k=m(d,k,p,g,x,_,b,w,S,O,j,E,A,q)}o[0]=k,o[1]=d,o[2]=w}var o=Array(3),s=Array.isArray,a=e(0),f=e(2),u=e(7),c=e(10),v=e(33),y=e(4),m=e(48);t.exports=function(h,d,l,p,g){var x=h._root,_=x.expired,b=x.version+1;h=h._path;var w=x.cache,S=c(w,h);if(!S)return[[],[],!1];for(var O=S["f_parent"]||w,j=[],E=[],A=[],q=h.length,k=-1,T=d.length;++k<T;){var $=d[k],C=h.slice(0);C.index=q,r($.json,0,w,O,S,E,A,j,C,b,_,x,p,l,g)}return o[0]=void 0,o[1]=void 0,o[2]=void 0,w["f_version"]===b?(x.version=b,[E,A,!0]):[E,A,!1]}},function(t,n,e){n=e(92),n=new RegExp("^"+n,"i","g"),t.exports=n.test.bind(n)},function(t,n){t.exports=function e(r,i,o){if(o=o||[],i=i||[],!r)return i;for(var s=[],a=r.$keys,f=a.length,u=-1;++u<f;){var c=r[u],v=a[u];c&&"object"==typeof c?e(c,i,o.concat([v])):s.push(v)}return 1===s.length?i.push(o.concat(s)):1<s.length&&i.push(o.concat([s])),i}},function(t,n){t.exports=function(e){for(var r=5381,i=e.length;i;)r=33*r^e.charCodeAt(--i);return r>>>0}},function(t,n){function e(i,o){var s=o.from=i.from||0;i=o.to=i.to||"number"==typeof i.length&&o.from+i.length-1||0,o.rangeOffset=o.from,o.loaded=!0,s>i&&(o.empty=!0)}var r=Array.isArray;t.exports=function(i,o){if(void 0===o.isArray){o.done=!1;var s=o.isObject=!(!i||"object"!=typeof i);o.isArray=s&&r(i),o.arrayOffset=0}if(o.isArray){var a;do{if(o.loaded&&o.rangeOffset>o.to&&(++o.arrayOffset,o.loaded=!1),o.arrayOffset>=i.length){o.done=!0;break}"object"==typeof(s=i[o.arrayOffset])?(o.loaded||e(s,o),o.empty||(a=o.rangeOffset++)):(++o.arrayOffset,a=s)}while(void 0===a);return a}return o.isObject?(o.loaded||e(i,o),o.rangeOffset>o.to?void(o.done=!0):o.rangeOffset++):(o.done=!0,i)}},function(t,n,e){t.exports=e(40)},function(t,n,e){t.exports=e(43)},function(t,n){t.exports=function(e,r,i,o,s){var a=0,f=o.jsonGraph;for(f||(o.jsonGraph=f={});;){if(o=r[a++],a>=i){f=f[o]=!0!==s?e:f[o]||{};break}f=f[o]||(f[o]={})}return f}},function(t,n){var e=Array.isArray;t.exports=function(r,i,o,s,a,f,u,c,v,y,m,h,d,l,p){if(v||y){for(var g,x=-1,_=(f=a-i)&&Array(f)||void 0;++x<f;){var b=g=r[x+i];if("object"!=typeof b||null===b)b=!1;else if(e(b))b=0===b.length;else{var w=b.to,S=b.from||0;"number"!=typeof w&&(w=S+(b.length||0)),b=S>=w}if(b)return;_[x]=g}var O;if(r=null===g,g=v,v){b=a,w=s;var j=o.requested||(o.requested=[])}else i=c,w=u,b=c+f-Number(r);for(;;){if(f<a||!g){for(s=-1,x=i,O=Array(b);++s<x;)O[s]=w[s];for(x=-1;s<b;)O[s++]=_[++x]}if(g=!g){v&&(j[j.length]=O);break}j[j.length]=O||_,i=c,w=u,j=o.missing||(o.missing=[]),b=c+f-Number(r)}if(y)return l(m,O,i,b,h,d,p,v)}}},function(t,n,e){function r(h,d,l,p,g,x,_,b,w){var S={},O=d<h.length-1,j=h[d],E=m(j,S);do{i(l,p,g,E,O,!1,x,_,b,w),E=o[0];var A=o[1];E&&(O?r(h,d+1,l,A,E,x,_,b,w):y(E,u(E),b,x)),E=m(j,S)}while(!S.done)}function i(h,d,l,p,g,x,_,b,w,S){var O=l;for(l=O.$type;"ref"===l;){e:{d=h,l=_,x=b;var j=w,E=S;if(s(O,E))a(O,x,j),o[0]=void 0,o[1]=d;else{f(j,O);var A=O,q=O.value;if(null!=(O=O["f_context"]))var k=O["f_parent"]||d;else{var T=0,$=q.length-1;k=O=d;do{if(i(d,k,O,q[T],T<$,!0,l,x,j,E),!(O=o[0])&&"object"!=typeof O)break e;k=o[1]}while(T++<$);A["f_context"]!==O&&c(A,O)}o[0]=O,o[1]=k}}if(!(O=o[0])&&"object"!=typeof O)return;d=o[1],l=O.$type}if(void 0===l)if(null==p){if(g)throw Error("`null` is not allowed in branch key positions.")}else O=(d=O)[p];o[0]=O,o[1]=d}var o=Array(2),s=e(0),a=e(2),f=e(13),u=e(9),c=e(7),v=e(17),y=e(11),m=e(23);t.exports=function(h,d,l){var p=h._root,g=p.expired,x=p.version+1,_=p.cache;if(!(h=v(h)))return!1;for(var b=-1,w=d.length,S=h["f_parent"]||_;++b<w;)r(d[b],0,_,S,h,x,g,p,l);return o[0]=void 0,o[1]=void 0,_["f_version"]===x&&(p.version=x,!0)}},function(t,n,e){var i=e(54),o=e(33),s=e(84),a=e(85),f=e(31);t.exports=function r(u,c,v,y,m){if(u&&"object"==typeof u){var h=u.$type;if(void 0===h)for(var d in u)o(d)||r(u[d],u,d,y,m);else"ref"===h&&a(u),i(y,u);return s(f(u,m)),c[v]=u["f_parent"]=void 0,!0}return!1}},function(t,n,e){function r(m,h,d,l,p,g,x,_,b,w,S,O,j,E,A,q){for(var k={},T=d<h.length-1,$=h[d],C=v($,k),I=w.index;;){b.depth=d,b[d]=C,b.index=d,i(l,p,g,C,m,T,!1,b,w,S,O,j,E,A,q),b[d]=C,b.index=d;var M=o[0],R=o[1],D=o[2];if(D[D.index++]=C,M&&(T?r(m,h,d+1,l,R,M,x,_,b,D,S,O,j,E,A,q):(x.push(b.slice(0,b.index+1)),_.push(D.slice(0,D.index)))),C=v($,k),k.done)break;w.index=I}}function i(m,h,d,l,p,g,x,_,b,w,S,O,j,E,A){var q=d;for(d=q.$type;"ref"===d;){e:{b=p,d=m,h=_;var k=w,T=S,$=O,C=j,I=E,M=A,R=q,D=R.value,V=D.slice(0);if(s(R,M))a(R,T,$),R=void 0,q=d,V.index=D.length;else{var F=R;if(null!=(R=R["f_context"]))q=R["f_parent"]||d,V.index=D.length;else{var H=0,N=D.length-1;q=R=d;do{var oe=D[H],me=H<N;if(V.index=H,i(d,q,R,oe,b,me,!0,h,V,k,T,$,C,I,M),R=o[0],V=o[2],!R||"object"!=typeof R){V.index=H;break e}q=o[1]}while(H++<N);V.index=H,F["f_context"]!==R&&f(F,R)}}o[0]=R,o[1]=q,o[2]=V}if(!(q=o[0])||"object"!=typeof q)return;h=o[1],b=o[2],d=q.$type}if(!g||void 0===d){if(null==l){if(g)throw new c;q&&(l=q["f_key"])}else q=(h=q)[l];q=y(h,q,l,p,g,x,_,b,w,S,O,j,E,A)}o[0]=q,o[1]=h,o[2]=b}var o=Array(3),s=e(0),a=e(2),f=e(7),u=e(10),c=e(4),v=e(23),y=e(48);t.exports=function(m,h,d,l,p){var g=m._root,x=g.expired,_=g.version+1;m=m._path;var b=g.cache,w=u(b,m);if(!w)return[[],[],!1];for(var S=w["f_parent"]||b,O=[],j=[],E=[],A=m.length,q=-1,k=h.length;++q<k;){var T=h[q],$=T.path;T=T.value;var C=m.slice(0);C.index=A,r(T,$,0,b,S,w,j,E,O,C,_,x,g,l,d,p)}return o[0]=void 0,o[1]=void 0,o[2]=void 0,b["f_version"]===_?(g.version=_,[j,E,!0]):[j,E,!1]}},function(t,n,e){t.exports=function(r,i){var o=r,s=[],a=0;do{var f=-1,u=o["f_parent"];o["f_version"]=i;for(var c=o["f_refs_length"]||0;u&&u["f_version"]!==i&&(s[a++]=u),++f<c;)u=o["f_ref"+f]}while(o=s[--a]);return r}},function(t,n,e){var r=e(6);t.exports=function(i){return r(i)&&i.$timestamp||void 0}},function(t,n,e){t.exports=function(i){return i&&"$"===i[0]||r(i)};var r=e(20)},function(t,n){t.exports=0},function(t,n){n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}t.exports=n},function(t,n,e){var r=e(39),i=e(37),o=e(38);t.exports=function(s){return r(o(i(s)))}},function(t,n,e){function r(s,a){var f=a.length;return(f=s[f]||(s[f]=[]))[f.length]=a,s}var i=Array.isArray,o=e(21);t.exports=function(s,a){return a&&"object"==typeof a||(a={}),s?(!i(s)&&i(s.$keys)&&(s=o(s)),s.reduce(r,a)):a}},function(t,n,e){var r=e(65);t.exports=function(i,o){var s=Object.keys(i),a=-1,f=s.length,u=o;for(u&&"object"==typeof u||(u={});++a<f;)u[o=s[a]]=r(i[o],u[o]);return u}},function(t,n,e){function r(y,m,h){var w,d=Object.create(null),l=""+c(""+m),p=[],g=-1,x=0,_=[],b=0,S=[],O=-1;if(m<h-1){for(w=o(y,S);++O<w;){var j=S[O],E=r(y[j],m+1,h),A=E.code;d[A]?E=d[A]:(p[x++]=A,E=d[A]={keys:[],sets:E.sets}),l=""+c(l+j+A),s(j)&&E.keys.push(parseInt(j,10))||E.keys.push(j)}for(;++g<x;)if(0<(w=(S=(E=d[j=p[g]]).keys).length))for(m=-1,h=(y=E.sets).length,O=S[0];++m<h;){E=-1,A=(j=y[m]).length;var q=Array(A+1);for(q[0]=1<w&&S||O;++E<A;)q[E+1]=j[E];_[b++]=q}}else for(w=o(y,S),_[b++]=1<w?[S]:S;++O<w;)l=""+c(l+S[O]);return{code:l,sets:_}}function i(y,m){return y-m}function o(y,m,h){var d=0;if(y===v)m[d++]=null;else{for(var l in y)m[d++]=l;1<d&&m.sort(h)}return d}function s(y){var m=y,h=typeof y;if("string"===h){if(0===(m=y.length)||17<m||!u.test(y))return!1;if(16>m)return!0;m=+y}else if("number"!==h)return!1;return m%1==0&&9007199254740991>=f(m)}var a=Array.isArray,f=Math.abs,u=/^(0|(\-?[1-9][0-9]*))$/,c=e(22),v=e(8);t.exports=function(y){var m,l,h=[],d=0;for(l in y){var p;if((p=s(l))&&(p=null!==(p=m=y[l])&&"object"==typeof p),p)for(var g=-1,x=(p=r(m,0,parseInt(l,10)).sets).length;++g<x;){for(var _=d++,b=p[g],w=-1,S=b.length;++w<S;){var O=b[w];if(a(O)){for(var j=b,E=w,A=-1,q=O.length-1,k=0<q;++A<=q;){var T=O[A];if(!s(T)){k=!1;break}O[A]=parseInt(T,10)}!0===k&&(O.sort(i),A=O[0],(k=O[q])-A<=q&&(O={from:A,to:k})),j[E]=O}}h[_]=b}}return h},t.exports._isSafeNumber=s},function(t,n,e){var r=Array.isArray,i=e(73),o=e(72),s=e(17),a=e(90),f=e(64),u=e(62);t.exports=function(c,v,y,m,h){var d,p,l=v;v=c._path;var g=c._root,x=g.cache,_=v&&v.length||0;if(_){if((d=s(c))&&d.$type)return{error:new a(v,v)};var b=[];for(p=0;p<_;++p)b[p]=v[p];p=c._referenceContainer}else d=x,b=[];var w=[],S=!1;m=y&&y.json;var O=c._boxed,j=g.expired,E=c._recycleJSON,A=!!c._source,q=g.branchSelector,k=y&&c._materialized,T=c._treatErrorsAsValues,$=c._allowFromWhenceYouCame;c={args:null,data:y,hasValue:!1,relative:null,requested:null,missing:null};var C=0,I=l.length;if(0<I){E&&(S=!0,(1<I&&h||r(l[0]))&&(l=[u(f(l,{}))]),I=1);do{var M=l[C];S?E=o(x,d,m,M,0,y,c,w,b,_,!1,p,g,j,h,q,O,k,A,T,$):(E=M.length,E=i(x,d,m,M,0,y,c,w,E,b,_,!1,p,g,j,h,q,O,k,A,T,$)),m=E[0],E[0]=void 0,E[1]=void 0}while(++C<I)}if(h=c.requested,c.args=S&&l||h,h&&h.length&&(c.relative=c.args,_)){for(l=[],p=0,_=h.length;p<_;++p)l[p]=v.concat(h[p]);c.requested=l}return c.hasValue&&(y.json=m),c}},function(t,n,e){var r=Array(3),i=e(13),o=e(0),s=e(7),a=e(52);t.exports=function(f,u,c,v){i(c,u);for(var y,m=0,h=f,d=u.value,l=d,p=d.length;;){if(0===m&&void 0!==(y=u["f_context"]))h=y,m=p;else{var g=d[m++];if(void 0===(h=h[g]))break}if(m===p){if(void 0!==(g=h.$type)&&o(h,v))break;if(h===u)throw new a(d);if(h!==y&&s(u,h),"ref"!==g)break;i(c,h),m=0,u=h,h=f,p=(d=l=u.value).length}else if(void 0!==h.$type)break}for(m<p&&void 0!==h&&(p=m),m=-1,d=Array(p);++m<p;)d[m]=l[m];return r[0]=h,r[1]=d,r[2]=u,r}},function(t,n,e){var r=e(1),i=e(71);t.exports=function(o,s,a,f,u,c,v,y,m,h,d,l){return"error"!==s||l?(u.hasValue=!0,h?r(o):o.value):i(o,a,u,c,m,h)}},function(t,n,e){var r=e(76),i=e(88);t.exports=function(o,s,a,f,u){var c=o._path;f=o._root;var v=c&&c.length||0;if(v)return{error:new i};for(var y=[],m=c=f.cache,h=[],d=o._boxed,l=f.expired,p=o._materialized,g=!!o._source,x=-1,_=s.length,b=o._treatErrorsAsValues,w={args:null,data:a,paths:null,relative:null,requested:null,jsonGraph:null};++x<_;){var S=s[x];o=S.length,r(m,c,S,0,a,w,h,o,y,v,!1,f,l,u,d,p,g,b)}return w.args=w.relative=w.requested,w}},function(t,n,e){var i=Array.isArray,o=e(1),s=e(3);e(4);var a=e(12),f=e(8);t.exports=function r(u,c,v,y,m,h,d,l){if(v===y)return h?o(f):void 0;var p,g=v+1,x=-1,_=0,b=c[v];u&&"object"==typeof u?((p=u["f_meta"])||(u["f_meta"]=p={}),p.status=l?"pending":"resolved",p.version=d.version,p.abs_path=c.slice(0,v)):((u={}).__proto__=s.prototype,u["f_meta"]=p={},p.status=l?"pending":"resolved",p.version=d.version,p.abs_path=c.slice(0,v),m&&(u=m(u)));e:for(;;){if("object"!=typeof b)v=b,l=void 0,b=!1;else{if(i(b)){if(void 0!==w)throw new a(c,w);x=0;var w=b;if(0===(_=b.length))break e;b=w[x];continue e}if(l=b.to,v=b.from||0,"number"!=typeof l&&(l=v+(b.length||0)-1),0>l-v)break e;b=!0}do{u[v]=r(u[v],c,g,y,m,h,d)}while(b&&++v<=l);if(++x===_)break e;b=w[x]}return u}},function(t,n,e){var r=Array.isArray,i=e(102),o=e(57),s=e(58);t.exports=function(a){for(var v,y,m,h,f=[],u=-1,c=a.length;++u<c;)m=a[u],r(m)?(m={path:m},h="PathValues"):i(m)?h="PathValues":s(m)?h="JSONGraphs":o(m)&&(h="PathMaps"),y!==h&&(y=h,f.push(v={arguments:[],inputType:h})),v.arguments.push(m);return f}},function(t,n,e){t.exports=function(r,i,o,s,a){return r["f_key"]=o,r["f_parent"]=i,void 0!==s&&(r["f_version"]=s),r["f_abs_path"]||(r["f_abs_path"]=a.slice(0,a.index).concat(o)),i[o]=r}},function(t,n,e){function r(h,d,l,p,g,x,_,b,w,S){if(h&&"object"==typeof h&&!h.$type)for(var O in h)if(!y(O)){var j=h[O],E=!(!j||"object"!=typeof j||j.$type);i(l,p,g,O,j,E,!1,x,_,b,w,S);var A=o[0],q=o[1];A&&(E?r(j,d+1,l,q,A,x,_,b,w,S):m(A,u(A),b,x))}}function i(h,d,l,p,g,x,_,b,w,S,O,j){var E=l;for(l=E.$type;"ref"===l;){e:{d=g,l=h,_=b;var A=w,q=S,k=O,T=j;if(s(E,T))a(E,A,q),o[0]=void 0,o[1]=l;else{f(q,E);var $=E,C=E.value;if(null!=(E=E["f_context"]))var I=E["f_parent"]||l;else{var M=0,R=C.length-1;I=E=l;do{if(i(l,I,E,C[M],d,M<R,!0,_,A,q,k,T),!(E=o[0])&&"object"!=typeof E)break e;I=o[1]}while(M++<R);$["f_context"]!==E&&c($,E)}o[0]=E,o[1]=I}}if(!(E=o[0])&&"object"!=typeof E)return;d=o[1],l=E.$type}if(void 0===l)if(null==p){if(x)throw Error("`null` is not allowed in branch key positions.")}else E=(d=E)[p];o[0]=E,o[1]=d}var o=Array(2),s=e(0),a=e(2),f=e(13),u=e(9),c=e(7),v=e(17),y=e(33),m=e(11);t.exports=function(h,d,l){var p=h._root,g=p.expired,x=p.version+1,_=p._comparator,b=p.cache;if(!(h=v(h)))return!1;for(var w=-1,S=h["f_parent"]||b,O=d.length;++w<O;)r(d[w].json,0,b,S,h,x,g,p,_,l);return o[0]=void 0,o[1]=void 0,b["f_version"]===x&&(p.version=x,!0)}},function(t,n,e){var r=e(34),i=e(101),o=e(9),s=e(32),a=e(51),f=e(0),u=e(2),c=e(46),v=e(50),y=e(49),m=e(11);e(29),t.exports=function(h,d,l,p,g,x,_,b,w,S,O,j,E,A){return A=i(d,x),g||x?(A&&f(d,!0)&&(u(d,S,O),A=d.$expires===r?A:"expired"),(A&&"ref"!==A||!d||"object"!=typeof d)&&(d=v(d,{},h,l,O,w),d=c(d,h,l,w,b))):(g=i(p),(A||g)&&(j?3>j.length?j(d,p):j(d,p,b.slice(0,b.index)):s(p)<s(d))||(E&&"error"===g&&(p=E(y(_,l),p)),_=o(d)-o(p=a(p,g,g?p.value:p)),d=v(d,p,h,l,O,w),h=m(h,_,O,w),d=c(d,h,l,w,b))),d}},function(t,n){t.exports=function(e,r){return(e=e.slice(0,e.depth))[e.length]=r,e}},function(t,n,e){var r=e(83),i=e(29),o=e(31);t.exports=function(s,a,f,u,c,v){return s===a?s:(s&&"object"==typeof s&&(r(s,a),i(s,f,u,c),o(a,v)),f[u]=a)}},function(t,n,e){var r=Array.isArray,i=e(59),o=e(99),s=e(9),a=e(100),f=e(34);t.exports=function(u,c,v){var y=0;if(c){var m=u["f_wrapped_value"];u=o(u),y=s(u),u.$type=c,u["f_prev"]=void 0,u["f_next"]=void 0,u["f_wrapped_value"]=m||!1}else u={$type:"atom",value:v,"f_prev":void 0,"f_next":void 0,"f_wrapped_value":!0};if(null==v)y=51;else if(null==y||0>=y)switch(typeof v){case"object":y=r(v)?50+v.length:51;break;case"string":y=50+v.length;break;default:y=51}return"number"==typeof(c=a(u))&&c<f&&(u.$expires=i()+-1*c),u.$size=y,u}},function(t,n,e){n=e(5),t.exports=n("CircularReferenceError",(function(r){this.message="Encountered circular reference "+JSON.stringify(r)}))},function(t,n,e){n=e(5),t.exports=n("InvalidSourceError",(function(r){this.message="An exception was thrown when making a request:\n\t"+r}))},function(t,n,e){t.exports=function(r,i){var o=i["f_prev"],s=i["f_next"];s&&(s["f_prev"]=o),o&&(o["f_next"]=s),i["f_prev"]=i["f_next"]=void 0,i===r["f_head"]&&(r["f_head"]=s),i===r["f_tail"]&&(r["f_tail"]=o)}},function(t,n,e){(function(r){function i(f){if(f)switch(typeof f){case"object":this.source=f;break;case"function":this.source={subscribe:f}}}var o=e(14),s=e(15),a=e(103).default;t.exports=i,i.prototype[a]=function(){return this},i.prototype.operator=function(f){return this.subscribe(f)},i.prototype.subscribe=function(f,u,c){return new s([this.operator.call(this.source,f instanceof o?f:new o(f,u,c))])},i.prototype.then=function(f,u){var c=this;return this._promise||(this._promise=new r.Promise((function(v,y){var m=[],h=!1;c.subscribe({next:function(d){m[m.length]=d},error:function(d){h=!0,y(d)},complete:function(){!h&&v(1>=m.length?m[0]:m)}})}))),this._promise.then(f,u)}}).call(n,e(35))},function(t,n){function e(){}var r={dispose:function(){},unsubscribe:function(){}};e.prototype.schedule=function(i){return i(),r},t.exports=e},function(t,n,e){var r=e(6);t.exports=function(i){return r(i)&&"json"in i}},function(t,n,e){var r=Array.isArray,i=e(6);t.exports=function(o){return i(o)&&r(o.paths)&&(i(o.jsonGraph)||i(o.jsong)||i(o.json)||i(o.values)||i(o.value))}},function(t,n){t.exports=Date.now},function(t,n){t.exports=1},function(t,n,e){function r(o){if(!(this instanceof i))return new i(o);i.call(this,o)}var i=e(66);n=e(3),r.prototype=Object.create(i.prototype),r.Model=i,r.FalcorJSON=n,r.toProps=n.prototype.toProps,t.exports=r},function(t,n,e){var i=e(22);t.exports=function r(o){if(void 0!==o){for(var s="",a=o.$keys,f=-1,u=a.length;++f<u;){var c=a[f];if(null===c)s=""+i(s+"null");else{"object"==typeof c&&(c="["+c.from+".."+(c.from+c.length-1)+"]");var v=r(o[f]);s=void 0===v?""+i(""+s+c):""+i(""+s+c+v.$code)}}return o.$code=s,o}}},function(t,n,e){var i=Array.isArray,o=e(8);t.exports=function r(s,a,f,u){if(f===u)return!0;var c=-1,v=0,y=f+1,m=a[f];if(null===m)return s===o;e:for(;;){if("object"!=typeof m){f=m;var h=void 0,d=!1}else{if(i(m)){if(void 0!==l)break e;c=0;var l=m;if(0===(v=m.length))break e;m=l[c];continue e}if(h=m.to,f=m.from||0,"number"!=typeof h&&(h=f+(m.length||0)-1),0>h-f)break e;d=!0}do{if(y===u){if(null!==s[f])return!1}else if(null==(m=s[f])||!1===r(m,a,y,u))return!1}while(d&&++f<=h);if(++c===v)break e;m=l[c]}return!0}},function(t,n,e){function i(f,u,c,v){if(c!==v){var y=(f=f||{}).$keys||(f.$keys=[]),m=f.$keysMap||(f.$keysMap={}),h=-1,d=0,l=c+1,p=u[c];if(null===p)return s;e:for(;;){if("object"!=typeof p){var g=p;void 0===(c=m[g])&&(c=y.length),y[c]=g,m[g]=c,void 0!==(p=i(f[c],u,l,v))&&(f[c]=p)}else{if(o(p)){if(void 0!==x)break e;h=0;var x=p;if(0===(d=p.length))break e;p=x[h];continue e}if(c=p.to,g=p.from||0,"number"!=typeof c&&(c=g+(p.length||0)-1),0>c-g)break e;p={from:g,length:c-g+1},void 0===(c=m[g="["+g+".."+c+"]"])&&(c=y.length),y[c]=p,m[g]=c,void 0!==(p=i(f[c],u,l,v))&&(f[c]=p)}if(++h===d)break e;p=x[h]}return f}}var o=Array.isArray,s={$keys:[null],$keysMap:{null:0}},a=e(21);t.exports=function r(f,u){return f.reduce((function(c,v){return o(v)?i(c,v,0,v.length):o(v.$keys)?r(a(v),c):c}),u||{})}},function(t,n,e){function r(s,a,f,u,c){if(f===u)return!0;s=s||{};var m,v=-1,y=0,h=f+1,d=a[f];if(null===d)return o;e:for(;;){if("object"!=typeof d){f=d;var l=void 0,p=!1}else{if(i(d)){if(void 0!==g)break e;v=0;var g=d;if(0===(y=d.length))break e;d=g[v];continue e}if(l=d.to,f=d.from||0,"number"!=typeof l&&(l=f+(d.length||0)-1),0>l-f)break e;p=!0}do{h===u?s[f]=c:(m=r(d=s[f],a,h,u,c))?d||(s[f]=m):s[f]=c}while(p&&++f<=l);if(++v===y)break e;d=g[v]}return s}var i=Array.isArray,o=e(8);t.exports=function(s,a){return s.reduce((function(f,u){return r(f,u,0,u.length,null)}),a||{})}},function(t,n,e){function r(_){_=_||{},this._node=_._node,this._path=_._path||[],this._source=_.source||_._source,this._root=_._root||new o(_,this),this._recycleJSON=!0===_.recycleJSON||_._recycleJSON,this._scheduler=_.scheduler||_._scheduler||new u,_._seed?(this._recycleJSON=!0,this._seed=_._seed,void 0===_.treatErrorsAsValues&&(_.treatErrorsAsValues=!0)):this._recycleJSON&&(this._seed={},this._seed.__proto__=s.prototype,void 0===_.treatErrorsAsValues&&(_.treatErrorsAsValues=!0)),this._boxed=!0===_.boxed||_._boxed||!1,this._materialized=!0===_.materialized||_._materialized||!1,this._treatErrorsAsValues=!0===_.treatErrorsAsValues||_._treatErrorsAsValues||!1,this._allowFromWhenceYouCame=!0===_.allowFromWhenceYouCame||_._allowFromWhenceYouCame||!1,_.cache&&this.setCache(_.cache)}var i=e(94),o=e(68),s=e(3),a=e(67),f=e(98),u=e(56),c=e(36);e(9);var v=e(6),y=e(57),m=e(10),h=e(58),d=e(19),l=e(18),p=e(24),g=e(78),x=e(25);t.exports=r,r.prototype.constructor=r,r.prototype.get=function(){var _=this._seed;_||((_={}).__proto__=s.prototype);for(var b=arguments.length,w=Array(b),S=0;S<b;S++)w[S]=arguments[S];return new i("get",this,w)._toJSON(_,[])},r.prototype.set=function(){var _={};_.__proto__=s.prototype;for(var b=arguments.length,w=Array(b),S=0;S<b;S++)w[S]=arguments[S];return new i("set",this,w)._toJSON(_,[])},r.prototype.preload=function(){for(var _=arguments.length,b=Array(_),w=0;w<_;w++)b[w]=arguments[w];return new i("get",this,b)._toJSON(null,[])},r.prototype.call=function(){var _={};_.__proto__=s.prototype;for(var b=arguments.length,w=Array(b),S=0;S<b;S++)w[S]=arguments[S];return new i("call",this,w)._toJSON(_,[])},r.prototype.invalidate=function(){for(var _=arguments.length,b=Array(_),w=0;w<_;w++)b[w]=arguments[w];return new i("invalidate",this,b)._toJSON(null,null).then()},r.prototype.deref=e(87),r.prototype._hasValidParentReference=e(86),r.prototype.getValue=function(_){return new i("get",this,[_])._toJSON({},[]).lift((function(b){return this.subscribe({onNext:function(w){var S=-1;w=w.json;for(var O=_.length;w&&!w.$type&&++S<O;)w=w[_[S]];b.onNext(w)},onError:b.onError.bind(b),onCompleted:b.onCompleted.bind(b)})}))},r.prototype.setValue=function(_,b){return _=1===arguments.length?_.path:_,new i("set",this,[b=1===arguments.length?_:{path:_,value:b}])._toJSON({},[]).lift((function(w){return this.subscribe({onNext:function(S){var O=-1;S=S.json;for(var j=_.length;S&&!S.$type&&++O<j;)S=S[_[O]];w.onNext(S)},onError:w.onError.bind(w),onCompleted:w.onCompleted.bind(w)})}))},r.prototype.setCache=function(_){var b=this._root,w=b.cache;if(_!==w){var O,j,S={_path:[],_boxed:!1,_root:b,_materialized:!1,_treatErrorsAsValues:!1};b.cache=this._node={},void 0!==w&&(b.expired=[],b["f_head"]=void 0,b["f_tail"]=void 0,this._recycleJSON&&(this._seed={},this._seed.__proto__=s.prototype)),h(_)?O=l(S,[_]):y(_)?O=d(S,[_]):v(_)&&(O=d(S,[{json:_}])),O&&(O[0].length&&p(S,O[0],null,!1,!1),O[2]&&(j=b.onChange)&&j.call(b.topLevelModel))}else void 0===w&&(this._root.cache={});return this},r.prototype.getCache=function(){for(var _=arguments.length,b=Array(_),w=0;w<_;w++)b[w]=arguments[w];return 0===b.length?g(this,this._root.cache):((_={}).__proto__=s.prototype,(_=x({_path:[],_root:this._root,_boxed:this._boxed,_materialized:this._materialized,_treatErrorsAsValues:this._treatErrorsAsValues},b,_).data).paths=c(b),_)},r.prototype.getVersion=function(_){if(_=_||[],!1===Array.isArray(_))throw Error("Model#getVersion must be called with an Array path.");return this._path.length&&(_=this._path.concat(_)),this._getVersion(this,_)},r.prototype._clone=function(_){var b=new r(this);if(_)for(var w in _){var S=_[w];"delete"===S?delete b[w]:"_path"===w?(b[w]=S,!1===_.hasOwnProperty("_node")&&delete b._node):b[w]=S}return 0<b._path.length&&(b.setCache=void 0),b},r.prototype.batch=function(_){var b;return"number"==typeof _?b=new f(Math.round(Math.abs(_))):_?"function"==typeof _.schedule?b=_:"function"==typeof _&&(b={scheudle:_}):b=new f(1),this._clone({_scheduler:b})},r.prototype.unbatch=function(){return this._clone({_scheduler:new u})},r.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})},r.prototype.asDataSource=function(){return new a(this)},r.prototype._materialize=function(){return this._clone({_materialized:!0})},r.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})},r.prototype.boxValues=function(){return this._clone({_boxed:!0})},r.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})},r.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})},r.prototype.inspect=function(){return"{ v: "+this.getVersion()+" p: ["+this._path.join(", ")+"] }"},r.prototype.toJSON=function(){return{$type:"ref",value:this.getPath()}},r.prototype.getPath=function(){return this._path.slice(0)},r.prototype._fromWhenceYouCame=function(_){return this._clone({_allowFromWhenceYouCame:void 0===_||_})},r.prototype._optimizePath=function(_){return((_=m(this._root.cache,_))&&_["f_abs_path"]||[]).slice(0)},r.prototype._getVersion=e(79),r.prototype._getPathValuesAsPathMap=p,r.prototype._getPathValuesAsJSONG=x,r.prototype._setPathValues=e(30),r.prototype._setPathMaps=e(19),r.prototype._setJSONGs=e(18),r.prototype._setCache=e(19),r.prototype._invalidatePathValues=e(28),r.prototype._invalidatePathMaps=e(47)},function(t,n){function e(r){this._model=r._materialize().treatErrorsAsValues()}e.prototype.get=function(r){return this._model.get.apply(this._model,r)._toJSONG()},e.prototype.set=function(r){return this._model.set(r)._toJSONG()},e.prototype.call=function(r,i,o,s){return this._model.call.apply(this._model,[r,i,o].concat(s))._toJSONG()},t.exports=e},function(t,n,e){function r(o,s){o=o||{},this.cache={},this.version=-1,this.syncRefCount=0,this.maxRetryCount=10,this.topLevelModel=s,this.requests=new i(this),this.expired=o.expired||[],this.collectRatio=.75,this.maxSize=Math.pow(2,53)-1,"number"==typeof o.collectRatio&&(this.collectRatio=o.collectRatio),"number"==typeof o.maxSize&&(this.maxSize=o.maxSize),"function"==typeof o.comparator&&(this.comparator=o.comparator),"function"==typeof o.branchSelector&&(this.branchSelector=o.branchSelector),"function"==typeof o.errorSelector&&(this.errorSelector=o.errorSelector),"function"==typeof o.branchSelector&&(this.branchSelector=o.branchSelector),"function"==typeof o.onChange&&(this.onChange=o.onChange),"function"==typeof o.onChangesCompleted&&(this.onChangesCompleted=o.onChangesCompleted)}var i=e(95);e(32),r.comparator=r.prototype.comparator=function(o,s){var f,a=o&&o.$type,u=s&&s.$type;if(a){if(!u)return o.value===s;if(a!==u)return!1;if((f=s.$timestamp)<(u=o.$timestamp))return!0;if(void 0!==f&&void 0===u||o.$expires!==s.$expires)return!1;if("ref"===a){if((a=(o=o.value).length)!==(s=s.value).length)return!1;for(;~--a;)if(o[a]!==s[a])return!1;return!0}return o.value===s.value}return!u&&o===s},t.exports=r},function(t,n,e){var r=e(24),i=e(25);t.exports={json:function(o,s,a,f){var u=!1;if(!s)return{missing:!1,hasValue:!1};var c=[].concat(s[1]||[]),v=[].concat(s[2]||[]),y=[].concat(s[3]||[]);return s=(o._path||[]).concat(s[0]||[]),f&&y&&y.length&&(u=r(o,y,a,f,!0).hasValue),{data:a,missing:!0,hasValue:u,fragments:[s,c,v,y]}},jsonGraph:function(o,s,a,f){var u=!1;if(!s)return{missing:!1,hasValue:!1};var c=[].concat(s[1]||[]),v=[].concat(s[2]||[]),y=[].concat(s[3]||[]);return s=(o._path||[]).concat(s[0]||[]),f&&y&&y.length&&(u=i({_root:o._root,_boxed:o._boxed,_materialized:o._materialized,_treatErrorsAsValues:o._treatErrorsAsValues},y,a,!0,!0).hasValue),{data:a,missing:!0,hasValue:u,fragments:[s,c,v,y]}}}},function(t,n,e){t.exports={json:e(40),jsonGraph:e(43)}},function(t,n,e){var r=e(1);t.exports=function(i,o,s,a,f,u){var c=-1;for(o+=!!f,f=Array(o),i=u?r(i):i.value;++c<o;)f[c]=a[c];(s.errors||(s.errors=[])).push({path:f,value:i})}},function(t,n,e){function i(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$){if(E)return T(A,p,g,g,q,k,$,j,x,_,S,O,w,i);p=p?l(p):[[]];var C=_.slice(0,b);return p.forEach((function(I){return b=g+I.length,v(C.concat(I),g,x,_,b,w,S,O,j,!1,A,q,k,T,$)}))}var s=Array(2),a=e(42),f=e(3),u=e(0),c=e(16),v=e(27),y=e(41),m=e(77),h=e(4);e(12);var d=e(22),l=e(21);t.exports=function r(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$,C,I,M,R,D,V){var F,N,H=A;if(void 0===g||void 0!==(F=g.$type)||void 0===_)return s[1]=void 0===g,s[0]=c(g,F,x,_,b,w,S,O,b,j,E,H,k,T,$,C,I,M,R,D,a,i,m),s;F="",A=_.$keys;var oe=b+1,me=E+1;if(V&&q)var ce=q.value,le=q["f_abs_path"];if(x&&"object"==typeof x){if(N=x["f_meta"]){var Q=g["f_abs_path"],Z=N.abs_path;if(C||x instanceof f||(x.__proto__={},x.__proto__["f_meta"]=N,x.__proto__.__proto__=f.prototype),!function o(p,g){if(p===g)return!0;var x=p.length;if(x!==g.length)return!1;for(;~--x;)if(p[x]!==g[x])return!1;return!0}(Q,Z)){if(N.$code="",N.status=R?"pending":"incomplete",N.abs_path=Q,N.version=g["f_version"],ce&&(N.deref_to=ce),le&&(N.deref_from=le),Z=N.keys)for(Y in N.keys=Object.create(null),Z)Z[Y]&&delete x[Y];return s[0]=x,s[1]=!0,s}if(N.version===g["f_version"]&&N.$code===_.$code)return S.hasValue=!0,s[0]=x,s[1]=!1,s;Z=N.keys,N.abs_path=Q,N.version=g["f_version"],ce&&(N.deref_to=ce),le&&(N.deref_from=le)}}else x=void 0;Q=Object.create(null);var ut=-1,at=A.length,Oe=!1;e:for(;++ut<at;){H=A[ut];var Ee=_[ut];if(null===H){if(void 0!==Ee)throw new h;F=""+d(F+"null")}else{if("object"!=typeof H)var Y=H,qe=void 0,Te=!1,Re=Y;else{if(qe=H.to,Y=H.from||0,"number"!=typeof qe&&(qe=Y+(H.length||0)-1),0>qe-Y)break e;Te=!0,Re="["+Y+".."+qe+"]"}do{H=!1;var It=x&&x[Y],gr=j,oo=me,io=q,Xe=g[Y];if(O[b]=Y,j[E]=Y,void 0===Ee){if(r(p,Xe,It,Ee,oe,w,S,O,gr,oo,H,io,k,T,$,C,I,M,R,D,V),!0===s[1]&&(Oe=!0),void 0===(It=s[0])&&!M){x&&x.hasOwnProperty(Y)&&delete x[Y];continue}}else{if(Xe&&"ref"===Xe.$type&&!u(Xe,$)){var ft=y(p,Xe,k,$);Xe=ft[0],H=!0,gr=ft[1],io=ft[2],oo=gr.length,ft[0]=ft[1]=ft[2]=void 0}if(r(p,Xe,It,Ee,oe,w,S,O,gr,oo,H,io,k,T,$,C,I,M,R,D,V),!0===s[1]&&(Oe=!0),void 0===(It=s[0])){x&&x.hasOwnProperty(Y)&&delete x[Y];continue}}void 0===N&&((N={}).version=g["f_version"],N.abs_path=g["f_abs_path"],ce&&(N.deref_to=ce),le&&(N.deref_from=le),(x={})["f_meta"]=N,x.__proto__=f.prototype,C?x=C(x):(H=x,(x={}).__proto__=H)),Q[Y]=!0,Z&&Y in Z&&(Z[Y]=!1),x[Y]=It}while(Te&&++Y<=qe);F=""+d(""+F+(Oe?"":Re)+(Ee?Ee.$code:""))}}if(N&&(N.$code=F,N.keys=Q,N.status=Oe?R?"pending":M?"resolved":"incomplete":"resolved",Z))for(Y in Z)Z[Y]&&delete x[Y];return s[0]=x,s[1]=Oe,s}},function(t,n,e){var i=Array(2),o=Array.isArray,s=e(42),a=e(27),f=e(3),u=e(16),c=e(0),v=e(44),y=e(41),m=e(4),h=e(12);t.exports=function r(d,l,p,g,x,_,b,w,S,O,j,E,A,q,k,T,$,C,I,M,R,D){var V;if(void 0===l||(V=l.$type)||x===S)return i[1]=void 0===l,i[0]=u(l,V,p,g,x,_,b,w,S,O,j,E,q,k,T,$,C,I,M,R,s,a,v),i;var F,H=x+1,N=-1,oe=0,me=j+1;if(null===(E=g[x])){if(H<S)throw new m;return i[0]=p,i[1]=!1,i}if(D&&A)var ce=A.value,le=A["f_abs_path"];p&&"object"==typeof p?(F=p["f_meta"])&&(F.version=l["f_version"],F.abs_path=l["f_abs_path"],ce&&(F.deref_to=ce),le&&(F.deref_from=le)):p=void 0;var Q=!1;e:for(;;){if("object"!=typeof E){V=E;var Z=void 0,ut=!1}else{if(o(E)){if(void 0!==at)throw new h(g,at);N=0;var at=E;if(0===(oe=E.length))break e;E=at[N];continue e}if(Z=E.to,V=E.from||0,"number"!=typeof Z&&(Z=V+(E.length||0)-1),0>Z-V)break e;ut=!0}do{E=!1;var Oe=p&&p[V],Ee=O,Y=me,qe=A,Te=l[V];if(w[x]=V,O[j]=V,H===S){if(r(d,Te,Oe,g,H,_,b,w,S,Ee,Y,E,qe,q,k,T,$,C,I,M,R,D),!0===i[1]&&(Q=!0),void 0===(Oe=i[0])&&!I)continue}else{if(Te&&"ref"===Te.$type&&!c(Te,T)){var Re=y(d,Te,q,T);Te=Re[0],E=!0,Ee=Re[1],qe=Re[2],Y=Ee.length,Re[0]=Re[1]=Re[2]=void 0}if(r(d,Te,Oe,g,H,_,b,w,S,Ee,Y,E,qe,q,k,T,$,C,I,M,R,D),!0===i[1]&&(Q=!0),void 0===(Oe=i[0]))continue}void 0===F&&((F={}).version=l["f_version"],F.abs_path=l["f_abs_path"],ce&&(F.deref_to=ce),le&&(F.deref_from=le),(p={})["f_meta"]=F,p.__proto__=f.prototype,$&&(p=$(p))),p[V]=Oe}while(ut&&++V<=Z);if(++N===oe)break e;E=at[N]}return F&&(F.status=Q?M?"pending":I?"resolved":"incomplete":"resolved"),i[0]=p,i[1]=Q,i}},function(t,n,e){var r=Array(2),i=e(1),o=e(26),s=e(13),a=e(0),f=e(7),u=e(52);t.exports=function(c,v,y,m,h){s(y,v);for(var d,l=0,p=c,g=v.value,x=g,_=g.length;;){if(0===l&&void 0!==(d=v["f_context"]))p=d,l=_;else{var b=g[l++];if(void 0===(p=p[b]))break}if(l===_){if(void 0!==(b=p.$type)&&a(p,h))break;if(p===v)throw new u(g);if(p!==d&&f(v,p),"ref"!==b)break;s(y,p),m&&o(i(p),g,_,m),l=0,v=p,p=c,_=(g=x=v.value).length}else if(void 0!==p.$type)break}for(l<_&&void 0!==p&&(_=l),l=-1,g=Array(_);++l<_;)g[l]=x[l];return r[0]=p,r[1]=g,r}},function(t,n,e){var r=e(1),i=e(26);t.exports=function(o,s,a,f,u,c,v,y,m,h,d){return d=o.value,(h||"ref"===s||"error"===s||!o["f_wrapped_value"]||"object"==typeof d)&&(d=r(o)),u.hasValue=!0,i(d,v,y,f),(f.paths||(f.paths=[])).push(c.slice(0,a+!!m)),d}},function(t,n,e){function i(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$){var C;if(A&&E){(A.paths||(A.paths=[])).push((C=b-g==0)&&_.slice(0,g+!!w)||_.slice(0,g).concat(p.slice(g,b+!!w)));var I=f(C&&s(l)||void 0,S,O,A,!C)}return y(p,g,x,_,b,w,S,O,j,!C&&E,I,q,!0,T,$)}var o=Array.isArray,s=e(1),a=e(75),f=e(26),u=e(0),c=e(16),v=e(44),y=e(27),m=e(74),h=e(4),d=e(12),l=e(8);t.exports=function r(p,g,x,_,b,w,S,O,j,E,A,q,k,T,$,C,I,M){var R;if(void 0===g||(R=g.$type)||_===O)return c(g,R,b,x,_,b,w,S,O,j,E,A,q,k,T,void 0,$,C,I,M,a,i,v);var D=_+1,V=-1,F=0,H=E+1;if(null===(A=x[_])){if(D<O)throw new h}else e:for(;;){if("object"!=typeof A){R=A;var N=void 0,oe=!1}else{if(o(A)){if(void 0!==me)throw new d(x,me);V=0;var me=A;if(0===(F=A.length))break e;A=me[V];continue e}if(N=A.to,R=A.from||0,"number"!=typeof N&&(N=R+(A.length||0)-1),0>N-R)break e;oe=!0}do{A=!1;var ce=j,le=H,Q=g[R];if(S[_]=R,j[E]=R,Q&&D<O&&"ref"===Q.$type&&!u(Q,T)){b&&f(s(Q),j,le,b);var Z=m(p,Q,q,b,T);Q=Z[0],A=!0,le=(ce=Z[1]).length,Z[0]=Z[1]=void 0}r(p,Q,x,D,b,w,S,O,ce,le,A,q,k,T,$,C,I,M)}while(oe&&++R<=N);if(++V===F)break e;A=me[V]}}},function(t,n,e){var i=e(1),o=e(16),s=e(3),a=e(4);e(12);var f=e(8);t.exports=function r(u,c,v,y,m,h,d,l,p,g,x,_,b,w){if(void 0===c)return o(void 0,void 0,u,c,v,void 0,p,g,v,x,_,b,d,void 0,!1,m,h,!1,l,!1,void 0,w,void 0),h?i(f):void 0;var S,O,j=c.$keys,E=v+1,A=_+1;u&&"object"==typeof u?((S=u["f_meta"])?O=S.keys:u["f_meta"]=S={},S.$code="",S.status=l?"pending":"resolved",S.version=d.version,S.abs_path=x.slice(0,_)):((u={}).__proto__=s.prototype,u["f_meta"]=S={},S.$code="",S.status=l?"pending":"resolved",S.version=d.version,S.abs_path=x.slice(0,_),m&&(u=m(u))),y=Object.create(null);var q=-1,k=j.length;e:for(;++q<k;){var T=j[q],$=c[q];if(null===T){if(void 0!==$)throw new a}else{if("object"!=typeof T){var C=T,I=void 0;T=!1}else{if(I=T.to,C=T.from||0,"number"!=typeof I&&(I=C+(T.length||0)-1),0>I-C)break e;T=!0}do{g[v]=C,x[_]=C,y[C]=!0,O&&C in O&&(O[C]=!1),u[C]=r(u[C],$,E,E,m,h,d,l,p,g,x,A,b,w)}while(T&&++C<=I)}}if(S.keys=y,O)for(C in O)O[C]&&delete u[C];return u}},function(t,n,e){function r(s,a,f,u){var c,v;if(!s||"object"!=typeof s)return s;if(c=s.$type)return void 0===(v=s.value)?u?v={$type:"atom"}:s["f_wrapped_value"]&&(v=i(s)):(f||"ref"===c||"error"===c||!s["f_wrapped_value"]||"object"==typeof v)&&(v=i(s)),v;for(var y=(c=Object.keys(s)).length,m=-1;++m<y;){var h=c[m];"$size"===h||o(h)||void 0===(v=r(s[h],a&&a[h],f,u))||(void 0===a&&(a={}),a[h]=v)}return a}var i=e(1),o=e(20);t.exports=function(s,a){return r(a,{},s._boxed,s._materialized)}},function(t,n,e){var r=e(17);t.exports=function(i,o){return null==(i=(i=r(i,o))&&i["f_version"])?-1:i}},function(t,n,e){function r(s,a,f,u,c){f=!1,u=-1;for(var v=(a=o(a)).length;++u<v;){var y=a[u],m=y.inputType;0<(y=y.arguments).length&&("PathValues"===m&&(y=y.map(i)),(0,t.exports["invalidate"+m])(s,y,c)&&(f=!0))}return f&&(c=s._root.onChange)&&c.call(s._root.topLevelModel),{}}function i(s){return s.path||s.paths}var o=e(45);t.exports={json:r,jsonGraph:r,invalidatePathMaps:e(47),invalidatePathValues:e(28)}},function(t,n,e){var r=e(51),i=e(0),o=e(46),s=e(2),a=e(50),f=e(9),u=e(49),c=e(32),v=e(11);t.exports=function(y,m,h,d,l,p,g,x,_,b,w,S){var O,j,E;if(m===h){if(void 0===h)return h;if(null===h)return m=r(h,void 0,h),y=v(y,-m.$size,_,g),o(m,y,d,void 0,p);if((j=!(!m||"object"!=typeof m))&&void 0===(O=m.$type))return void 0===m["f_parent"]&&o(m,y,d,g,p),m}else(j=!(!m||"object"!=typeof m))&&(O=m.$type);if("ref"!==O){if(E=!(!h||"object"!=typeof h))var A=h.$type;if(j&&!O&&(null==h||E&&!A))return m}else{if(null==h)return i(m,S)?void s(m,x,_):m;if((E=!(!h||"object"!=typeof h))&&"ref"===(A=h.$type))if(m===h){if(null!=m["f_parent"])return m}else{var q=m.$timestamp,k=h.$timestamp;if(!i(m,S)&&!i(h,S)&&k<q)return}}return O&&E&&!A?o(a(m,h,y,d,_,g),y,d,void 0,p):(A||!E?("error"===A&&w&&(h=w(u(l,d),h)),A&&m===h?m["f_parent"]||(m=r(m,O,m.value),y=v(y,-m.$size,_,g),m=o(m,y,d,g,p)):(l=!0,O||A?j&&i(m,S)||(l=b?!(3>b.length?b(m,h):b(m,h,p.slice(0,p.index))):!(c(h)<c(m))):l=!0,l&&(b=f(m)-f(h=r(h,A,A?h.value:h)),m=a(m,h,y,d,_,g),y=v(y,b,_,g),m=o(m,y,d,g,p))),i(m,!0)&&s(m,x,_)):null==m&&(m=o(h,y,d,void 0,p)),m)}},function(t,n,e){function r(u,c,v){var y=!1,m=-1,h=c.length,d=[],l=[],p=u._root,g=p.errorSelector;for(v=v&&!u._source,p=u._source?null:p.comparator;++m<h;){var x=c[m],_=x.inputType;if(0<(x=x.arguments).length){var b=(0,t.exports["set"+_])(u,x,g,p,v);y=y||b[2],l.push.apply(l,b[1]),"PathValues"===_?d.push.apply(d,x.map(i)):"JSONGraphs"===_?d.push.apply(d,o(x,i)):d.push.apply(d,b[0])}}return{changed:y,requested:d,optimized:l}}function i(u){return u.path||u.paths}function o(u,c){for(var v=-1,y=-1,m=u.length,h=[];++y<m;)for(var d=c(u[y],y,u),l=-1,p=d.length;++l<p;)h[++v]=d[l];return h}var s=e(24),a=e(25),f=e(45);t.exports={json:function(u,c,v,y,m){var h,d=f(c),l=r(u,d,m);if((c=l.requested).length){if(!(h=l.changed)||y)var p=s(u,c,v,y,m);if(h){var g=a({_root:u._root,_boxed:u._boxed,_materialized:!0,_treatErrorsAsValues:u._treatErrorsAsValues},l.optimized,{},y,m),x=g.data,_=x.paths;g=g.requested,(y=u._root.onChange)&&y.call(u._root.topLevelModel)}}return{args:d,data:v,missing:_,relative:c,fragments:x,requested:g,error:p&&p.error,errors:p&&p.errors,hasValue:p&&p.hasValue}},jsonGraph:function(u,c,v,y,m){var h,d=f(c),l=r(u,d,m);if((c=l.requested).length&&(y||(h=l.changed))){var p=a({_root:u._root,_boxed:u._boxed,_materialized:!0,_treatErrorsAsValues:u._treatErrorsAsValues},l.optimized,v,y,m),g=p.data,x=g.paths,_=p.requested;h&&(y=u._root.onChange)&&y.call(u._root.topLevelModel)}return{args:d,data:v,missing:x,relative:c,fragments:g,requested:_,error:p&&p.error,hasValue:p&&p.hasValue}},setPathMaps:e(19),setPathValues:e(30),setJSONGraphs:e(18)}},function(t,n,e){t.exports=function(r,i){for(var o=r["f_refs_length"]||0,s=i["f_refs_length"]||0,a=-1;++a<o;){var f=r["f_ref"+a];void 0!==f&&(f["f_context"]=i,f["f_ref_index"]=s+a,i["f_ref"+(s+a)]=f,r["f_ref"+a]=void 0)}return i["f_refs_length"]=o+s,r["f_refs_length"]=void 0,i}},function(t,n,e){t.exports=function(r){for(var i=-1,o=r["f_refs_length"]||0;++i<o;){var s=r["f_ref"+i];null!=s&&(s["f_context"]=s["f_ref_index"]=r["f_ref"+i]=void 0)}return r["f_refs_length"]=void 0,r}},function(t,n,e){t.exports=function(r){var i=r["f_context"];if(i){for(var o=(r["f_ref_index"]||0)-1,s=(i["f_refs_length"]||0)-1;++o<=s;){var a=i["f_ref"+(o+1)];(i["f_ref"+o]=a)&&(a["f_ref_index"]=o)}i["f_refs_length"]=s,r["f_ref_index"]=r["f_context"]=void 0}return r}},function(t,n,e){t.exports=function(){var r=this._referenceContainer;return!this._allowFromWhenceYouCame||!0===r||!(!1===r||r&&void 0===r["f_parent"]||r&&r["f_invalidated"])}},function(t,n,e){var r=e(3),i=e(10);e(89),t.exports=function(o){var s;if(!o||"object"!=typeof o||!(s=o["f_meta"])||"object"!=typeof s)return null;var c,a=this._root.cache,f=this._recycleJSON,u=s.abs_path;if(!u){if(f){var v={json:o};v.__proto__=r.prototype}return this._clone({_node:void 0,_seed:v})}if(0===u.length)return f&&((v={json:o}).__proto__=r.prototype),this._clone({_node:a,_path:u,_referenceContainer:!0,_seed:v});var y=s.deref_to,m=s.deref_from,h=i(a,u),d="e";if(m){d=!1,s=-1;var l=m.length;for(c=a;++s<l&&(c=c[m[s]])&&!c.$type;);if(y&&c&&"ref"===c.$type)for(d=!0,l=y.length,a=c.value,s=0;s<l;++s)if(a[s]!==y[s]){h=void 0,d=!1;break}}return d?"e"===d&&(c=!0):c=!1,f&&((v={json:o}).__proto__=r.prototype),this._clone({_seed:v,_node:h,_path:u,_referenceContainer:c})}},function(t,n,e){n=e(5),t.exports=n("BoundJSONGraphModelError",(function(){this.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model."}))},function(t,n,e){n=e(5),t.exports=n("InvalidDerefInputError",(function(){this.message="Deref can only be used with a non-primitive object from get, set, or call."}))},function(t,n,e){n=e(5),t.exports=n("InvalidModelError",(function(r,i){this.message="The boundPath of the model is not valid since a value or error was found before the path end.",this.boundPath=r,this.shortedPath=i}))},function(t,n,e){function r(i){return i.map((function(o){return JSON.stringify(o)})).join(",\n\t")}n=e(5),t.exports=n("MaxRetryExceededError",(function(i,o,s,a){this.message="Exceeded the max retry count ("+i+") for these paths: \n"+(o&&"absolute: [\n\t"+r(o)+"\n]\n"||"")+(s&&"relative: [\n\t"+r(s)+"\n]\n"||"")+(a&&"optimized: [\n\t"+r(a)+"\n]\n"||"")}))},function(t,n){t.exports=String.fromCharCode(30)+"f_"},function(t,n,e){var r=e(11);t.exports=function(i,o,s,a,f,u){"number"!=typeof f&&(f=.75);for(var c,v=a*f;f=o.pop();)s-=c=f.$size||0,r(f,c,i,u);if(s>=a){for(o=i["f_tail"];s>=v&&(f=o);)o=o["f_prev"],s-=c=f.$size||0,r(f,c,i,u);i["f_tail"]=f,null==f?i["f_head"]=void 0:f["f_next"]=void 0}}},function(t,n,e){function r(l,p,g){u.call(this,l),p&&g&&(this.type=l,this.source=this,this.model=p,this._args=g)}function i(l,p,g,x,_){this.data=l,this.errors=p,this.operation=g,this.progressive=x,this.maxRetryCount=_}function o(l,p,g,x,_,b){c.call(this,l),this.data=p,this.request=this.missing=null,this.started=!1,this.retryCount=-1,this.errors=g,this.errored=!1,this.relative=null,this.hasValue=!1,this.requested=this.fragments=null,this.completed=!1,this.operation=x,this.progressive=_,this.maxRetryCount=b}function s(l,p,g,x){"jsonGraph"===p&&l.paths&&(l.paths=m(l.paths));try{++g.syncRefCount,x.onNext(l)}catch(_){throw _}finally{--g.syncRefCount}}function a(l,p){try{throw p}catch(g){c.prototype.onError.call(l,g)}}function f(l,p){for(var g,x,_,b=Object.keys(p),w=-1,S=b.length;++w<S;)"f_meta"!==(_=b[w])&&(x=p[_],(g=l[_])!==x&&(x&&"object"==typeof x?void 0===g?l[_]=x:f(g,x):void 0===g&&(l[_]=x)));return l}var u=e(55),c=e(14),v=e(93),y=e(3),m=e(36),h=e(53),d=e(91);t.exports=r,r.prototype=Object.create(u.prototype),r.prototype.lift=function(l,p){return(p=new r(p||this)).type=this.type,p.model=this.model,p._args=this._args,p.operator=l,l.data=l.data||this.operator.data,l.errors=l.errors||this.operator.errors,l.operation=l.operation||this.operator.operation,l.progressive=l.progressive||this.operator.progressive,l.maxRetryCount=l.maxRetryCount||this.operator.maxRetryCount,p},r.prototype.operator=function(l){return this._subscribe(l)},r.prototype._subscribe=function(l){return l.onNext({type:this.type,args:this._args,model:this.model,version:this.model._root.version}),l.onCompleted(),l},r.prototype._toJSON=function(l,p){return void 0===l&&((l={}).__proto__=y.prototype),this.lift(new i(l,p||this.operator.errors,"json",this.operator.progressive,this.operator.maxRetryCount),this.source)},r.prototype._toJSONG=function(l,p){return void 0===l&&((l={}).__proto__=y.prototype),this.lift(new i(l,p||this.operator.errors,"jsonGraph",this.operator.progressive,this.operator.maxRetryCount),this.source)},r.prototype.retry=function(l){return this.lift(new i(this.operator.data,this.operator.errors,this.operator.operation,this.operator.progresive,l),this.source)},r.prototype.progressively=function(){return this.lift(new i(this.operator.data,this.operator.errors,this.operator.operation,!0,this.operator.maxRetryCount),this.source)},i.prototype.call=function(l,p){return l.subscribe(new o(p,this.data,this.errors,this.operation,this.progressive))},o.prototype=Object.create(c.prototype),o.prototype.operations={get:e(70),set:e(82),call:e(69),invalidate:e(80)},o.prototype.next=o.prototype.onNext=function(l){if(this.started){if(this.destination){var p,g=l.type;l=l.args||l.paths;var x=this.data,_=this.model,b=this.errors,w=this.hasValue,S=this.operation,O=this.progressive,j=O&&x;if(_._recycleJSON&&"get"===this.type&&(j=!1),j&&((x={}).__proto__=y.prototype),l&&l.length){var E=this.operations[g][S](_,l,x,O||!_._source,-1===this.retryCount);if(E.error)return a(this,E.error);b&&E.errors&&b.push.apply(b,E.errors),(p=E.fragments)&&(l=E.args,this.fragments=p),this.relative=E.relative,this.requested=E.requested,this.missing=p=E.missing,this.hasValue=w||(w=E.hasValue)}this.completed=!p||!_._source,"set"!==g&&(this.args=l,j&&(this.data=f(x,this.data))),O&&w&&x&&(x.json||x.jsonGraph)&&s(x,S,_._root,this.destination)}}else this.args=l.args,this.type=l.type,this.model=l.model,this.version=l.version,this.maxRetryCount=this.maxRetryCount||this.model._root.maxRetryCount},o.prototype.error=o.prototype.onError=function(l){if(l instanceof h)return c.prototype.onError.call(this,l);this.errored=!0,this.onCompleted(l)},o.prototype.complete=o.prototype.onCompleted=function(l){if(this.destination){var p,g;if(!this.started&&(this.started=!0)?this.onNext(this):(g=this.errored)&&this.onNext({type:"get",paths:this.relative}),g||this.completed)return!this.progressive&&this.hasValue&&((p=this.data)&&p.json||p.jsonGraph)&&s(p,this.operation,this.model._root,this.destination),p=this.errors,g||l||p&&p.length?a(this,p.length&&p||l):c.prototype.onCompleted.call(this);if(++this.retryCount>=this.maxRetryCount)return a(this,new d(this.retryCount,this.requested,this.relative,this.missing));this.request=this.model._root.requests[this.type](this.model,this.missing,this.relative,this.fragments).subscribe(this)}},o.prototype.dispose=o.prototype.unsubscribe=function(){var l=this.model,p=this.version,g=this.request;this.errors=this.model=this.data=this.args=null,this.completed=this.hasValue=this.started=this.errored=!1,c.prototype.dispose.call(this),g&&(this.request=null,g.dispose()),l&&(g=(l=l._root).cache,0>=l.syncRefCount&&p!==l.version&&(g&&v(l,l.expired,g.$size||0,l.maxSize,l.collectRatio,l.version),(p=l.onChangesCompleted)&&p.call(l.topLevelModel)))}},function(t,n,e){function r(c){f.call(this,[]),this.modelRoot=c}function i(c,v,y,m,h){this.queue=c,this.dataSource=v,this.scheduler=y,this.requested=m,this.optimized=h}var o=e(55),s=e(96),a=e(14),f=e(15),u=e(56);t.exports=r,r.prototype=Object.create(f.prototype),r.prototype.set=function(c,v,y,m){var h=this;return new o((function(d){var l=new s("set",h,c._source,new u);return d=l.subscribe(new a(d,l)),h.add(l),l.data=m.jsonGraph,l.requested.push(y),l.optimized.push(v),l.connect(),d}))},r.prototype.call=function(c,v,y,m){var h=this;return new o((function(d){var l=new s("call",h,c._source,new u);return d=l.subscribe(new a(d,l)),h.add(l),l.data=m,l.boundPath=c._path,l.connect(),d}))},r.prototype.get=function(c,v,y){return new i(this,c._source,c._scheduler,y,v)},i.prototype.subscribe=function(c){for(var v,y=this.queue,m=this.dataSource,h=this.requested,d=this.optimized,l=this.scheduler,p=-1,g=y.subscriptions,x=g.length,_=new f([],c);++p<x&&("get"!==(v=g[p]).type||((v=v.batch(h,d,h=[],d=[]))&&_.add(v.subscribe(new a(c,v))),d.length)););return d.length&&(v=g[p]=new s("get",y,m,l).batch(h,d),_.add(v.subscribe(new a(c,v))),v.connect()),_}},function(t,n,e){function r(l,p,g,x){a.call(this,[],p),this.trees=[],this.type=l,this.data=null,this.responded=this.active=!1,this.paths=null,this.requested=[],this.optimized=[],this.disposable=null,this.dataSource=g,this.scheduler=x}function i(){var l=this.paths=y(h(this.optimized.reduce((function(g,x){return m(x,g)}),{})));this.trees=this.optimized.map((function(g){return h(m(g))})),this.active=!0;try{switch(this.type){case"get":var p=this.dataSource.get(l);break;case"set":p=this.dataSource.set({paths:l,jsonGraph:this.data});break;case"call":p=this.dataSource.call.apply(this.dataSource,this.data)}this.disposable=p.subscribe(this)}catch(g){this.disposable={},a.prototype.onError.call(this,new f(g))}}function o(l,p){var g;if(!l||0===(g=l.length))return p;var x=[],_=-1,b=-1,w=p.length;e:for(;++b<w;){var S=p[b];if(S.length>g){var O=0;do{if(S[O]!==l[O])continue e}while(++O<g);x[++_]=S.slice(g)}}return x}var s=Array.isArray,a=e(97);e(14),e(15);var f=e(53),u=e(18),c=e(30),v=e(28),y=e(39),m=e(37),h=e(38),d=e(63);t.exports=r,r.prototype=Object.create(a.prototype),r.prototype.next=r.prototype.onNext=function(l){var p=this.parent;if(p){this.responded=!0;var g=!1,x=l.jsonGraph,_=this.boundPath;p=p.modelRoot;var b=l.invalidated,w=l.paths||this.paths,S=this.requested.slice(0);l=this.observers.slice(0);var O=p.onChange;b&&b.length&&(g=v({_root:p,_path:[]},b,!1)),w&&w.length&&x&&"object"==typeof x&&(x=u({_root:p},[{paths:w,jsonGraph:x}],p.errorSelector,p.comparator,!1),w=x[0],g=g||x[2]),l.forEach((function(j,E){j.onNext({type:"get",paths:S[E]||o(_,w)})})),g&&O&&O.call(p.topLevelModel)}},r.prototype.error=r.prototype.onError=function(l){var p=this.parent;if(p){!1===this.responded&&(this.responded=!0,p.remove(this)),l=(l=l||{})instanceof Error?{$type:"error",value:{message:l.message}}:"error"===l.$type&&l||{$type:"error",value:l},p=p.modelRoot;var g=y(h(this.requested.reduce((function(x,_){return m(!s(_[0])&&s(_[0].$keys)?_[0]:_,x)}),{}))).map((function(x){return{path:x,value:l}}));g.length&&c({_root:p,_path:[]},g,p.errorSelector,p.comparator,!1),a.prototype.onError.call(this,l)}},r.prototype.complete=r.prototype.onCompleted=function(){!1===this.responded&&this.onNext({}),a.prototype.onCompleted.call(this)},r.prototype.remove=function(l){return~(l=this.subscriptions.indexOf(l))&&(this.trees.splice(l,1),this.requested.splice(l,1),this.optimized.splice(l,1),this.observers.splice(l,1),this.subscriptions.splice(l,1)),0===this.subscriptions.length&&this.dispose(),this},r.prototype.dispose=r.prototype.unsubscribe=function(){this.trees=[],this.paths=this.data=null,this.active=!1,this.boundPath=null,this.requested=[],this.optimized=[];var l=this.parent;l&&(this.parent=null,l.remove(this)),(l=this.disposable)&&(this.disposable=null,l.dispose?l.dispose():l.unsubscribe&&l.unsubscribe()),a.prototype.dispose.call(this)},r.prototype.connect=function(){if(!this.active&&!this.disposable){var l=this.scheduler.schedule(i.bind(this));this.disposable||(this.disposable=l)}return this},r.prototype.batch=function(l,p,g,x){if(this.active){var _=[],b=[],w=this.trees,S=-1,O=-1,j=-1,E=-1,A=-1,q=w.length,k=p.length,T=l.length-1;e:for(;++S<k;){for(var $=-1,C=p[S],I=C.length;++$<q;){var M=w[$][I];if(M&&d(M,C,0,I)){b[++E]=C,A<T&&(_[++A]=l[S<T?S:T]);continue e}}x[++O]=C,j<T&&(g[++j]=l[S<T?S:T])}return~E?(this.requested.push(_),this.optimized.push(b),this.trees.push(h(m(b))),this):null}return this.trees.push({}),this.requested.push(l),this.optimized.push(p),this}},function(t,n,e){function r(s,a){i.call(this,null,a),this.observers=s||[]}var i=e(14),o=e(15);t.exports=r,r.prototype=Object.create(i.prototype),r.prototype.onError=function(s){var a=this.observers.slice(0);this.dispose(),a.forEach((function(f){f.onError(s)}))},r.prototype.onCompleted=function(){var s=this.observers.slice(0);this.dispose(),s.forEach((function(a){a.onCompleted()}))},r.prototype.subscribe=function(s){return this.observers.push(s),this.subscriptions.push(s=new o([s],this)),s},r.prototype.dispose=r.prototype.unsubscribe=function(){this.observers=[]}},function(t,n){function e(i){this.delay=i}var r=function(i){this.id=i,this.disposed=!1};e.prototype.schedule=function(i){return new r(setTimeout(i,this.delay))},r.prototype.dispose=r.prototype.unsubscribe=function(){this.disposed||(clearTimeout(this.id),this.id=null,this.disposed=!0)},t.exports=e},function(t,n,e){var r=Array.isArray,i=e(20);t.exports=function(o){var s=o;if(s&&"object"==typeof s)for(var a in s=r(o)?[]:{},o)i(a)||(s[a]=o[a]);return s}},function(t,n,e){var r=e(6);t.exports=function(i){return r(i)&&i.$expires||void 0}},function(t,n,e){var r=e(6);t.exports=function(i,o){return i=r(i)&&i.$type||void 0,o&&i?"branch":i}},function(t,n,e){var r=Array.isArray,i=e(6);t.exports=function(o){return i(o)&&(r(o.path)||"string"==typeof o.path)}},function(t,n,e){t.exports=e(104)},function(t,n,e){var r=e(35);t=e(106)(t),Object.defineProperty(n,"__esModule",{value:!0}),e=(e=e(105))&&e.__esModule?e:{default:e},r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:t,r=(0,e.default)(r),n.default=r},function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(r){var i=r.Symbol;return"function"==typeof i?i.observable?r=i.observable:(r=i("observable"),i.observable=r):r="@@observable",r}},function(t,n){t.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(t,n,e){t.exports=e(61)}])},"object"==typeof Bt&&"object"==typeof zo?zo.exports=n():"function"==typeof define&&__webpack_require__.amdO?define("falcor",[],n):"object"==typeof Bt?Bt.falcor=n():t.falcor=n()})),Ze=P(((Eg,Ya)=>{Ya.exports={token:"token",dotSeparator:".",commaSeparator:",",openingBracket:"[",closingBracket:"]",openingBrace:"{",closingBrace:"}",escape:"\\",space:" ",colon:":",quote:"quote",unknown:"unknown"}})),Xo=P(((Pg,Qa)=>{var _e=Ze(),Za=Qa.exports=function(t,n){this._string=t,this._idx=-1,this._extended=n,this.parseString=""};function za(t,n,e){return{token:t,done:e,type:n}}function Xa(t,n,e){var s,r=!1,i="",o=e?"\\{}'\"[]., :\t\n\r":"\\'\"[]., \t\n\r";do{if(s=n+1>=t.length)break;var a=t[n+1];if(void 0===a||-1!==o.indexOf(a)){if(i.length)break;var f;switch(++n,a){case".":f=_e.dotSeparator;break;case",":f=_e.commaSeparator;break;case"[":f=_e.openingBracket;break;case"]":f=_e.closingBracket;break;case"{":f=_e.openingBrace;break;case"}":f=_e.closingBrace;break;case"\t":case" ":case"\n":case"\r":f=_e.space;break;case'"':case"'":f=_e.quote;break;case"\\":f=_e.escape;break;case":":f=_e.colon;break;default:f=_e.unknown}r=za(a,f,!1);break}i+=a,++n}while(!s);return!r&&i.length&&(r=za(i,_e.token,!1)),r||(r={done:!0}),{token:r,idx:n}}Za.prototype={next:function(){var t=this._nextToken?this._nextToken:Xa(this._string,this._idx,this._extended);return this._idx=t.idx,this._nextToken=!1,this.parseString+=t.token.token,t.token},peek:function(){var t=this._nextToken?this._nextToken:Xa(this._string,this._idx,this._extended);return this._nextToken=t,t.token}},Za.toNumber=function(n){return isNaN(+n)?NaN:+n}})),mt=P(((Ag,ef)=>{ef.exports={indexer:{nested:"Indexers cannot be nested.",needQuotes:"unquoted indexers must be numeric.",empty:"cannot have empty indexers.",leadingDot:"Indexers cannot have leading dots.",leadingComma:"Indexers cannot have leading comma.",requiresComma:"Indexers require commas between indexer args.",routedTokens:"Only one token can be used per indexer when specifying routed tokens."},range:{precedingNaN:"ranges must be preceded by numbers.",suceedingNaN:"ranges must be suceeded by numbers."},routed:{invalid:"Invalid routed token.  only integers|ranges|keys are supported."},quote:{empty:"cannot have empty quoted keys.",illegalEscape:"Invalid escape character.  Only quotes are escapable."},unexpectedToken:"Unexpected token.",invalidIdentifier:"Invalid Identifier.",invalidPath:"Please provide a valid path.",throwError:function(t,n,e){throw e?t+" -- "+n.parseString+" with next token: "+e:t+" -- "+n.parseString}}})),of=P(((jg,nf)=>{var tf=Xo(),rf=Ze(),yt=mt();nf.exports=function(n,e,r,i){var v,o=n.peek(),s=1,a=!1,f=!0,u=r.indexer.length-1,c=tf.toNumber(r.indexer[u]);for(isNaN(c)&&yt.throwError(yt.range.precedingNaN,n);!a&&!o.done;){switch(o.type){case rf.dotSeparator:3===s&&yt.throwError(yt.unexpectedToken,n),3===++s&&(f=!1);break;case rf.token:v=tf.toNumber(n.next().token),isNaN(v)&&yt.throwError(yt.range.suceedingNaN,n),a=!0;break;default:a=!0}if(a)break;n.next(),o=n.peek()}r.indexer[u]={from:c,to:f?v:v-1}}})),af=P(((kg,uf)=>{var Ie=Ze(),Jt=mt(),sf=Jt.quote;uf.exports=function(n,e,r,i){for(var o=n.next(),s="",a=e.token,f=!1,u=!1;!o.done;){switch(o.type){case Ie.token:case Ie.space:case Ie.dotSeparator:case Ie.commaSeparator:case Ie.openingBracket:case Ie.closingBracket:case Ie.openingBrace:case Ie.closingBrace:f&&Jt.throwError(sf.illegalEscape,n),s+=o.token;break;case Ie.quote:f?(s+=o.token,f=!1):o.token!==a?s+=o.token:u=!0;break;case Ie.escape:f=!0;break;default:Jt.throwError(Jt.unexpectedToken,n)}if(u)break;o=n.next()}0===s.length&&Jt.throwError(sf.empty,n),r.indexer[r.indexer.length]=s}})),Zo=P(((qg,ff)=>{ff.exports={integers:"integers",ranges:"ranges",keys:"keys"}})),lf=P(((Tg,cf)=>{var Ht=Ze(),Qo=Zo(),Vr=mt(),ei=Vr.routed;cf.exports=function(n,e,r,i){var o=n.next(),s=!1,a="";switch(o.token){case Qo.integers:case Qo.ranges:case Qo.keys:break;default:Vr.throwError(ei.invalid,n)}var f=n.next();if(f.type===Ht.colon){for(s=!0,f=n.next();f.type===Ht.space;)f=n.next();for(f.type!==Ht.token&&Vr.throwError(ei.invalid,n),a=f.token,f=n.next();f.type===Ht.space;)f=n.next()}if(f.type===Ht.closingBrace){var u={type:o.token,named:s,name:a};r.indexer[r.indexer.length]=u}else Vr.throwError(ei.invalid,n)}})),df=P(((Ig,pf)=>{var Me=Ze(),De=mt(),_t=De.indexer,jh=of(),kh=af(),qh=lf();pf.exports=function(n,e,r,i){var o=n.next(),s=!1,a=1,f=!1;for(r.indexer=[];!o.done;){switch(o.type){case Me.token:case Me.quote:r.indexer.length===a&&De.throwError(_t.requiresComma,n)}switch(o.type){case Me.openingBrace:f=!0,qh(n,o,r,i);break;case Me.token:var u=+o.token;isNaN(u)&&De.throwError(_t.needQuotes,n),r.indexer[r.indexer.length]=u;break;case Me.dotSeparator:r.indexer.length||De.throwError(_t.leadingDot,n),jh(n,o,r,i);break;case Me.space:break;case Me.closingBracket:s=!0;break;case Me.quote:kh(n,o,r,i);break;case Me.openingBracket:De.throwError(_t.nested,n);break;case Me.commaSeparator:++a;break;default:De.throwError(De.unexpectedToken,n)}if(s)break;o=n.next()}0===r.indexer.length&&De.throwError(_t.empty,n),r.indexer.length>1&&f&&De.throwError(_t.routedTokens,n),1===r.indexer.length&&(r.indexer=r.indexer[0]),i[i.length]=r.indexer,r.indexer=void 0}})),vf=P(((Mg,hf)=>{var Ur=Ze(),Le=mt(),Th=df();hf.exports=function(n){for(var e=n.next(),r={},i=[];!e.done;){switch(e.type){case Ur.token:var o=+e.token[0];isNaN(o)||Le.throwError(Le.invalidIdentifier,n),i[i.length]=e.token;break;case Ur.dotSeparator:0===i.length&&Le.throwError(Le.unexpectedToken,n);break;case Ur.space:break;case Ur.openingBracket:Th(n,e,r,i);break;default:Le.throwError(Le.unexpectedToken,n)}e=n.next()}return 0===i.length&&Le.throwError(Le.invalidPath,n),i}})),ti=P(((Cg,mf)=>{var Ih=Xo(),Mh=vf(),Ch=Zo(),Qe=function(n,e){return Mh(new Ih(n,e))};mf.exports=Qe,Qe.fromPathsOrPathValues=function(t,n){if(!t)return[];for(var e=[],r=0,i=t.length;r<i;r++)"string"==typeof t[r]?e[r]=Qe(t[r],n):"string"==typeof t[r].path?e[r]={path:Qe(t[r].path,n),value:t[r].value}:e[r]=t[r];return e},Qe.fromPath=function(t,n){return t?"string"==typeof t?Qe(t,n):t:[]},Qe.RoutedTokens=Ch})),Sf=P((Kt=>{var yf=bt(Pr()),$h=bt(qr()),Nh=bt(Fo()),ge=bt(Mr()),Lh=bt(Uo()),Wh=bt(Lt());Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Model=void 0;var gf=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,Wh.default)(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),Ge=function t(n,e,r){null===n&&(n=Function.prototype);var i=(0,Lh.default)(n,e);if(void 0===i){var o=(0,ge.default)(n);return null===o?void 0:t(o,e,r)}if("value"in i)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)};function bt(t){return t&&t.__esModule?t:{default:t}}Ha();var Lr=Fr(),Bh=Ka(),Pe=ti();function _f(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return(0,Nh.default)(t)}function bf(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Gr(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function xf(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=(0,$h.default)(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(yf.default?(0,yf.default)(t,n):t.__proto__=n)}var wf=function(t){function n(){return bf(this,n),Gr(this,(n.__proto__||(0,ge.default)(n)).apply(this,arguments))}return xf(n,t),gf(n,[{key:"get",value:function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new gt(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"get",this).apply(this,(0,Pe.fromPathsOrPathValues)(i)))}},{key:"set",value:function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new gt(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"set",this).apply(this,(0,Pe.fromPathsOrPathValues)(i)))}},{key:"call",value:function(r,i,o,s){return r=(0,Pe.fromPath)(r),o=o&&(0,Pe.fromPathsOrPathValues)(o)||[],s=s&&(0,Pe.fromPathsOrPathValues)(s)||[],new gt(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"call",this).call(this,r,i,o,s))}},{key:"invalidate",value:function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return Lr.Observable.fromPromise(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"invalidate",this).apply(this,(0,Pe.fromPathsOrPathValues)(i)))}},{key:"getItems",value:function(){var r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return[["length"]]},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(a){a.json.length;return[]},s=(0,Pe.fromPathsOrPathValues)([].concat(i(this)));return 0===s.length?Lr.Observable.empty():this.get.apply(this,_f(s)).mergeMap((function(a){var f=(0,Pe.fromPathsOrPathValues)([].concat(o(a)));return 0===f.length?Lr.Observable.of(a):r.get.apply(r,_f(s.concat(f)))}))}},{key:"preload",value:function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new gt(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"preload",this).apply(this,(0,Pe.fromPathsOrPathValues)(i)))}},{key:"getValue",value:function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new gt(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"getValue",this).apply(this,(0,Pe.fromPathsOrPathValues)(i)))}},{key:"setValue",value:function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new gt(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"setValue",this).apply(this,(0,Pe.fromPathsOrPathValues)(i)))}},{key:"_clone",value:function(r){return new n(Ge(n.prototype.__proto__||(0,ge.default)(n.prototype),"_clone",this).call(this,r))}}]),n}(Bh.Model),gt=function(t){function n(e,r){if(bf(this,n),"function"!=typeof e){var i=Gr(this,(n.__proto__||(0,ge.default)(n)).call(this));e&&(i.source=e),r&&(i.operator=r)}else i=Gr(this,(n.__proto__||(0,ge.default)(n)).call(this,e));return Gr(i)}return xf(n,t),gf(n,[{key:"lift",value:function(r){return new n(this,r)}},{key:"_toJSONG",value:function(){return new n(this.source._toJSONG())}},{key:"progressively",value:function(){return new n(this.source.progressively())}}]),n}(Lr.Observable);Kt.Model=wf,Kt.default=wf})),Ef=P((Of=>{Of.f=Object.getOwnPropertySymbols})),jf=P((($g,Af)=>{var Jh=Ne(),Pf=Oo(),Hh=Ef(),Kh=vo(),Yh=Vt(),zh=yo(),Wr=Object.assign;Af.exports=!Wr||Dt()((function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach((function(i){n[i]=i})),7!=Wr({},t)[e]||Object.keys(Wr({},n)).join("")!=r}))?function(n,e){for(var r=Yh(n),i=arguments.length,o=1,s=Hh.f,a=Kh.f;i>o;)for(var y,f=zh(arguments[o++]),u=s?Pf(f).concat(s(f)):Pf(f),c=u.length,v=0;c>v;)y=u[v++],(!Jh||a.call(f,y))&&(r[y]=f[y]);return r}:Wr})),kf=P((()=>{var ri=Ve();ri(ri.S+ri.F,"Object",{assign:jf()})})),Tf=P(((Vg,qf)=>{kf(),qf.exports=ye().Object.assign})),ni=P(((Ug,If)=>{If.exports={default:Tf(),__esModule:!0}})),ii=P((oi=>{Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=function Zh(){if(!Br&&!(Br="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Br(Xh)};var Br,Xh=new Uint8Array(16)})),Mf=P((Jr=>{Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=void 0;Jr.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i})),Yt=P((Hr=>{Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.default=void 0;var ev=function tv(t){return t&&t.__esModule?t:{default:t}}(Mf());var nv=function rv(t){return"string"==typeof t&&ev.default.test(t)};Hr.default=nv})),Xt=P((zt=>{Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=void 0,zt.unsafeStringify=Cf;var ov=function iv(t){return t&&t.__esModule?t:{default:t}}(Yt());var re=[];for(let t=0;t<256;++t)re.push((t+256).toString(16).slice(1));function Cf(t,n=0){return(re[t[n+0]]+re[t[n+1]]+re[t[n+2]]+re[t[n+3]]+"-"+re[t[n+4]]+re[t[n+5]]+"-"+re[t[n+6]]+re[t[n+7]]+"-"+re[t[n+8]]+re[t[n+9]]+"-"+re[t[n+10]]+re[t[n+11]]+re[t[n+12]]+re[t[n+13]]+re[t[n+14]]+re[t[n+15]]).toLowerCase()}var uv=function sv(t,n=0){let e=Cf(t,n);if(!(0,ov.default)(e))throw TypeError("Stringified UUID is invalid");return e};zt.default=uv})),Df=P((Kr=>{Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.default=void 0;var av=function cv(t){return t&&t.__esModule?t:{default:t}}(ii()),fv=Xt();var Rf,si,ui=0,ai=0;var pv=function lv(t,n,e){let r=n&&e||0,i=n||new Array(16),o=(t=t||{}).node||Rf,s=void 0!==t.clockseq?t.clockseq:si;if(null==o||null==s){let y=t.random||(t.rng||av.default)();null==o&&(o=Rf=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==s&&(s=si=16383&(y[6]<<8|y[7]))}let a=void 0!==t.msecs?t.msecs:Date.now(),f=void 0!==t.nsecs?t.nsecs:ai+1,u=a-ui+(f-ai)/1e4;if(u<0&&void 0===t.clockseq&&(s=s+1&16383),(u<0||a>ui)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ui=a,ai=f,si=s,a+=122192928e5;let c=(1e4*(268435455&a)+f)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=255&c;let v=a/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(let y=0;y<6;++y)i[r+y]=o[y];return n||(0,fv.unsafeStringify)(i)};Kr.default=pv})),fi=P((Yr=>{Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.default=void 0;var dv=function hv(t){return t&&t.__esModule?t:{default:t}}(Yt());var mv=function vv(t){if(!(0,dv.default)(t))throw TypeError("Invalid UUID");let n,e=new Uint8Array(16);return e[0]=(n=parseInt(t.slice(0,8),16))>>>24,e[1]=n>>>16&255,e[2]=n>>>8&255,e[3]=255&n,e[4]=(n=parseInt(t.slice(9,13),16))>>>8,e[5]=255&n,e[6]=(n=parseInt(t.slice(14,18),16))>>>8,e[7]=255&n,e[8]=(n=parseInt(t.slice(19,23),16))>>>8,e[9]=255&n,e[10]=(n=parseInt(t.slice(24,36),16))/1099511627776&255,e[11]=n/4294967296&255,e[12]=n>>>24&255,e[13]=n>>>16&255,e[14]=n>>>8&255,e[15]=255&n,e};Yr.default=mv})),ci=P((et=>{Object.defineProperty(et,"__esModule",{value:!0}),et.URL=et.DNS=void 0,et.default=function xv(t,n,e){function r(i,o,s,a){var f;if("string"==typeof i&&(i=function bv(t){t=unescape(encodeURIComponent(t));let n=[];for(let e=0;e<t.length;++e)n.push(t.charCodeAt(e));return n}(i)),"string"==typeof o&&(o=(0,_v.default)(o)),16!==(null===(f=o)||void 0===f?void 0:f.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=e(u),u[6]=15&u[6]|n,u[8]=63&u[8]|128,s){a=a||0;for(let c=0;c<16;++c)s[a+c]=u[c];return s}return(0,yv.unsafeStringify)(u)}try{r.name=t}catch(i){}return r.DNS=$f,r.URL=Ff,r};var yv=Xt(),_v=function gv(t){return t&&t.__esModule?t:{default:t}}(fi());var $f="6ba7b810-9dad-11d1-80b4-00c04fd430c8";et.DNS=$f;var Ff="6ba7b811-9dad-11d1-80b4-00c04fd430c8";et.URL=Ff})),Vf=P((Xr=>{function Nf(t){return 14+(t+64>>>9<<4)+1}function We(t,n){let e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}function zr(t,n,e,r,i,o){return We(function Pv(t,n){return t<<n|t>>>32-n}(We(We(n,t),We(r,o)),i),e)}function se(t,n,e,r,i,o,s){return zr(n&e|~n&r,t,n,i,o,s)}function ue(t,n,e,r,i,o,s){return zr(n&r|e&~r,t,n,i,o,s)}function ae(t,n,e,r,i,o,s){return zr(n^e^r,t,n,i,o,s)}function fe(t,n,e,r,i,o,s){return zr(e^(n|~r),t,n,i,o,s)}Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.default=void 0;var Av=function wv(t){if("string"==typeof t){let n=unescape(encodeURIComponent(t));t=new Uint8Array(n.length);for(let e=0;e<n.length;++e)t[e]=n.charCodeAt(e)}return function Sv(t){let n=[],e=32*t.length,r="0123456789abcdef";for(let i=0;i<e;i+=8){let o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);n.push(s)}return n}(function Ov(t,n){t[n>>5]|=128<<n%32,t[Nf(n)-1]=n;let e=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let s=0;s<t.length;s+=16){let a=e,f=r,u=i,c=o;e=se(e,r,i,o,t[s],7,-680876936),o=se(o,e,r,i,t[s+1],12,-389564586),i=se(i,o,e,r,t[s+2],17,606105819),r=se(r,i,o,e,t[s+3],22,-1044525330),e=se(e,r,i,o,t[s+4],7,-176418897),o=se(o,e,r,i,t[s+5],12,1200080426),i=se(i,o,e,r,t[s+6],17,-1473231341),r=se(r,i,o,e,t[s+7],22,-45705983),e=se(e,r,i,o,t[s+8],7,1770035416),o=se(o,e,r,i,t[s+9],12,-1958414417),i=se(i,o,e,r,t[s+10],17,-42063),r=se(r,i,o,e,t[s+11],22,-1990404162),e=se(e,r,i,o,t[s+12],7,1804603682),o=se(o,e,r,i,t[s+13],12,-40341101),i=se(i,o,e,r,t[s+14],17,-1502002290),r=se(r,i,o,e,t[s+15],22,1236535329),e=ue(e,r,i,o,t[s+1],5,-165796510),o=ue(o,e,r,i,t[s+6],9,-1069501632),i=ue(i,o,e,r,t[s+11],14,643717713),r=ue(r,i,o,e,t[s],20,-373897302),e=ue(e,r,i,o,t[s+5],5,-701558691),o=ue(o,e,r,i,t[s+10],9,38016083),i=ue(i,o,e,r,t[s+15],14,-660478335),r=ue(r,i,o,e,t[s+4],20,-405537848),e=ue(e,r,i,o,t[s+9],5,568446438),o=ue(o,e,r,i,t[s+14],9,-1019803690),i=ue(i,o,e,r,t[s+3],14,-187363961),r=ue(r,i,o,e,t[s+8],20,1163531501),e=ue(e,r,i,o,t[s+13],5,-1444681467),o=ue(o,e,r,i,t[s+2],9,-51403784),i=ue(i,o,e,r,t[s+7],14,1735328473),r=ue(r,i,o,e,t[s+12],20,-1926607734),e=ae(e,r,i,o,t[s+5],4,-378558),o=ae(o,e,r,i,t[s+8],11,-2022574463),i=ae(i,o,e,r,t[s+11],16,1839030562),r=ae(r,i,o,e,t[s+14],23,-35309556),e=ae(e,r,i,o,t[s+1],4,-1530992060),o=ae(o,e,r,i,t[s+4],11,1272893353),i=ae(i,o,e,r,t[s+7],16,-155497632),r=ae(r,i,o,e,t[s+10],23,-1094730640),e=ae(e,r,i,o,t[s+13],4,681279174),o=ae(o,e,r,i,t[s],11,-358537222),i=ae(i,o,e,r,t[s+3],16,-722521979),r=ae(r,i,o,e,t[s+6],23,76029189),e=ae(e,r,i,o,t[s+9],4,-640364487),o=ae(o,e,r,i,t[s+12],11,-421815835),i=ae(i,o,e,r,t[s+15],16,530742520),r=ae(r,i,o,e,t[s+2],23,-995338651),e=fe(e,r,i,o,t[s],6,-198630844),o=fe(o,e,r,i,t[s+7],10,1126891415),i=fe(i,o,e,r,t[s+14],15,-1416354905),r=fe(r,i,o,e,t[s+5],21,-57434055),e=fe(e,r,i,o,t[s+12],6,1700485571),o=fe(o,e,r,i,t[s+3],10,-1894986606),i=fe(i,o,e,r,t[s+10],15,-1051523),r=fe(r,i,o,e,t[s+1],21,-2054922799),e=fe(e,r,i,o,t[s+8],6,1873313359),o=fe(o,e,r,i,t[s+15],10,-30611744),i=fe(i,o,e,r,t[s+6],15,-1560198380),r=fe(r,i,o,e,t[s+13],21,1309151649),e=fe(e,r,i,o,t[s+4],6,-145523070),o=fe(o,e,r,i,t[s+11],10,-1120210379),i=fe(i,o,e,r,t[s+2],15,718787259),r=fe(r,i,o,e,t[s+9],21,-343485551),e=We(e,a),r=We(r,f),i=We(i,u),o=We(o,c)}return[e,r,i,o]}(function Ev(t){if(0===t.length)return[];let n=8*t.length,e=new Uint32Array(Nf(n));for(let r=0;r<n;r+=8)e[r>>5]|=(255&t[r/8])<<r%32;return e}(t),8*t.length))};Xr.default=Av})),Lf=P((Zr=>{Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=void 0;var jv=Uf(ci()),kv=Uf(Vf());function Uf(t){return t&&t.__esModule?t:{default:t}}var Tv=(0,jv.default)("v3",48,kv.default);Zr.default=Tv})),Gf=P((Qr=>{Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.default=void 0;var Mv={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};Qr.default=Mv})),Jf=P((en=>{Object.defineProperty(en,"__esModule",{value:!0}),en.default=void 0;var Wf=Bf(Gf()),Cv=Bf(ii()),Rv=Xt();function Bf(t){return t&&t.__esModule?t:{default:t}}var $v=function Dv(t,n,e){if(Wf.default.randomUUID&&!n&&!t)return Wf.default.randomUUID();let r=(t=t||{}).random||(t.rng||Cv.default)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let i=0;i<16;++i)n[e+i]=r[i];return n}return(0,Rv.unsafeStringify)(r)};en.default=$v})),Hf=P((tn=>{function Fv(t,n,e,r){switch(t){case 0:return n&e^~n&r;case 1:case 3:return n^e^r;case 2:return n&e^n&r^e&r}}function li(t,n){return t<<n|t>>>32-n}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var Vv=function Nv(t){let n=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){let s=unescape(encodeURIComponent(t));t=[];for(let a=0;a<s.length;++a)t.push(s.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let r=t.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let s=0;s<i;++s){let a=new Uint32Array(16);for(let f=0;f<16;++f)a[f]=t[64*s+4*f]<<24|t[64*s+4*f+1]<<16|t[64*s+4*f+2]<<8|t[64*s+4*f+3];o[s]=a}o[i-1][14]=8*(t.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(t.length-1)&4294967295;for(let s=0;s<i;++s){let a=new Uint32Array(80);for(let m=0;m<16;++m)a[m]=o[s][m];for(let m=16;m<80;++m)a[m]=li(a[m-3]^a[m-8]^a[m-14]^a[m-16],1);let f=e[0],u=e[1],c=e[2],v=e[3],y=e[4];for(let m=0;m<80;++m){let h=Math.floor(m/20),d=li(f,5)+Fv(h,u,c,v)+y+n[h]+a[m]>>>0;y=v,v=c,c=li(u,30)>>>0,u=f,f=d}e[0]=e[0]+f>>>0,e[1]=e[1]+u>>>0,e[2]=e[2]+c>>>0,e[3]=e[3]+v>>>0,e[4]=e[4]+y>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,255&e[0],e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,255&e[1],e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,255&e[2],e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,255&e[3],e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,255&e[4]]};tn.default=Vv})),Yf=P((rn=>{Object.defineProperty(rn,"__esModule",{value:!0}),rn.default=void 0;var Uv=Kf(ci()),Lv=Kf(Hf());function Kf(t){return t&&t.__esModule?t:{default:t}}var Wv=(0,Uv.default)("v5",80,Lv.default);rn.default=Wv})),zf=P((nn=>{Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=void 0;nn.default="00000000-0000-0000-0000-000000000000"})),Xf=P((on=>{Object.defineProperty(on,"__esModule",{value:!0}),on.default=void 0;var Jv=function Hv(t){return t&&t.__esModule?t:{default:t}}(Yt());var Yv=function Kv(t){if(!(0,Jv.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)};on.default=Yv})),Zf=P((Ae=>{Object.defineProperty(Ae,"__esModule",{value:!0}),Object.defineProperty(Ae,"NIL",{enumerable:!0,get:function(){return em.default}}),Object.defineProperty(Ae,"parse",{enumerable:!0,get:function(){return om.default}}),Object.defineProperty(Ae,"stringify",{enumerable:!0,get:function(){return nm.default}}),Object.defineProperty(Ae,"v1",{enumerable:!0,get:function(){return zv.default}}),Object.defineProperty(Ae,"v3",{enumerable:!0,get:function(){return Xv.default}}),Object.defineProperty(Ae,"v4",{enumerable:!0,get:function(){return Zv.default}}),Object.defineProperty(Ae,"v5",{enumerable:!0,get:function(){return Qv.default}}),Object.defineProperty(Ae,"validate",{enumerable:!0,get:function(){return rm.default}}),Object.defineProperty(Ae,"version",{enumerable:!0,get:function(){return tm.default}});var zv=$e(Df()),Xv=$e(Lf()),Zv=$e(Jf()),Qv=$e(Yf()),em=$e(zf()),tm=$e(Xf()),rm=$e(Yt()),nm=$e(Xt()),om=$e(fi());function $e(t){return t&&t.__esModule?t:{default:t}}})),pi=P((sn=>{var sm=Qf(Lt()),am=Qf(ni());Object.defineProperty(sn,"__esModule",{value:!0}),sn.FalcorPubSubDataSource=void 0;var fm=am.default||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},cm=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,sm.default)(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function Qf(t){return t&&t.__esModule?t:{default:t}}var lm=Zf();sn.FalcorPubSubDataSource=function(){function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"falcor-operation",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cancel-falcor-operation";(function pm(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.event=r,this.model=e,this.cancel=i,this.emitter=n}return cm(t,[{key:"call",value:function(e,r,i,o){return Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),this.operation("call",{callPath:e,callArgs:r,suffixes:i,thisPaths:o})}},{key:"get",value:function(e){return this.operation("get",{pathSets:e})}},{key:"set",value:function(e){return this.operation("set",{jsonGraphEnvelope:e})}},{key:"operation",value:function(e,r){return{subscribe:dm.bind(this,e,r)}}}]),t}();function dm(t,n,e){"function"==typeof e&&(e={onNext:e,onError:arguments.length<=3?void 0:arguments[3],onCompleted:arguments.length<=4?void 0:arguments[4]});var r=this.event,i=this.cancel,o=this.model,s=this.emitter;if(s&&"closed"!==s.readyState&&"closing"!==s.readyState){var a=function l(p,g){var x=p.kind,_=p.value,b=p.error;if(!f)switch(x){case"N":e.onNext&&e.onNext(_);break;case"E":f=!0;try{s.removeListener(c)}catch(w){}s.removeListener(c,l),void 0!==_&&e.onNext&&e.onNext(_),e.onError&&e.onError(b);break;case"C":f=!0;try{s.removeListener(c)}catch(w){}s.removeListener(c,l),void 0!==_&&e.onNext&&e.onNext(_),e.onCompleted&&e.onCompleted()}"function"==typeof g&&g()},f=!1,u=(0,lm.v4)(),c=r+"-"+u,v=i+"-"+u;return s.on(c,a),s.emit(r,fm({id:u,method:t},n)),{unsubscribe:function(){this.dispose()},dispose:function(){if(!f){f=!0;try{s.removeListener(c)}catch(p){}s.removeListener(c,a),s.emit(v)}}}}if(o){var y=void 0,m=void 0,h=void 0,d=void 0;"set"===t?d=n.jsonGraphEnvelope:("get"===t||"call"===t)&&(d={},h=n.pathSets,"call"===t&&(m=n.callPath,y=m.slice(0,-1),h=(h=n.thisPaths||[]).map((function(l){return y.concat(l)}))),o._getPathValuesAsJSONG(o._materialize().withoutDataSource().treatErrorsAsValues(),h,d,!1,!1)),e.onNext&&e.onNext(d)}return e.onCompleted&&e.onCompleted(),{dispose:function(){},unsubscribe:function(){}}}})),un=P((di=>{var vm=ec(Lt()),ym=ec(ni());Object.defineProperty(di,"__esModule",{value:!0});var _m=ym.default||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},gm=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,vm.default)(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function ec(t){return t&&t.__esModule?t:{default:t}}di.PostMessageEmitter=function(){function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"falcor-operation",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cancel-falcor-operation";(function xm(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.sink=e,this.event=i,this.cancel=o,this.source=n,this.listeners={},this.targetOrigin=r,this.onPostMessage=this.onPostMessage.bind(this),n.addEventListener("message",this.onPostMessage)}return gm(t,[{key:"onPostMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.data,i=void 0===r?{}:r,o=this.targetOrigin,s=i.type,a=function bm(t,n){var e={};for(var r in t)n.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(e[r]=t[r]);return e}(i,["type"]);if(s&&("*"===o||o===e.origin)&&(~s.indexOf(this.event)||~s.indexOf(this.cancel))){var u=this.listeners[s];u&&u.slice(0).forEach((function(c){return c&&c(a)}))}}},{key:"on",value:function(e,r){var i=this.listeners,o=i[e]||(i[e]=[]);-1===o.indexOf(r)&&o.push(r)}},{key:"off",value:function(){return this.removeListener.apply(this,arguments)}},{key:"removeListener",value:function(e,r){var i=this.listeners,o=i[e],s=o&&o.indexOf(r)||-1;~s&&o.splice(s,1),o&&0===o.length&&delete i[e]}},{key:"emit",value:function(e,r){this.sink&&this.sink.postMessage(_m({type:e},r),this.targetOrigin||"*")}},{key:"dispose",value:function(){var e=this.source;this.sink=null,this.target=null,this.source=null,this.listeners=null,e&&e.removeEventListener("message",this.onPostMessage)}}]),t}()})),rc=P((an=>{var Sm=hi(Mr()),tc=hi(Pr()),Pm=hi(qr());function hi(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(an,"__esModule",{value:!0}),an.PostMessageDataSource=void 0;var Am=un(),jm=pi();an.PostMessageDataSource=function(t){function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"falcor-operation",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"cancel-falcor-operation";return function km(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function qm(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||(0,Sm.default)(n)).call(this,new Am.PostMessageEmitter(e,r,o,s,a),i,s,a))}return function Tm(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=(0,Pm.default)(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(tc.default?(0,tc.default)(t,n):t.__proto__=n)}(n,t),n}(jm.FalcorPubSubDataSource)})),mi=P((vi=>{var Mm=function Cm(t){return t&&t.__esModule?t:{default:t}}(Fo());Object.defineProperty(vi,"__esModule",{value:!0});vi.FalcorPubSubDataSink=function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"falcor-operation",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cancel-falcor-operation";(function Dm(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.event=r,this.cancel=i,this.emitter=n,this.getDataSource=e,this.response=$m.bind(this)};function $m(t){var n=t.id,e=t.callPath,r=t.callArgs,i=t.jsonGraphEnvelope,o=t.method,s=t.pathSets,a=t.suffixes,f=t.thisPaths,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.emitter,c=void 0;if("call"===o)c=[e,r,a,f];else if("get"===o)c=[s];else{if("set"!==o)throw new Error(o+" is not a valid method");c=[i]}var v=this.event,y=this.cancel,m=this.getDataSource,h=v+"-"+n,d=y+"-"+n,l={},p=!1,g=void 0,x=m(u),_=x._streaming||!1;function b(){if(p)return!1;p=!0;try{u.removeListener(d)}catch(w){}return u.removeListener(d,b),!!l&&("function"==typeof l.dispose?l.dispose():"function"==typeof l.unsubscribe?l.unsubscribe():"function"==typeof l&&l(),l=null,!0)}u.on(d,b),l=x[o].apply(x,function Rm(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return(0,Mm.default)(t)}(c)).subscribe((function(w){g=w,!p&&_&&u.emit(h,{kind:"N",value:g})}),(function(w){b()&&(_||void 0===g?u.emit(h,{kind:"E",error:w}):u.emit(h,{kind:"E",error:w,value:g}))}),(function(){b()&&(_||void 0===g?u.emit(h,{kind:"C"}):u.emit(h,{kind:"C",value:g}))}))}})),ac=P((cn=>{var nc=Zt(Pr()),Vm=Zt(qr()),Lm=Zt(Lt()),fn=Zt(Mr()),Bm=Zt(Uo());Object.defineProperty(cn,"__esModule",{value:!0}),cn.PostMessageDataSink=void 0;var Jm=function t(n,e,r){null===n&&(n=Function.prototype);var i=(0,Bm.default)(n,e);if(void 0===i){var o=(0,fn.default)(n);return null===o?void 0:t(o,e,r)}if("value"in i)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},oc=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,Lm.default)(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function Zt(t){return t&&t.__esModule?t:{default:t}}var Hm=un(),Km=mi();function ic(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function sc(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function uc(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=(0,Vm.default)(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(nc.default?(0,nc.default)(t,n):t.__proto__=n)}cn.PostMessageDataSink=function(t){function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"falcor-operation",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cancel-falcor-operation";ic(this,n);var a=sc(this,(n.__proto__||(0,fn.default)(n)).call(this,null,e,o,s));return a.source=r,a.targetOrigin=i,a.onPostMessage=a.onPostMessage.bind(a),r.addEventListener("message",a.onPostMessage),a}return uc(n,t),oc(n,[{key:"onPostMessage",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.data,o=void 0===i?{}:i,s=this.targetOrigin;o.type!==this.event||"*"!==s&&s!==r.origin||this.response(o,new Ym(this.source,r.source,this.targetOrigin,this.event,this.cancel))}},{key:"dispose",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){var r=this.source;this.source=null,r&&r.removeEventListener("message",this.onPostMessage)}}]),n}(Km.FalcorPubSubDataSink);var Ym=function(t){function n(){return ic(this,n),sc(this,(n.__proto__||(0,fn.default)(n)).apply(this,arguments))}return uc(n,t),oc(n,[{key:"emit",value:function(r,i){var s=(i||{}).kind,a=Jm(n.prototype.__proto__||(0,fn.default)(n.prototype),"emit",this).call(this,r,i);return("E"===s||"C"===s)&&this.dispose(),a}}]),n}(Hm.PostMessageEmitter)})),fc=P((tt=>{Object.defineProperty(tt,"__esModule",{value:!0});var zm=pi();Object.defineProperty(tt,"FalcorPubSubDataSource",{enumerable:!0,get:function(){return zm.FalcorPubSubDataSource}});var Xm=rc();Object.defineProperty(tt,"PostMessageDataSource",{enumerable:!0,get:function(){return Xm.PostMessageDataSource}});var Zm=mi();Object.defineProperty(tt,"FalcorPubSubDataSink",{enumerable:!0,get:function(){return Zm.FalcorPubSubDataSink}});var Qm=ac();Object.defineProperty(tt,"PostMessageDataSink",{enumerable:!0,get:function(){return Qm.PostMessageDataSink}});var e0=un();Object.defineProperty(tt,"PostMessageEmitter",{enumerable:!0,get:function(){return e0.PostMessageEmitter}})})),lc=P(((vb,cc)=>{var yi=ti().fromPath;function ln(t,n,e){var r=Object.create(null);if(null!=e)for(var i in e)r[i]=e[i];return r.$type=t,r.value=n,r}var ee={ref:function(n,e){return ln("ref",yi(n),e)},atom:function(n,e){return ln("atom",n,e)},undefined:function(t){return ln("atom",void 0,t)},error:function(n,e){return ln("error",n,e)},pathValue:function(n,e){return{path:yi(n),value:e}},pathInvalidation:function(n){return{path:yi(n),invalidated:!0}}};ee.$ref=ee.ref,ee.$atom=ee.atom,ee.$error=ee.error,ee.empty=ee.undefined,ee.$empty=ee.undefined,ee.$value=ee.pathValue,ee.$pathValue=ee.pathValue,ee.$invalidate=ee.pathInvalidation,ee.$invalidation=ee.pathInvalidation,cc.exports=ee})),Gc=P(((Ib,xn)=>{var _c,gc,bc,xc,wc,Sc,Oc,Ec,Pc,Ac,jc,kc,qc,gn,Ei,Tc,Ic,Mc,xt,Cc,Rc,Dc,$c,Fc,Nc,Vc,Uc,Lc,bn;!function(t){var n="object"==typeof __webpack_require__.g?__webpack_require__.g:"object"==typeof self?self:"object"==typeof this?this:{};function e(r,i){return r!==n&&("function"==typeof Object.create?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(o,s){return r[o]=i?i(o,s):s}}"function"==typeof define&&__webpack_require__.amdO?define("tslib",["exports"],(function(r){t(e(n,e(r)))})):"object"==typeof xn&&"object"==typeof xn.exports?t(e(n,e(xn.exports))):t(e(n))}((function(t){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])};_c=function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=r}n(r,i),r.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)},gc=Object.assign||function(r){for(var i,o=1,s=arguments.length;o<s;o++)for(var a in i=arguments[o])Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);return r},bc=function(r,i){var o={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&i.indexOf(s)<0&&(o[s]=r[s]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(r);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(o[s[a]]=r[s[a]])}return o},xc=function(r,i,o,s){var u,a=arguments.length,f=a<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(r,i,o,s);else for(var c=r.length-1;c>=0;c--)(u=r[c])&&(f=(a<3?u(f):a>3?u(i,o,f):u(i,o))||f);return a>3&&f&&Object.defineProperty(i,o,f),f},wc=function(r,i){return function(o,s){i(o,s,r)}},Sc=function(r,i,o,s,a,f){function u(_){if(void 0!==_&&"function"!=typeof _)throw new TypeError("Function expected");return _}for(var h,c=s.kind,v="getter"===c?"get":"setter"===c?"set":"value",y=!i&&r?s.static?r:r.prototype:null,m=i||(y?Object.getOwnPropertyDescriptor(y,s.name):{}),d=!1,l=o.length-1;l>=0;l--){var p={};for(var g in s)p[g]="access"===g?{}:s[g];for(var g in s.access)p.access[g]=s.access[g];p.addInitializer=function(_){if(d)throw new TypeError("Cannot add initializers after decoration has completed");f.push(u(_||null))};var x=(0,o[l])("accessor"===c?{get:m.get,set:m.set}:m[v],p);if("accessor"===c){if(void 0===x)continue;if(null===x||"object"!=typeof x)throw new TypeError("Object expected");(h=u(x.get))&&(m.get=h),(h=u(x.set))&&(m.set=h),(h=u(x.init))&&a.push(h)}else(h=u(x))&&("field"===c?a.push(h):m[v]=h)}y&&Object.defineProperty(y,s.name,m),d=!0},Oc=function(r,i,o){for(var s=arguments.length>2,a=0;a<i.length;a++)o=s?i[a].call(r,o):i[a].call(r);return s?o:void 0},Ec=function(r){return"symbol"==typeof r?r:"".concat(r)},Pc=function(r,i,o){return"symbol"==typeof i&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},Ac=function(r,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,i)},jc=function(r,i,o,s){return new(o||(o=Promise))((function(f,u){function c(m){try{y(s.next(m))}catch(h){u(h)}}function v(m){try{y(s.throw(m))}catch(h){u(h)}}function y(m){m.done?f(m.value):function a(f){return f instanceof o?f:new o((function(u){u(f)}))}(m.value).then(c,v)}y((s=s.apply(r,i||[])).next())}))},kc=function(r,i){var s,a,f,u,o={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(y){return function(m){return function v(y){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,y[0]&&(o=0)),o;)try{if(s=1,a&&(f=2&y[0]?a.return:y[0]?a.throw||((f=a.return)&&f.call(a),0):a.next)&&!(f=f.call(a,y[1])).done)return f;switch(a=0,f&&(y=[2&y[0],f.value]),y[0]){case 0:case 1:f=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,a=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(!(f=(f=o.trys).length>0&&f[f.length-1])&&(6===y[0]||2===y[0])){o=0;continue}if(3===y[0]&&(!f||y[1]>f[0]&&y[1]<f[3])){o.label=y[1];break}if(6===y[0]&&o.label<f[1]){o.label=f[1],f=y;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(y);break}f[2]&&o.ops.pop(),o.trys.pop();continue}y=i.call(r,o)}catch(m){y=[6,m],a=0}finally{s=f=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([y,m])}}},qc=function(r,i){for(var o in r)"default"!==o&&!Object.prototype.hasOwnProperty.call(i,o)&&bn(i,r,o)},bn=Object.create?function(r,i,o,s){void 0===s&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){void 0===s&&(s=o),r[s]=i[o]},gn=function(r){var i="function"==typeof Symbol&&Symbol.iterator,o=i&&r[i],s=0;if(o)return o.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Ei=function(r,i){var o="function"==typeof Symbol&&r[Symbol.iterator];if(!o)return r;var a,u,s=o.call(r),f=[];try{for(;(void 0===i||i-- >0)&&!(a=s.next()).done;)f.push(a.value)}catch(c){u={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(u)throw u.error}}return f},Tc=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(Ei(arguments[i]));return r},Ic=function(){for(var r=0,i=0,o=arguments.length;i<o;i++)r+=arguments[i].length;var s=Array(r),a=0;for(i=0;i<o;i++)for(var f=arguments[i],u=0,c=f.length;u<c;u++,a++)s[a]=f[u];return s},Mc=function(r,i,o){if(o||2===arguments.length)for(var f,s=0,a=i.length;s<a;s++)(f||!(s in i))&&(f||(f=Array.prototype.slice.call(i,0,s)),f[s]=i[s]);return r.concat(f||Array.prototype.slice.call(i))},xt=function(r){return this instanceof xt?(this.v=r,this):new xt(r)},Cc=function(r,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=o.apply(r,i||[]),f=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(d){s[d]&&(a[d]=function(l){return new Promise((function(p,g){f.push([d,l,p,g])>1||c(d,l)}))})}function c(d,l){try{!function v(d){d.value instanceof xt?Promise.resolve(d.value.v).then(y,m):h(f[0][2],d)}(s[d](l))}catch(p){h(f[0][3],p)}}function y(d){c("next",d)}function m(d){c("throw",d)}function h(d,l){d(l),f.shift(),f.length&&c(f[0][0],f[0][1])}},Rc=function(r){var i,o;return i={},s("next"),s("throw",(function(a){throw a})),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,f){i[a]=r[a]?function(u){return(o=!o)?{value:xt(r[a](u)),done:!1}:f?f(u):u}:f}},Dc=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=r[Symbol.asyncIterator];return i?i.call(r):(r=gn(r),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=r[f]&&function(u){return new Promise((function(c,v){(function a(f,u,c,v){Promise.resolve(v).then((function(y){f({value:y,done:c})}),u)})(c,v,(u=r[f](u)).done,u.value)}))}}},$c=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var e=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};Fc=function(r){if(r&&r.__esModule)return r;var i={};if(null!=r)for(var o in r)"default"!==o&&Object.prototype.hasOwnProperty.call(r,o)&&bn(i,r,o);return e(i,r),i},Nc=function(r){return r&&r.__esModule?r:{default:r}},Vc=function(r,i,o,s){if("a"===o&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?r!==i||!s:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?s:"a"===o?s.call(r):s?s.value:i.get(r)},Uc=function(r,i,o,s,a){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?r!==i||!a:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?a.call(r,o):a?a.value=o:i.set(r,o),o},Lc=function(r,i){if(null===i||"object"!=typeof i&&"function"!=typeof i)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof r?i===r:r.has(i)},t("__extends",_c),t("__assign",gc),t("__rest",bc),t("__decorate",xc),t("__param",wc),t("__esDecorate",Sc),t("__runInitializers",Oc),t("__propKey",Ec),t("__setFunctionName",Pc),t("__metadata",Ac),t("__awaiter",jc),t("__generator",kc),t("__exportStar",qc),t("__createBinding",bn),t("__values",gn),t("__read",Ei),t("__spread",Tc),t("__spreadArrays",Ic),t("__spreadArray",Mc),t("__await",xt),t("__asyncGenerator",Cc),t("__asyncDelegator",Rc),t("__asyncValues",Dc),t("__makeTemplateObject",$c),t("__importStar",Fc),t("__importDefault",Nc),t("__classPrivateFieldGet",Vc),t("__classPrivateFieldSet",Uc),t("__classPrivateFieldIn",Lc)}))})),Ml=Ct(Qi()),Cl=Ct(Sf()),Rl=Ct(fc()),L=Ct(lc()),pn=function(t,n,e,r){return new(e||(e=Promise))((function(o,s){function a(c){try{u(r.next(c))}catch(v){s(v)}}function f(c){try{u(r.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((r=r.apply(t,n||[])).next())}))},dn=function(t,n){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(t,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},hn=function(){function t(n,e,r,i,o,s,a){void 0===e&&(e="https"),void 0===r&&(r="hub.graphistry.com"),void 0===o&&(o=fetch),void 0===a&&(a="@graphistry/js-upload-api"),this.org=n,this.protocol=e,this.host=r,this.fetch=o,this.version=s,this.agent=a,this.clientProtocolHostname=i||"".concat(e,"://").concat(r)}return t.prototype.setToken=function(n){return this._token=n,this},t.prototype.authTokenValid=function(){return Boolean(this._token)},t.prototype.post=function(n,e,r){return void 0===r&&(r=void 0),pn(this,void 0,void 0,(function(){var i,o;return dn(this,(function(s){switch(s.label){case 0:return console.debug("post",{uri:n,payload:e}),[4,this.getSecureHeaders(r)];case 1:return i=s.sent(),console.debug("post",{headers:i}),[4,this.postToApi(n,e,i)];case 2:return[4,s.sent().json()];case 3:return o=s.sent(),console.debug("post response",{uri:n,payload:e,response:o}),[2,o]}}))}))},t.isConfigurationValid=function(n,e,r){return console.debug("isConfigurationValid",{userId:n,secret:e,host:r}),""!==(n||"")&&""!==(e||"")&&""!==(r||"")},t.prototype.getToApi=function(n,e,r){return pn(this,void 0,void 0,(function(){var i,o;return dn(this,(function(s){switch(s.label){case 0:return i=this.fetch,console.debug("getToApi",{url:n,headers:e}),[4,i((null!=r?r:this.getBaseUrl())+n,{method:"GET",headers:e})];case 1:return o=s.sent(),console.debug("getToApi",{url:n,headers:e}),[2,o]}}))}))},t.prototype.postToApi=function(n,e,r,i){return pn(this,void 0,void 0,(function(){var o,s;return dn(this,(function(a){switch(a.label){case 0:return o=this.fetch,console.debug("postToApi",{url:n,data:e,headers:r}),[4,o((null!=i?i:this.getBaseUrl())+n,{method:"POST",headers:r,body:!ArrayBuffer.isView(e)||e instanceof DataView?JSON.stringify(e):e})];case 1:return s=a.sent(),console.debug("postToApi",{url:n,data:e,headers:r,response:s}),[2,s]}}))}))},t.prototype.getBaseHeaders=function(){return{Accept:"application/json","Content-Type":"application/json"}},t.prototype.getBaseUrl=function(){return"".concat(this.protocol,"://").concat(this.host,"/")},t.prototype.getSecureHeaders=function(n){return pn(this,void 0,void 0,(function(){var e,r;return dn(this,(function(i){switch(i.label){case 0:return e=n||this.getBaseHeaders(),[4,this.getAuthToken()];case 1:return r=i.sent(),console.debug("getSecureHeaders",{headers:e,tok:r}),e.Authorization="Bearer ".concat(r),console.debug("getSecureHeaders",{headers:e}),[2,e]}}))}))},t}(),t0=(t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(n,e)},function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Qt=function(){return Qt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},Qt.apply(this,arguments)},pc=function(t,n,e,r){return new(e||(e=Promise))((function(o,s){function a(c){try{u(r.next(c))}catch(v){s(v)}}function f(c){try{u(r.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((r=r.apply(t,n||[])).next())}))},dc=function(t,n){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(t,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},hc="api/v2/auth/token/generate",_i=function(t){function n(e,r,i,o,s,a,f,u,c){void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),void 0===c&&(c="@graphistry/js-upload-api");var v=t.call(this,i,o,s,a,f,u,c)||this;return v.username=e,v._password=r,v.isServerConfigured()&&(v._getAuthTokenPromise=v.getAuthToken()),v}return t0(n,t),n.prototype.isServerConfigured=function(){return""!==(this.username||"")&&""!==(this._password||"")&&""!==(this.host||"")},n.prototype.checkStale=function(e,r,i,o,s){return this.username!==e||this._password!==r||this.protocol!==i||this.host!==o||this.clientProtocolHostname!==s},n.prototype.getAuthToken=function(e){return void 0===e&&(e=!1),pc(this,void 0,void 0,(function(){var r,i;return dc(this,(function(o){switch(o.label){case 0:if(!e&&this.authTokenValid())return[2,this._token||""];if(!this.isServerConfigured())throw new Error("Invalid username or password");return!e&&this._getAuthTokenPromise?[4,this._getAuthTokenPromise]:[3,2];case 1:return[2,o.sent()];case 2:return[4,this.postToApi(hc,Qt({username:this.username,password:this._password},this.org?{org_name:this.org}:{}),this.getBaseHeaders())];case 3:return[4,(r=o.sent()).json()];case 4:if(r=o.sent(),i=r.token,this._token=i,!this.authTokenValid())throw console.error("auth token failure",{response:r,username:this.username,host:this.host}),new Error(Qt({error:"Auth token failure"},r||{}));return[2,i]}}))}))},n.prototype.fetchToken=function(e,r,i,o,s){return void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),pc(this,void 0,void 0,(function(){return dc(this,(function(f){switch(f.label){case 0:return[4,this.postToApi(hc,Qt({username:e,password:r},i?{org_name:i}:{}),this.getBaseHeaders(),"".concat(o,"://").concat(s,"/"))];case 1:return[4,f.sent().json()];case 2:return[2,f.sent().token]}}))}))},n}(hn),r0=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rt=function(){return rt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},rt.apply(this,arguments)},vc=function(t,n,e,r){return new(e||(e=Promise))((function(o,s){function a(c){try{u(r.next(c))}catch(v){s(v)}}function f(c){try{u(r.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((r=r.apply(t,n||[])).next())}))},mc=function(t,n){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(t,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},vn="api/v2/auth/pkey/jwt/",gi=function(t){function n(e,r,i,o,s,a,f,u,c){void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),void 0===c&&(c="@graphistry/js-upload-api");var v=t.call(this,i,o,s,a,f,u,c)||this;return v.personalKeyId=e,v._personalKeySecret=r,v.isServerConfigured()&&(v._getAuthTokenPromise=v.getAuthToken()),v}return r0(n,t),n.prototype.isServerConfigured=function(){return""!==(this.personalKeyId||"")&&""!==(this._personalKeySecret||"")&&""!==(this.host||"")},n.prototype.checkStale=function(e,r,i,o,s){return this.personalKeyId!==e||this._personalKeySecret!==r||this.protocol!==i||this.host!==o||this.clientProtocolHostname!==s},n.prototype.getPKeyString=function(e,r){return"PersonalKey ".concat(e,":").concat(r)},n.prototype.getAuthToken=function(e){return void 0===e&&(e=!1),vc(this,void 0,void 0,(function(){var r,i;return mc(this,(function(o){switch(o.label){case 0:if(!e&&this.authTokenValid())return[2,this._token||""];if(!this.isServerConfigured())throw new Error("Invalid personalKeyId or personalKeySecret");return!e&&this._getAuthTokenPromise?[4,this._getAuthTokenPromise]:[3,2];case 1:return[2,o.sent()];case 2:return[4,this.postToApi(vn,rt({},this.org?{org_name:this.org}:{}),rt({Authorization:this.getPKeyString(this.personalKeyId,this._personalKeySecret)},this.getBaseHeaders()))];case 3:return 405!==(r=o.sent()).status?[3,5]:(this.org&&console.warn("Host does not support org auth via PKey, use username/password auth instead"),[4,this.getToApi(vn,{Authorization:this.getPKeyString(this.personalKeyId,this._personalKeySecret)})]);case 4:r=o.sent(),o.label=5;case 5:return[4,r.json()];case 6:if(r=o.sent(),i=r.token,this._token=i,!this.authTokenValid())throw console.error("auth token failure",{response:r,personalKeyId:this.personalKeyId,host:this.host}),new Error(rt({error:"Auth token failure"},r||{}));return[2,i]}}))}))},n.prototype.fetchToken=function(e,r,i,o,s){return void 0===o&&(o="https"),void 0===s&&(s="hub.graphistry.com"),vc(this,void 0,void 0,(function(){var a;return mc(this,(function(f){switch(f.label){case 0:return[4,this.postToApi(vn,rt({},i?{org_name:i}:{}),rt({Authorization:this.getPKeyString(e,r)},this.getBaseHeaders()),"".concat(o,"://").concat(s,"/"))];case 1:return 405!==(a=f.sent()).status?[3,3]:(i&&console.warn("Host does not support org auth via PKey, use username/password auth instead"),[4,this.getToApi(vn,{Authorization:this.getPKeyString(e,r)},"".concat(o,"://").concat(s,"/"))]);case 2:a=f.sent(),f.label=3;case 3:return[4,a.json()];case 4:return[2,(a=f.sent()).token]}}))}))},n}(hn),yc=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mn=function(){return mn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},mn.apply(this,arguments)},bi=function(t,n,e,r){return new(e||(e=Promise))((function(o,s){function a(c){try{u(r.next(c))}catch(v){s(v)}}function f(c){try{u(r.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((r=r.apply(t,n||[])).next())}))},xi=function(t,n){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(t,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};!function(t){t[t.Node=0]="Node",t[t.Edge=1]="Edge"}(Be||(Be={}));var er=function(){function t(n,e,r,i,o,s){void 0===e&&(e=void 0),void 0===r&&(r="json"),void 0===i&&(i="my file"),void 0===o&&(o={}),void 0===s&&(s=""),this._fileCreated=!1,this._fileUploaded=!1,this._fileValidated=!1,"string"==typeof e?(this._fileID=e,this._fileCreated=!0,this._fileUploaded=!0):this._data=e,this.createOpts=o,this.uploadUrlOpts=s,this.fileFormat=r,this.name=i,this.type=n}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileID",{get:function(){return this._fileID},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileCreated",{get:function(){return this._fileCreated},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileCreateResponse",{get:function(){return this._fileCreateResponse},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileUploaded",{get:function(){return this._fileUploaded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileValidated",{get:function(){return this._fileValidated},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileUploadResponse",{get:function(){return this._fileUploadResponse},enumerable:!1,configurable:!0}),t.prototype.upload=function(n,e){return void 0===e&&(e=!1),bi(this,void 0,void 0,(function(){return xi(this,(function(r){switch(r.label){case 0:if(!n)throw new Error("No client provided");return[4,this.createFile(n,e)];case 1:if(r.sent(),!this._fileID)throw new Error("Unexpected file creation response, check file._fileCreateResponse");return[4,this.uploadData(n,e)];case 2:if(r.sent(),!this._fileCreated)throw new Error("Unexpected file upload response, check file._fileUploadResponse");if(!this._fileValidated)throw new Error("Unexpected file validation response, check file._fileValidateResponse");return[2,this]}}))}))},t.prototype.createFile=function(n,e){return void 0===e&&(e=!1),bi(this,void 0,void 0,(function(){var r;return xi(this,(function(i){switch(i.label){case 0:return!e&&this._fileCreated?(console.debug("File already created, skipping"),[2,this._fileCreated]):(console.debug("Creating file"),[4,n.post("api/v2/files/",mn(mn({file_type:this.fileFormat},n.org?{org_name:n.org}:{}),this.createOpts))]);case 1:return r=i.sent(),console.debug("File creation response:",r),this._fileCreateResponse=r,this._fileID=r.file_id,this._fileCreated=!!r.file_id,[2,r]}}))}))},t.prototype.uploadData=function(n,e){return void 0===e&&(e=!1),bi(this,void 0,void 0,(function(){var r;return xi(this,(function(i){switch(i.label){case 0:return!e&&this._fileUploaded?[2,this._fileUploaded]:(this.fillMetadata(this._data,n),[4,n.post("api/v2/upload/files/".concat(this._fileID).concat(this.uploadUrlOpts?"?".concat(this.uploadUrlOpts):""),this._data,"json"!=this.fileFormat?{}:void 0)]);case 1:return r=i.sent(),this._fileUploadResponse=r,this._fileUploaded=!!r.is_uploaded,this._fileValidated=!!r.is_valid,[2,r]}}))}))},t.prototype.setData=function(n){if(this._fileUploaded)throw new Error("Cannot set data after file has been successfully uploaded");this._data=n},t.prototype.fillMetadata=function(n,e){if(!n)throw new Error("No data to fill metadata; call setData() first or provide to File constructor");n instanceof Uint8Array||(n.agent_name||(n.agent_name=e.agent),n.agent_version||(n.agent_version=e.version))},t}(),tr=function(t){function n(e,r,i,o,s){return void 0===e&&(e=void 0),void 0===r&&(r="json"),void 0===i&&(i="my file"),void 0===o&&(o={}),void 0===s&&(s=""),t.call(this,Be.Edge,e,r,i,o,s)||this}return yc(n,t),n}(er),rr=function(t){function n(e,r,i,o,s){return void 0===e&&(e=void 0),void 0===r&&(r="json"),void 0===i&&(i="my file"),void 0===o&&(o={}),void 0===s&&(s=""),t.call(this,Be.Node,e,r,i,o,s)||this}return yc(n,t),n}(er),n0=function(t,n,e,r){return new(e||(e=Promise))((function(o,s){function a(c){try{u(r.next(c))}catch(v){s(v)}}function f(c){try{u(r.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((r=r.apply(t,n||[])).next())}))},o0=function(t,n){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(t,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},wi={view:"10",edit:"20",share:"30"},Si=function(){function t(n,e,r,i,o,s,a){void 0===e&&(e="dataset"),void 0===r&&(r="private"),void 0===o&&(o=[]),void 0===s&&(s=!1),void 0===a&&(a=""),this.id=n,this.kind=e,this.mode=r,this.modeAction=i?wi[i]:"private"===this.mode?wi.edit:wi.view,this.invitedUsers=o,this.notify=s,this.message=a}return t.prototype.upload=function(n){return n0(this,void 0,void 0,(function(){var e,r;return o0(this,(function(i){switch(i.label){case 0:if(!n)throw new Error("No client provided");if(!n.authTokenValid()&&!n.isServerConfigured())throw new Error("Client is not configured, set token or creds");return e={obj_pk:this.id,obj_type:this.kind,mode:this.mode,notify:this.notify,invited_users:this.invitedUsers,mode_action:this.modeAction,message:this.message},console.debug("Privacy.upload",e,this),[4,n.post("api/v2/share/link/",e)];case 1:if("OK"!=(r=i.sent()).status)throw console.error("Privacy.upload error: ".concat(r.message)),new Error("Privacy upload failed");return[2,this]}}))}))},t}(),nr=function(){return nr=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},nr.apply(this,arguments)},yn=function(t,n,e,r){return new(e||(e=Promise))((function(o,s){function a(c){try{u(r.next(c))}catch(v){s(v)}}function f(c){try{u(r.throw(c))}catch(v){s(v)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e((function(s){s(o)}))}(c.value).then(a,f)}u((r=r.apply(t,n||[])).next())}))},_n=function(t,n){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function f(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=n.call(t,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},Oi=function(){function t(n,e,r,i){void 0===n&&(n={}),void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===i&&(i={}),this.bindings=n,this.edgeFiles=e instanceof tr?[e]:e,this.nodeFiles=r instanceof rr?[r]:r,this.urlOpts=i,console.debug("Dataset constructor",this,{bindings:n,edgeFiles:e,nodeFiles:r,urlOpts:i});for(var o=0,s=this.edgeFiles;o<s.length;o++){if(!s[o].fileFormat)throw new Error("Edge file must have a fileType")}for(var f=0,u=this.nodeFiles;f<u.length;f++){if(!u[f].fileFormat)throw new Error("Node file must have a fileType")}}return Object.defineProperty(t.prototype,"datasetID",{get:function(){return this._datasetID},enumerable:!1,configurable:!0}),t.prototype.getCreateDatasetResponse=function(){return this._createDatasetResponse},Object.defineProperty(t.prototype,"datasetURL",{get:function(){var n=this;if(!this._datasetID)throw new Error("No dataset ID yet");if(!this._usedClientProtocolHostname)throw new Error("No client protocol hostname yet");var e=Object.keys(this.urlOpts).length?"&".concat(Object.keys(this.urlOpts).map((function(r){return"".concat(r,"=").concat(n.urlOpts[r])})).join("&")):"";return"".concat(this._usedClientProtocolHostname,"/graph/graph.html?dataset=").concat(this._datasetID).concat(e)},enumerable:!1,configurable:!0}),t.prototype.upload=function(n){return yn(this,void 0,void 0,(function(){var e,r,i=this;return _n(this,(function(o){switch(o.label){case 0:if(!n)throw new Error("No client provided");if(!n.authTokenValid()&&!n.isServerConfigured())throw new Error("Client is not configured, set token or creds");return console.debug("Uploading dataset",{nodeFiles:this.nodeFiles,edgeFiles:this.edgeFiles}),[4,Promise.all(this.nodeFiles.concat(this.edgeFiles).map((function(s){return yn(i,void 0,void 0,(function(){var a;return _n(this,(function(u){switch(u.label){case 0:return console.debug("Uploading file",s),[4,s.createFile(n)];case 1:if(a=u.sent(),console.debug("Uploaded ".concat(s.fileFormat," file")),!a)throw new Error("File creation failed 1");return[4,s.uploadData(n)];case 2:if(!u.sent())throw new Error("File upload failed 2");return[2,s]}}))}))})))];case 1:return o.sent(),e={node_files:this.nodeFiles.map((function(s){return s.fileID})),edge_files:this.edgeFiles.map((function(s){return s.fileID}))},r=nr(nr(nr({},n.org?{org_name:n.org}:{}),e),this.bindings),[4,this.createDataset(n,r)];case 2:return o.sent(),[2,this]}}))}))},t.prototype.createDataset=function(n,e){return yn(this,void 0,void 0,(function(){var r,i;return _n(this,(function(o){switch(o.label){case 0:return this.fillMetadata(e,n),[4,n.post("api/v2/upload/datasets/",e)];case 1:if(r=o.sent(),this._createDatasetResponse=r,i=r.data.dataset_id,this._datasetID=i,this._usedClientProtocolHostname=n.clientProtocolHostname,!i)throw new Error("Unexpected dataset response, check dataset._createDatasetResponse");return[2,i]}}))}))},t.prototype.updateBindings=function(n){for(var e=0,r=Object.entries(n);e<r.length;e++){var i=r[e],o=i[0],s=i[1];this.bindings[o]=s}},t.prototype.addFile=function(n){if(console.debug("Adding file",n),n.type===Be.Node)this.nodeFiles.push(n);else{if(n.type!==Be.Edge)throw new Error("Invalid File Type");this.edgeFiles.push(n)}},t.prototype.fillMetadata=function(n,e){if(!n)throw new Error("No data to fill metadata; call setData() first or provide to File constructor");n.metadata||(n.metadata={});var r=n.metadata;r.agent||(r.agent=e.agent),r.agentversion||(r.agentversion=e.version),r.apiversion||(r.apiversion="3")},t.prototype.privacy=function(n,e,r,i,o,s){return void 0===e&&(e="private"),void 0===i&&(i=[]),void 0===o&&(o=!1),void 0===s&&(s=""),yn(this,void 0,void 0,(function(){return _n(this,(function(f){switch(f.label){case 0:if(!this._datasetID)throw new Error("Dataset must be uploaded before setting privacy");return[4,new Si(this._datasetID,"dataset",e,r,i,o,s).upload(n)];case 1:return[2,f.sent()]}}))}))},t}(),Wc=Ct(Gc(),1),{__extends:te,__assign:wn,__rest:Mb,__decorate:Cb,__param:Rb,__esDecorate:Db,__runInitializers:$b,__propKey:Fb,__setFunctionName:Nb,__metadata:Vb,__awaiter:Bc,__generator:Sn,__exportStar:Ub,__createBinding:Lb,__values:Fe,__read:pe,__spread:Gb,__spreadArrays:Wb,__spreadArray:ve,__await:On,__asyncGenerator:Jc,__asyncDelegator:Bb,__asyncValues:Hc,__makeTemplateObject:Jb,__importStar:Hb,__importDefault:Kb,__classPrivateFieldGet:Yb,__classPrivateFieldSet:zb,__classPrivateFieldIn:Xb}=Wc.default;function U(t){return"function"==typeof t}function Je(t){var e=t((function(r){Error.call(r),r.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var En=Je((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(r,i){return i+1+") "+r.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function nt(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var He=function(){function t(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var n,e,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Fe(s),f=a.next();!f.done;f=a.next()){f.value.remove(this)}}catch(d){n={error:d}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(n)throw n.error}}else s.remove(this);var c=this.initialTeardown;if(U(c))try{c()}catch(d){o=d instanceof En?d.errors:[d]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var y=Fe(v),m=y.next();!m.done;m=y.next()){var h=m.value;try{Kc(h)}catch(d){o=null!=o?o:[],d instanceof En?o=ve(ve([],pe(o)),pe(d.errors)):o.push(d)}}}catch(d){r={error:d}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}}if(o)throw new En(o)}},t.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)Kc(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}},t.prototype._hasParent=function(n){var e=this._parentage;return e===n||Array.isArray(e)&&e.includes(n)},t.prototype._addParent=function(n){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n},t.prototype._removeParent=function(n){var e=this._parentage;e===n?this._parentage=null:Array.isArray(e)&&nt(e,n)},t.prototype.remove=function(n){var e=this._finalizers;e&&nt(e,n),n instanceof t&&n._removeParent(this)},t.EMPTY=((n=new t).closed=!0,n),t;var n}(),Pi=He.EMPTY;function Pn(t){return t instanceof He||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Kc(t){U(t)?t():t.unsubscribe()}var je={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wt={setTimeout:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=wt.delegate;return null!=i&&i.setTimeout?i.setTimeout.apply(i,ve([t,n],pe(e))):setTimeout.apply(void 0,ve([t,n],pe(e)))},clearTimeout:function(t){var n=wt.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function An(t){wt.setTimeout((function(){var n=je.onUnhandledError;if(!n)throw t;n(t)}))}function or(){}var Yc=Ai("C",void 0,void 0);function Ai(t,n,e){return{kind:t,value:n,error:e}}var ot=null;function St(t){if(je.useDeprecatedSynchronousErrorHandling){var n=!ot;if(n&&(ot={errorThrown:!1,error:null}),t(),n){var e=ot,r=e.errorThrown,i=e.error;if(ot=null,r)throw i}}else t()}var ir=function(t){function n(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,Pn(e)&&e.add(r)):r.destination=a0,r}return te(n,t),n.create=function(e,r,i){return new it(e,r,i)},n.prototype.next=function(e){this.isStopped?ki(function Xc(t){return Ai("N",t,void 0)}(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?ki(function zc(t){return Ai("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?ki(Yc,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(He),i0=Function.prototype.bind;function ji(t,n){return i0.call(t,n)}var s0=function(){function t(n){this.partialObserver=n}return t.prototype.next=function(n){var e=this.partialObserver;if(e.next)try{e.next(n)}catch(r){jn(r)}},t.prototype.error=function(n){var e=this.partialObserver;if(e.error)try{e.error(n)}catch(r){jn(r)}else jn(n)},t.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(e){jn(e)}},t}(),it=function(t){function n(e,r,i){var s,a,o=t.call(this)||this;U(e)||!e?s={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:o&&je.useDeprecatedNextContext?((a=Object.create(e)).unsubscribe=function(){return o.unsubscribe()},s={next:e.next&&ji(e.next,a),error:e.error&&ji(e.error,a),complete:e.complete&&ji(e.complete,a)}):s=e;return o.destination=new s0(s),o}return te(n,t),n}(ir);function jn(t){je.useDeprecatedSynchronousErrorHandling?function Zc(t){je.useDeprecatedSynchronousErrorHandling&&ot&&(ot.errorThrown=!0,ot.error=t)}(t):An(t)}function ki(t,n){var e=je.onStoppedNotification;e&&wt.setTimeout((function(){return e(t,n)}))}var a0={closed:!0,next:or,error:function u0(t){throw t},complete:or},Ot="function"==typeof Symbol&&Symbol.observable||"@@observable";function be(t){return t}function qi(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ti(t)}function Ti(t){return 0===t.length?be:1===t.length?t[0]:function(e){return t.reduce((function(r,i){return i(r)}),e)}}var J=function(){function t(n){n&&(this._subscribe=n)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(n,e,r){var i=this,o=function c0(t){return t&&t instanceof ir||function f0(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}(t)&&Pn(t)}(n)?n:new it(n,e,r);return St((function(){var s=i,a=s.operator,f=s.source;o.add(a?a.call(o,f):f?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){n.error(e)}},t.prototype.forEach=function(n,e){var r=this;return new(e=Qc(e))((function(i,o){var s=new it({next:function(a){try{n(a)}catch(f){o(f),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)}))},t.prototype._subscribe=function(n){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(n)},t.prototype[Ot]=function(){return this},t.prototype.pipe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Ti(n)(this)},t.prototype.toPromise=function(n){var e=this;return new(n=Qc(n))((function(r,i){var o;e.subscribe((function(s){return o=s}),(function(s){return i(s)}),(function(){return r(o)}))}))},t.create=function(n){return new t(n)},t}();function Qc(t){var n;return null!==(n=null!=t?t:je.Promise)&&void 0!==n?n:Promise}function W(t){return function(n){if(function l0(t){return U(null==t?void 0:t.lift)}(n))return n.lift((function(e){try{return t(e,this)}catch(r){this.error(r)}}));throw new TypeError("Unable to lift unknown Observable type")}}function B(t,n,e,r,i){return new p0(t,n,e,r,i)}var p0=function(t){function n(e,r,i,o,s,a){var f=t.call(this,e)||this;return f.onFinalize=s,f.shouldUnsubscribe=a,f._next=r?function(u){try{r(u)}catch(c){e.error(c)}}:t.prototype._next,f._error=o?function(u){try{o(u)}catch(c){e.error(c)}finally{this.unsubscribe()}}:t.prototype._error,f._complete=i?function(){try{i()}catch(u){e.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,f}return te(n,t),n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},n}(ir),el=Je((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),xe=function(t){function n(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return te(n,t),n.prototype.lift=function(e){var r=new tl(this,this);return r.operator=e,r},n.prototype._throwIfClosed=function(){if(this.closed)throw new el},n.prototype.next=function(e){var r=this;St((function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Fe(r.currentObservers),a=s.next();!a.done;a=s.next()){a.value.next(e)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}}))},n.prototype.error=function(e){var r=this;St((function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=e;for(var i=r.observers;i.length;)i.shift().error(e)}}))},n.prototype.complete=function(){var e=this;St((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var r=e.observers;r.length;)r.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},n.prototype._innerSubscribe=function(e){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?Pi:(this.currentObservers=null,a.push(e),new He((function(){r.currentObservers=null,nt(a,e)})))},n.prototype._checkFinalizedStatuses=function(e){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?e.error(o):s&&e.complete()},n.prototype.asObservable=function(){var e=new J;return e.source=this,e},n.create=function(e,r){return new tl(e,r)},n}(J),tl=function(t){function n(e,r){var i=t.call(this)||this;return i.destination=e,i.source=r,i}return te(n,t),n.prototype.next=function(e){var r,i;null===(i=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===i||i.call(r,e)},n.prototype.error=function(e){var r,i;null===(i=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===i||i.call(r,e)},n.prototype.complete=function(){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===r||r.call(e)},n.prototype._subscribe=function(e){var r,i;return null!==(i=null===(r=this.source)||void 0===r?void 0:r.subscribe(e))&&void 0!==i?i:Pi},n}(xe),Et=function(t){function n(e){var r=t.call(this)||this;return r._value=e,r}return te(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return!r.closed&&e.next(this._value),r},n.prototype.getValue=function(){var e=this,r=e.hasError,i=e.thrownError,o=e._value;if(r)throw i;return this._throwIfClosed(),o},n.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},n}(xe),sr={now:function(){return(sr.delegate||Date).now()},delegate:void 0},Pt=function(t){function n(e,r,i){void 0===e&&(e=1/0),void 0===r&&(r=1/0),void 0===i&&(i=sr);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,r),o}return te(n,t),n.prototype.next=function(e){var r=this,i=r.isStopped,o=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,f=r._windowTime;i||(o.push(e),!s&&o.push(a.now()+f)),this._trimBuffer(),t.prototype.next.call(this,e)},n.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(e),o=this._infiniteTimeWindow,a=this._buffer.slice(),f=0;f<a.length&&!e.closed;f+=o?1:2)e.next(a[f]);return this._checkFinalizedStatuses(e),r},n.prototype._trimBuffer=function(){var e=this,r=e._bufferSize,i=e._timestampProvider,o=e._buffer,s=e._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<o.length&&o.splice(0,o.length-a),!s){for(var f=i.now(),u=0,c=1;c<o.length&&o[c]<=f;c+=2)u=c;u&&o.splice(0,u+1)}},n}(xe),rl=function(t){function n(e,r){return t.call(this)||this}return te(n,t),n.prototype.schedule=function(e,r){return void 0===r&&(r=0),this},n}(He),ur={setInterval:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=ur.delegate;return null!=i&&i.setInterval?i.setInterval.apply(i,ve([t,n],pe(e))):setInterval.apply(void 0,ve([t,n],pe(e)))},clearInterval:function(t){var n=ur.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},nl=function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.pending=!1,i}return te(n,t),n.prototype.schedule=function(e,r){var i;if(void 0===r&&(r=0),this.closed)return this;this.state=e;var o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,r),this},n.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),ur.setInterval(e.flush.bind(e,this),i)},n.prototype.recycleAsyncId=function(e,r,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return r;null!=r&&ur.clearInterval(r)},n.prototype.execute=function(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,r);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(e,r){var o,i=!1;try{this.work(e)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},n.prototype.unsubscribe=function(){if(!this.closed){var r=this.id,i=this.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,nt(o,this),null!=r&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(rl),Ii=function(){function t(n,e){void 0===e&&(e=t.now),this.schedulerActionCtor=n,this.now=e}return t.prototype.schedule=function(n,e,r){return void 0===e&&(e=0),new this.schedulerActionCtor(this,n).schedule(r,e)},t.now=sr.now,t}(),ol=function(t){function n(e,r){void 0===r&&(r=Ii.now);var i=t.call(this,e,r)||this;return i.actions=[],i._active=!1,i}return te(n,t),n.prototype.flush=function(e){var r=this.actions;if(this._active)r.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,i){for(;e=r.shift();)e.unsubscribe();throw i}}},n}(Ii),Mi=new ol(nl),il=Mi,kn=new J((function(t){return t.complete()}));function qn(t){return t&&U(t.schedule)}function sl(t){return t[t.length-1]}function At(t){return qn(sl(t))?t.pop():void 0}var jt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Tn(t){return U(null==t?void 0:t.then)}function In(t){return U(t[Ot])}function Mn(t){return Symbol.asyncIterator&&U(null==t?void 0:t[Symbol.asyncIterator])}function Cn(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Rn=function d0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Dn(t){return U(null==t?void 0:t[Rn])}function $n(t){return Jc(this,arguments,(function(){var e,r,i;return Sn(this,(function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,On(e.read())];case 3:return r=s.sent(),i=r.value,r.done?[4,On(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,On(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function Fn(t){return U(null==t?void 0:t.getReader)}function X(t){if(t instanceof J)return t;if(null!=t){if(In(t))return function h0(t){return new J((function(n){var e=t[Ot]();if(U(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(t);if(jt(t))return function v0(t){return new J((function(n){for(var e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()}))}(t);if(Tn(t))return function m0(t){return new J((function(n){t.then((function(e){n.closed||(n.next(e),n.complete())}),(function(e){return n.error(e)})).then(null,An)}))}(t);if(Mn(t))return al(t);if(Dn(t))return function y0(t){return new J((function(n){var e,r;try{for(var i=Fe(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(n.next(s),n.closed)return}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}n.complete()}))}(t);if(Fn(t))return function _0(t){return al($n(t))}(t)}throw Cn(t)}function al(t){return new J((function(n){(function g0(t,n){var e,r,i,o;return Bc(this,void 0,void 0,(function(){var s,a;return Sn(this,(function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),e=Hc(t),f.label=1;case 1:return[4,e.next()];case 2:if((r=f.sent()).done)return[3,4];if(s=r.value,n.next(s),n.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=f.sent(),i={error:a},[3,11];case 6:return f.trys.push([6,,9,10]),r&&!r.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}}))}))})(t,n).catch((function(e){return n.error(e)}))}))}function we(t,n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=n.schedule((function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function Nn(t,n){return void 0===n&&(n=0),W((function(e,r){e.subscribe(B(r,(function(i){return we(r,t,(function(){return r.next(i)}),n)}),(function(){return we(r,t,(function(){return r.complete()}),n)}),(function(i){return we(r,t,(function(){return r.error(i)}),n)})))}))}function Vn(t,n){return void 0===n&&(n=0),W((function(e,r){r.add(t.schedule((function(){return e.subscribe(r)}),n))}))}function Un(t,n){if(!t)throw new Error("Iterable cannot be null");return new J((function(e){we(e,n,(function(){var r=t[Symbol.asyncIterator]();we(e,n,(function(){r.next().then((function(i){i.done?e.complete():e.next(i.value)}))}),0,!0)}))}))}function hl(t,n){if(null!=t){if(In(t))return function fl(t,n){return X(t).pipe(Vn(n),Nn(n))}(t,n);if(jt(t))return function ll(t,n){return new J((function(e){var r=0;return n.schedule((function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())}))}))}(t,n);if(Tn(t))return function cl(t,n){return X(t).pipe(Vn(n),Nn(n))}(t,n);if(Mn(t))return Un(t,n);if(Dn(t))return function pl(t,n){return new J((function(e){var r;return we(e,n,(function(){r=t[Rn](),we(e,n,(function(){var i,o,s;try{o=(i=r.next()).value,s=i.done}catch(a){return void e.error(a)}s?e.complete():e.next(o)}),0,!0)})),function(){return U(null==r?void 0:r.return)&&r.return()}}))}(t,n);if(Fn(t))return function dl(t,n){return Un($n(t),n)}(t,n)}throw Cn(t)}function Ln(t,n){return n?hl(t,n):X(t)}function Ke(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ln(t,At(t))}function ar(t,n){var e=U(t)?t:function(){return t},r=function(i){return i.error(e())};return new J(n?function(i){return n.schedule(r,0,i)}:r)}var kt=Je((function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}));function K(t,n){return W((function(e,r){var i=0;e.subscribe(B(r,(function(o){r.next(t.call(n,o,i++))})))}))}var b0=Array.isArray;function Gn(t){return K((function(n){return function x0(t,n){return b0(n)?t.apply(void 0,ve([],pe(n))):t(n)}(t,n)}))}var w0=Array.isArray,S0=Object.getPrototypeOf,O0=Object.prototype,E0=Object.keys;function ml(t){if(1===t.length){var n=t[0];if(w0(n))return{args:n,keys:null};if(function P0(t){return t&&"object"==typeof t&&S0(t)===O0}(n)){var e=E0(n);return{args:e.map((function(r){return n[r]})),keys:e}}}return{args:t,keys:null}}function de(t,n,e){return void 0===e&&(e=1/0),U(n)?de((function(r,i){return K((function(o,s){return n(r,o,i,s)}))(X(t(r,i)))}),e):("number"==typeof n&&(e=n),W((function(r,i){return function _l(t,n,e,r,i,o,s,a){var f=[],u=0,c=0,v=!1,y=function(){v&&!f.length&&!u&&n.complete()},m=function(d){return u<r?h(d):f.push(d)},h=function(d){o&&n.next(d),u++;var l=!1;X(e(d,c++)).subscribe(B(n,(function(p){null==i||i(p),o?m(p):n.next(p)}),(function(){l=!0}),void 0,(function(){if(l)try{u--;for(var p=function(){var g=f.shift();s?we(n,s,(function(){return h(g)})):h(g)};f.length&&u<r;)p();y()}catch(g){n.error(g)}})))};return t.subscribe(B(n,m,(function(){v=!0,y()}))),function(){null==a||a()}}(r,i,t,e)})))}function fr(t){return void 0===t&&(t=1/0),de(be,t)}function cr(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function gl(){return fr(1)}()(Ln(t,At(t)))}function lr(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=function ul(t){return U(sl(t))?t.pop():void 0}(t),r=ml(t),i=r.args,o=r.keys,s=new J((function(a){var f=i.length;if(f)for(var u=new Array(f),c=f,v=f,y=function(h){var d=!1;X(i[h]).subscribe(B(a,(function(l){d||(d=!0,v--),u[h]=l}),(function(){return c--}),void 0,(function(){(!c||!d)&&(v||a.next(o?function yl(t,n){return t.reduce((function(e,r,i){return e[r]=n[i],e}),{})}(o,u):u),a.complete())})))},m=0;m<f;m++)y(m);else a.complete()}));return e?s.pipe(Gn(e)):s}var A0=["addListener","removeListener"],j0=["addEventListener","removeEventListener"],k0=["on","off"];function Se(t,n,e,r){if(U(e)&&(r=e,e=void 0),r)return Se(t,n,e).pipe(Gn(r));var i=pe(function I0(t){return U(t.addEventListener)&&U(t.removeEventListener)}(t)?j0.map((function(a){return function(f){return t[a](n,f,e)}})):function q0(t){return U(t.addListener)&&U(t.removeListener)}(t)?A0.map(bl(t,n)):function T0(t){return U(t.on)&&U(t.off)}(t)?k0.map(bl(t,n)):[],2),o=i[0],s=i[1];if(!o&&jt(t))return de((function(a){return Se(a,n,e)}))(X(t));if(!o)throw new TypeError("Invalid event target");return new J((function(a){var f=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return a.next(1<u.length?u:u[0])};return o(f),function(){return s(f)}}))}function bl(t,n){return function(e){return function(r){return t[e](n,r)}}}function pr(t,n,e){void 0===t&&(t=0),void 0===e&&(e=il);var r=-1;return null!=n&&(qn(n)?e=n:r=n),new J((function(i){var o=function vl(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);var s=0;return e.schedule((function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())}),o)}))}function he(t,n){return W((function(e,r){var i=0;e.subscribe(B(r,(function(o){return t.call(n,o,i++)&&r.next(o)})))}))}function Wn(t){return W((function(n,e){var o,r=null,i=!1;r=n.subscribe(B(e,void 0,void 0,(function(s){o=X(t(s,Wn(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0}))),i&&(r.unsubscribe(),r=null,o.subscribe(e))}))}function Ci(t,n){return U(n)?de(t,n,1):de(t,1)}function Bn(t){return W((function(n,e){var r=!1;n.subscribe(B(e,(function(i){r=!0,e.next(i)}),(function(){r||e.next(t),e.complete()})))}))}function Ye(t){return t<=0?function(){return kn}:W((function(n,e){var r=0;n.subscribe(B(e,(function(i){++r<=t&&(e.next(i),t<=r&&e.complete())})))}))}function Ri(t,n){return n?function(e){return cr(n.pipe(Ye(1),function wl(){return W((function(t,n){t.subscribe(B(n,or))}))}()),e.pipe(Ri(t)))}:de((function(e,r){return X(t(e,r)).pipe(Ye(1),function Sl(t){return K((function(){return t}))}(e))}))}function dr(t,n){void 0===n&&(n=Mi);var e=pr(t,n);return Ri((function(){return e}))}function M0(t,n){return t===n}function Hn(t){return void 0===t&&(t=C0),W((function(n,e){var r=!1;n.subscribe(B(e,(function(i){r=!0,e.next(i)}),(function(){return r?e.complete():e.error(t())})))}))}function C0(){return new kt}function qt(t){return W((function(n,e){try{n.subscribe(e)}finally{e.add(t)}}))}function Di(t,n){var e=arguments.length>=2;return function(r){return r.pipe(t?he((function(i,o){return t(i,o,r)})):be,Ye(1),e?Bn(n):Hn((function(){return new kt})))}}function $i(){return W((function(t,n){t.subscribe(B(n,(function(){n.next(!1),n.complete()}),(function(){n.next(!0),n.complete()})))}))}function st(t){return t<=0?function(){return kn}:W((function(n,e){var r=[];n.subscribe(B(e,(function(i){r.push(i),t<r.length&&r.shift()}),(function(){var i,o;try{for(var s=Fe(r),a=s.next();!a.done;a=s.next()){var f=a.value;e.next(f)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}e.complete()}),void 0,(function(){r=null})))}))}function Fi(t,n){var e=arguments.length>=2;return function(r){return r.pipe(t?he((function(i,o){return t(i,o,r)})):be,st(1),e?Bn(n):Hn((function(){return new kt})))}}function zn(t,n){return W(function xl(t,n,e,r,i){return function(o,s){var a=e,f=n,u=0;o.subscribe(B(s,(function(c){var v=u++;f=a?t(f,c,v):(a=!0,c),r&&s.next(f)}),i&&function(){a&&s.next(f),s.complete()}))}}(t,n,arguments.length>=2,!0))}function hr(t){void 0===t&&(t={});var n=t.connector,e=void 0===n?function(){return new xe}:n,r=t.resetOnError,i=void 0===r||r,o=t.resetOnComplete,s=void 0===o||o,a=t.resetOnRefCountZero,f=void 0===a||a;return function(u){var c,v,y,m=0,h=!1,d=!1,l=function(){null==v||v.unsubscribe(),v=void 0},p=function(){l(),c=y=void 0,h=d=!1},g=function(){var x=c;p(),null==x||x.unsubscribe()};return W((function(x,_){m++,!d&&!h&&l();var b=y=null!=y?y:e();_.add((function(){0===--m&&!d&&!h&&(v=Ni(g,f))})),b.subscribe(_),!c&&m>0&&(c=new it({next:function(w){return b.next(w)},error:function(w){d=!0,l(),v=Ni(p,i,w),b.error(w)},complete:function(){h=!0,l(),v=Ni(p,s),b.complete()}}),X(x).subscribe(c))}))(u)}}function Ni(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];if(!0!==n){if(!1!==n){var i=new it({next:function(){i.unsubscribe(),t()}});return X(n.apply(void 0,ve([],pe(e)))).subscribe(i)}}else t()}function ze(t,n,e){var r,i,o,s,a=!1;return t&&"object"==typeof t?(r=t.bufferSize,s=void 0===r?1/0:r,i=t.windowTime,n=void 0===i?1/0:i,a=void 0!==(o=t.refCount)&&o,e=t.scheduler):s=null!=t?t:1/0,hr({connector:function(){return new Pt(s,n,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Xn(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=At(t);return W((function(r,i){(e?cr(t,r,e):cr(t,r)).subscribe(i)}))}function ne(t,n){return W((function(e,r){var i=null,o=0,s=!1,a=function(){return s&&!i&&r.complete()};e.subscribe(B(r,(function(f){null==i||i.unsubscribe();var u=0,c=o++;X(t(f,c)).subscribe(i=B(r,(function(v){return r.next(n?n(f,v,c,u++):v)}),(function(){i=null,a()})))}),(function(){s=!0,a()})))}))}function z(t,n,e){var r=U(t)||n||e?{next:t,error:n,complete:e}:t;return r?W((function(i,o){var s;null===(s=r.subscribe)||void 0===s||s.call(r);var a=!0;i.subscribe(B(o,(function(f){var u;null===(u=r.next)||void 0===u||u.call(r,f),o.next(f)}),(function(){var f;a=!1,null===(f=r.complete)||void 0===f||f.call(r),o.complete()}),(function(f){var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,f),o.error(f)}),(function(){var f,u;a&&(null===(f=r.unsubscribe)||void 0===f||f.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)})))})):be}function Zn(t){switch(t.responseType){case"json":if("response"in t)return t.response;var n=t;return JSON.parse(n.responseText);case"document":return t.responseXML;default:return"response"in t?t.response:(n=t).responseText}}var Ol=function t(n,e,r,i){void 0===i&&(i="download_load"),this.originalEvent=n,this.xhr=e,this.request=r,this.type=i;var o=e.status,s=e.responseType;this.status=null!=o?o:0,this.responseType=null!=s?s:"";var a=e.getAllResponseHeaders();this.responseHeaders=a?a.split("\n").reduce((function(c,v){var y=v.indexOf(": ");return c[v.slice(0,y)]=v.slice(y+2),c}),{}):{},this.response=Zn(e);var f=n.loaded,u=n.total;this.loaded=f,this.total=u},vr=Je((function(t){return function(e,r,i){var o;this.message=e,this.name="AjaxError",this.xhr=r,this.request=i,this.status=r.status,this.responseType=r.responseType;try{o=Zn(r)}catch(s){o=r.responseText}this.response=o}})),El=function(){function t(n,e){return vr.call(this,"ajax timeout",n,e),this.name="AjaxTimeoutError",this}return t.prototype=Object.create(vr.prototype),t}();function R0(t,n){return Ce({method:"GET",url:t,headers:n})}function D0(t,n,e){return Ce({method:"POST",url:t,body:n,headers:e})}function $0(t,n){return Ce({method:"DELETE",url:t,headers:n})}function F0(t,n,e){return Ce({method:"PUT",url:t,body:n,headers:e})}function N0(t,n,e){return Ce({method:"PATCH",url:t,body:n,headers:e})}var V0=K((function(t){return t.response}));function U0(t,n){return V0(Ce({method:"GET",url:t,headers:n}))}var Ce=function(){var t=function(n){return function G0(t){return new J((function(n){var e,r,u,i=wn({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},t),o=i.queryParams,s=i.body,a=i.headers,f=i.url;if(!f)throw new TypeError("url is required");if(o)if(f.includes("?")){var c=f.split("?");if(2<c.length)throw new TypeError("invalid url");u=new URLSearchParams(c[1]),new URLSearchParams(o).forEach((function(I,M){return u.set(M,I)})),f=c[0]+"?"+u}else f=f+"?"+(u=new URLSearchParams(o));var v={};if(a)for(var y in a)a.hasOwnProperty(y)&&(v[y.toLowerCase()]=a[y]);var m=i.crossDomain;!m&&!("x-requested-with"in v)&&(v["x-requested-with"]="XMLHttpRequest");var h=i.withCredentials,d=i.xsrfCookieName,l=i.xsrfHeaderName;if((h||!m)&&d&&l){var p=null!==(r=null===(e=null==document?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)")))||void 0===e?void 0:e.pop())&&void 0!==r?r:"";p&&(v[l]=p)}var _,g=function W0(t,n){var e;if(!t||"string"==typeof t||function z0(t){return"undefined"!=typeof FormData&&t instanceof FormData}(t)||function X0(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(t)||function J0(t){return Li(t,"ArrayBuffer")}(t)||function H0(t){return Li(t,"File")}(t)||function K0(t){return Li(t,"Blob")}(t)||function Z0(t){return"undefined"!=typeof ReadableStream&&t instanceof ReadableStream}(t))return t;if(function Y0(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)}(t))return t.buffer;if("object"==typeof t)return n["content-type"]=null!==(e=n["content-type"])&&void 0!==e?e:"application/json;charset=utf-8",JSON.stringify(t);throw new TypeError("Unknown body type")}(s,v),x=wn(wn({},i),{url:f,headers:v,body:g});_=t.createXHR?t.createXHR():new XMLHttpRequest;var b=t.progressSubscriber,w=t.includeDownloadProgress,S=void 0!==w&&w,O=t.includeUploadProgress,j=void 0!==O&&O,E=function(I,M){_.addEventListener(I,(function(){var R,D=M();null===(R=null==b?void 0:b.error)||void 0===R||R.call(b,D),n.error(D)}))};E("timeout",(function(){return new El(_,x)})),E("abort",(function(){return new vr("aborted",_,x)}));var A=function(I,M){return new Ol(M,_,x,I+"_"+M.type)},q=function(I,M,R){I.addEventListener(M,(function(D){n.next(A(R,D))}))};j&&[Vi,Ui,Al].forEach((function(I){return q(_.upload,I,L0)})),b&&[Vi,Ui].forEach((function(I){return _.upload.addEventListener(I,(function(M){var R;return null===(R=null==b?void 0:b.next)||void 0===R?void 0:R.call(b,M)}))})),S&&[Vi,Ui].forEach((function(I){return q(_,I,Pl)}));var k=function(I){var M="ajax error"+(I?" "+I:"");n.error(new vr(M,_,x))};_.addEventListener("error",(function(I){var M;null===(M=null==b?void 0:b.error)||void 0===M||M.call(b,I),k()})),_.addEventListener(Al,(function(I){var M,R,D=_.status;if(D<400){null===(M=null==b?void 0:b.complete)||void 0===M||M.call(b);var V=void 0;try{V=A(Pl,I)}catch(F){return void n.error(F)}n.next(V),n.complete()}else null===(R=null==b?void 0:b.error)||void 0===R||R.call(b,I),k(D)}));var T=x.user,$=x.method,C=x.async;for(var y in T?_.open($,f,C,T,x.password):_.open($,f,C),C&&(_.timeout=x.timeout,_.responseType=x.responseType),"withCredentials"in _&&(_.withCredentials=x.withCredentials),v)v.hasOwnProperty(y)&&_.setRequestHeader(y,v[y]);return g?_.send(g):_.send(),function(){_&&4!==_.readyState&&_.abort()}}))}("string"==typeof n?{url:n}:n)};return t.get=R0,t.post=D0,t.delete=$0,t.put=F0,t.patch=N0,t.getJSON=U0,t}(),L0="upload",Pl="download",Vi="loadstart",Ui="progress",Al="load";var B0=Object.prototype.toString;function Li(t,n){return B0.call(t)==="[object "+n+"]"}var jl=1,XP=Oi,ZP=er,QP=tr,e2=rr,kl=class extends _i{constructor(n,e,r=void 0,i="https",o="hub.graphistry.com",s,a){super(n,e,r,i,o,s,window.fetch.bind(window),a,"@graphistry/client-api")}},ql=class extends gi{constructor(n,e,r=void 0,i="https",o="hub.graphistry.com",s,a){super(n,e,r,i,o,s,window.fetch.bind(window),a,"@graphistry/client-api")}},G={};function yr(t,...n){return ne((e=>(console.debug("makeCaller switchMap",{g:e}),new J((r=>{console.debug("caller hit",t,n,{g:e});let i=0,o=e.models[t].call(...n).subscribe((s=>{i++,console.debug("caller tick",s,{runs:i}),r.next(s)}),(s=>{i++,console.error("caller error",s,{runs:i}),r.error(s)}),(()=>{console.debug("caller complete",t,n,{runs:i}),r.complete()}));return()=>{console.debug("caller unsub skip",t,n,{runs:i}),o.unsubscribe()}})).pipe(z((r=>console.debug("caller got",t,n,r,{g:e}))),K((r=>e.updateStateWithResult(r)))))))}function Dl(t,...n){return ne((e=>Ke(e).pipe(yr(t,...n),K((({json:r})=>r.toJSON())))))}function Q0(t,...n){return ne((e=>new J((r=>{console.debug("getter hit",t,n);let i=e.models[t].get(...n).subscribe((o=>{r.next(o)}),(o=>{r.error(o)}),(()=>{console.debug("getter complete",t,n),r.complete()}));return()=>{console.debug("getter unsub",t,n),i.unsubscribe()}})).pipe(z((r=>console.debug("getter got",t,n,r))),K((r=>e.updateStateWithResult(r))))))}function ey(t,...n){return ne((e=>Ke(e).pipe(Q0(t,...n))))}function _r(t,n){return ne((e=>{let r=n(e.models[t]),i=e.models[t].set(...r);return new J((o=>{console.debug("starting makeSetterWithModel postMessage cmds",r);let s=i.subscribe((a=>{o.next(a)}),(a=>{o.error({msg:"iframe setter fail",e:a,modelName:t,values:r})}),(()=>{o.complete()}));return()=>{console.debug("finished makeSetterWithModel; unsubscribe postMessage",{sub:s,values:r}),s.unsubscribe()}})).pipe(z((o=>{console.debug("setter resp pre",o)})),K((({json:o})=>e.updateStateWithResult(o.toJSON()))),z((o=>{console.debug("setter resp post",o)})))}))}function ke(t,...n){return _r(t,(()=>n))}function to(t,n,e,r){let i=Array.isArray(r)?{colors:r}:{mapping:r};return ke("view",(0,L.$value)(`encodings.${t}.color`,Mt({reset:void 0===n,variation:e,name:"user_"+Math.random(),encodingType:"color",graphType:t,attribute:n},i)))}function ty(t){return to(t)}function $l(t){let n=["point"];if(void 0!==t)if(t instanceof Array)for(let e of t)n.push(e);else"string"==typeof t&&n.push(t);return to.apply(this,n)}function ry(){return $l(void 0)}function Fl(t){let n=["edge"];if(void 0!==t)if(t instanceof Array)for(let e of t)n.push(e);else"string"==typeof t&&n.push(t);return to.apply(this,n)}function ny(){return Fl(void 0)}function oy(t){return ke("view",(0,L.$value)("encodings.point.axis",{reset:void 0===t,name:"user_"+Math.random(),encodingType:"axis",graphType:"point",attribute:"degree",variation:"categorical",rows:t}))}function Tt(t,n,e){return ke("view",(0,L.$value)(`encodings.${t}.icon`,{reset:void 0===n,name:"user_"+Math.random(),encodingType:"icon",graphType:t,attribute:n,mapping:e}))}function iy(t){return Tt(t)}function sy(t){let n=["point"];if(void 0!==t)if(t instanceof Array)for(let e of t)n.push(e);else"string"==typeof t&&n.push(t);return Tt.apply(this,n)}function r2(){return Tt("point")}function uy(t){let n=["edge"];if(void 0!==t)if(t instanceof Array)for(let e of t)n.push(e);else"string"==typeof t&&n.push(t);return Tt.apply(this,n)}function ay(){return Tt("edge")}function ro(t,n,e){return ke("view",(0,L.$value)(`encodings.${t}.size`,Mt({reset:void 0===n,name:"user_"+Math.random(),encodingType:"size",graphType:t,attribute:n},e?{mapping:e}:{})))}function fy(t){return ro(t)}function cy(t){let n=["point"];if(void 0!==t){let e=t instanceof Array?t[0]:t;if(n.push(e),t instanceof Array&&t.length>1){let r=t[1];n.push(r)}}return ro.apply(this,n)}function ly(){return ro("point")}function py(t,n){if(!t)return K((e=>e));if(Array.isArray(t)&&(n=t.length>1?t[1]:void 0,t=t[0]),n)return _r("view",(e=>[(0,L.$value)("filters.controls[0].selected","filters"===t),(0,L.$value)("scene.controls[1].selected","scene"===t),(0,L.$value)("labels.controls[0].selected","labels"===t),(0,L.$value)("layout.controls[0].selected","layout"===t),(0,L.$value)("exclusions.controls[0].selected","exclusions"===t),(0,L.$value)("panels.left","filters"===t?(0,L.$ref)(e._path.concat("filters")):"scene"===t?(0,L.$ref)(e._path.concat("scene")):"labels"===t?(0,L.$ref)(e._path.concat("labels")):"layout"===t?(0,L.$ref)(e._path.concat("layout")):(0,L.$ref)(e._path.concat("exclusions")))]));return ke("view",...[(0,L.$value)("panels.left",void 0),(0,L.$value)("filters.controls[0].selected",!1),(0,L.$value)("scene.controls[1].selected",!1),(0,L.$value)("labels.controls[0].selected",!1),(0,L.$value)("layout.controls[0].selected",!1),(0,L.$value)("exclusions.controls[0].selected",!1)])}function Gi(t){return ke("view",...[(0,L.$value)("scene.simulating",t),(0,L.$value)("scene.controls[0].selected",t)])}function Ji(t,n,e){return ke("view",(0,L.$value)(`encodings.defaults.${t}.icon`,{reset:void 0===n,name:"user_"+Math.random(),encodingType:"icon",graphType:t,attribute:n,mapping:e}))}function dy(t){let n=["point"];if(void 0!==t){let e=t instanceof Array?t[0]:t;if(n.push(e),t instanceof Array&&t.length>1){let r=t[1];n.push(r)}}return Ji.apply(this,n)}function hy(t){let n=["edge"];if(void 0!==t){let e=t instanceof Array?t[0]:t;if(n.push(e),t instanceof Array&&t.length>1){let r=t[1];n.push(r)}}return Ji.apply(this,n)}function Hi(t,n,e){let{view:r}=this;return new this(r.set((0,L.$value)(`encodings.defaults.${t}.size`,{reset:void 0===n,name:"user_"+Math.random(),encodingType:"size",graphType:t,attribute:n,mapping:e})).map((({json:i})=>i.toJSON())).toPromise())}function vy(t){let n=["point"];if(void 0!==t){let e=t instanceof Array?t[0]:t;if(n.push(e),t instanceof Array&&t.length>1){let r=t[1];n.push(r)}}return Hi.apply(this,n)}function my(t){let n=["edge"];if(void 0!==t){let e=t instanceof Array?t[0]:t;if(n.push(e),t instanceof Array&&t.length>1){let r=t[1];n.push(r)}}return Hi.apply(this,n)}function Ki(t,n,e,r){return ke("view",(0,L.$value)(`encodings.defaults.${t}.color`,{reset:void 0===n,variation:e,name:"user_"+Math.random(),encodingType:"color",graphType:t,attribute:n,mapping:r}))}function yy(t){let n=["point"];if(void 0!==t){let e=t instanceof Array?t[0]:t;if(n.push(e),t instanceof Array&&t.length>1){let r=t[1];n.push(r)}}return Ki.apply(this,n)}function _y(t){let n=["edge"];if(void 0!==t){let e=t instanceof Array?t[0]:t;if(n.push(e),t instanceof Array&&t.length>1){let r=t[1];n.push(r)}}return Ki.apply(this,n)}function gy(t){if(t)return _r("view",(n=>[(0,L.$value)("inspector.controls[0].selected",!0),(0,L.$value)("panels.bottom",(0,L.$ref)(n._path.concat("inspector")))]));return ke("view",...[(0,L.$value)("panels.bottom",void 0),(0,L.$value)("inspector.controls[0].selected",!1)])}function by(t){if(t)return _r("view",(n=>[(0,L.$value)("timebars.controls[0].selected",!0),(0,L.$value)("panels.bottom",(0,L.$ref)(n._path.concat("timebars")))]));return ke("view",...[(0,L.$value)("panels.bottom",void 0),(0,L.$value)("timebars.controls[0].selected",!1)])}function xy(t){return _r("view",(n=>t?[(0,L.$value)("histograms.controls[0].selected",!0),(0,L.$value)("panels.right",(0,L.$ref)(n._path.concat("histograms")))]:[(0,L.$value)("panels.right",void 0),(0,L.$value)("histograms.controls[0].selected",!1)]))}function wy(t=1e3){return"number"!=typeof t?K((n=>n)):ne((n=>Ke(n).pipe(Gi(!0),dr(t),Gi(!1),st(1))))}function Sy(t){return Dl("view","autocenter",[t])}function Oy(){return ey("workbook","id")}function Ey(){return Dl("workbook","save",[])}function Py(t){return no("showToolbar",!!t)}function Wi(t){return t?yr("view","filters.add",[t]):K((n=>n))}function Ay(t){if("string"==typeof t)return Wi(t);if(!Array.isArray(t))throw new Error("Expected an array of filters");return ne((n=>lr(t.map((e=>Ke(n).pipe(Wi(e))))).pipe(K((e=>n.updateStateWithResult(e))))))}function Bi(t){return t?yr("view","exclusions.add",[t]):K((n=>n))}function jy(t){if("string"==typeof t)return Bi(t);if(!Array.isArray(t))throw new Error("Expected an array of exclusions");return ne((n=>lr(t.map((e=>Ke(n).pipe(Bi(e))))).pipe(K((e=>n.updateStateWithResult(e))))))}function ky({point:t=[],edge:n=[]}={}){return yr("view","selection.setExternal",{point:t,edge:n})}function qy({point:t=[],edge:n=[],darken:e=!0}={}){return yr("view","highlight.setExternal",{point:t,edge:n})}G.encodeColor=to,G.resetColor=ty,G.encodePointColor=$l,G.resetPointColor=ry,G.encodeEdgeColor=Fl,G.resetEdgeColor=ny,G.encodeAxis=oy,G.encodeIcons=Tt,G.resetIcons=iy,G.encodePointIcons=sy,G.encodeEdgeIcons=uy,G.resetEdgeIcons=ay,G.encodeSize=ro,G.resetSize=fy,G.encodePointSize=cy,G.resetPointSize=ly,G.togglePanel=py,G.toggleClustering=Gi,G.encodeDefaultIcons=Ji,G.encodeDefaultPointIcons=dy,G.encodeDefaultEdgeIcons=hy,G.encodeDefaultSize=Hi,G.encodeDefaultPointSize=vy,G.encodeDefaultEdgeSize=my,G.encodeDefaultColor=Ki,G.encodeDefaultPointColor=yy,G.encodeDefaultEdgeColor=_y,G.toggleInspector=gy,G.toggleTimebars=by,G.toggleHistograms=xy,G.tickClustering=wy,G.autocenter=Sy,G.getCurrentWorkbook=Oy,G.saveWorkbook=Ey,G.toggleToolbar=Py,G.addFilter=Wi,G.addFilters=Ay,G.addExclusion=Bi,G.addExclusions=jy,G.setSelectionExternal=ky,G.setHighlightExternal=qy;var Qn={showToolbar:["view","toolbar.visible"],pruneOrphans:["view","pruneOrphans"],showArrows:["view","scene.renderer.showArrows"],background:["view","scene.renderer.background.color"],edgeOpacity:["view","scene.renderer.edges.opacity"],edgeSize:["view","scene.renderer.edges.scaling"],edgeCurvature:["view","scene.renderer.edges.curvature"],pointOpacity:["view","scene.renderer.points.opacity"],pointSize:["view","scene.renderer.points.scaling"],neighbhorhoodHighlight:["view","scene.renderer.points.neighborhoodHighlight"],neighbhorhoodHighlightHops:["view","scene.renderer.points.neighborhoodHighlightHops"],zoom:["view","camera.zoom"],center:["view",'camera.center["x", "y", "z"]'],labelOpacity:["view","labels.opacity"],labelEnabled:["view","labels.enabled"],labelPropertiesEnabled:["view","labels.propertiesEnabled"],labelInspectorEnabled:["view","labels.inspectorEnabled"],labelShowActions:["view","labels.showActions"],labelPOI:["view","labels.poiEnabled"],labelLabelPOI:["view","labels.poiLabelEnabled"],labelPOIMax:["view","labels.poiMax"],labelHighlightEnabled:["view","labels.highlightEnabled"],labelColor:["view","labels.foreground.color"],labelBackground:["view","labels.background.color"],precisionVsSpeed:["view","layout.options.forceatlas2barnes[0].value"],gravity:["view","layout.options.forceatlas2barnes[1].value"],scalingRatio:["view","layout.options.forceatlas2barnes[2].value"],edgeInfluence:["view","layout.options.forceatlas2barnes[3].value"],strongGravity:["view","layout.options.forceatlas2barnes[4].value"],dissuadeHubs:["view","layout.options.forceatlas2barnes[5].value"],linLog:["view","layout.options.forceatlas2barnes[6].value"],lockedX:["view","layout.options.forceatlas2barnes[7].value"],lockedY:["view","layout.options.forceatlas2barnes[8].value"],lockedR:["view","layout.options.forceatlas2barnes[9].value"]};function no(t,n){if(console.debug("updating setting called",{G_API_SETTINGS:Qn,name:t,val:n}),void 0===Qn[t])throw new Error(`Property "${t}" is not a valid setting, available are: ${Object.keys(Qn).join(", ")}`);let[e,r]=Qn[t];return ke(e,(0,L.$value)(r,(0,L.$atom)(n,{$timestamp:Date.now()})))}function Ty(t){return no("zoom",t)}function Nl(t,{withColumns:n=!1,pageSize:e=1e3}={}){if(!(t.subscriptionAPIVersion>=1))return ar((()=>new Error("selectionUpdates is not available the currently embedded graphistry viz.")));let r=".selection.labels";return t.selectionStream||(t.selectionStream=new Et("Initialize selectionUpdates stream").pipe(z((()=>{console.debug("postMessage subscription","@client-api.selectionUpdates"),t.iFrame.contentWindow.postMessage({type:"graphistry-subscribe",agent:"graphistryjs",path:r,options:{pageSize:e,withColumns:n}},"*")})),qt((()=>{console.debug("postMessage unsubscribe","@client-api.selectionUpdates"),t.iFrame.contentWindow.postMessage({type:"graphistry-unsubscribe",agent:"graphistryjs",path:r},"*")})),ne((()=>Se(window,"message").pipe(K((i=>i.data)),he((i=>i&&"graphistry-sub-update"===i.type&&i.path===r)),K((i=>i.data)),function Jn(t,n){return void 0===n&&(n=be),t=null!=t?t:M0,W((function(e,r){var i,o=!0;e.subscribe(B(r,(function(s){var a=n(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))})))}))}((({point:i,edge:o},{point:s,edge:a})=>i.length===s.length&&o.length===a.length&&i.every(((f,u)=>f===s[u]))&&o.every(((f,u)=>f===a[u])))),z((({edge:i,point:o,labels:s})=>{t.models.model.setCache({json:{workbooks:{open:{views:{current:{selection:{edge:i,point:o,labels:s}}}}}}})})),ze({bufferSize:1,refCount:!0}))))))}function n2({onChange:t,g:n}){return Nl(n).subscribe({next:t})}function Vl(t={}){let n=".labels";var e;return t.subscriptionAPIVersion>=1?e=new Et("value").pipe(z((r=>{console.debug("postMessage subscription","@client-api.labelUpdates"),t.iFrame.contentWindow.postMessage({type:"graphistry-subscribe",agent:"graphistryjs",path:n},"*")})),qt((()=>{console.debug("postMessage subscription","@client-api.labelUpdates"),t.iFrame.contentWindow.postMessage({type:"graphistry-unsubscribe",agent:"graphistryjs",path:n},"*")})),ne((()=>Se(window,"message").pipe(K((r=>r.data)),he((r=>r&&"graphistry-sub-update"===r.type&&r.path===n)),K((r=>r.data))))),ze({bufferSize:1,refCount:!0})):(console.debug("Using legacy source, version:",t.subscriptionAPIVersion,"@client-api.labelUpdates"),e=Se(window,"message").pipe(K((r=>r.data)),he((r=>r&&"labels-update"===r.type)),ze({bufferSize:1,refCount:!0}))),t.labelsStream||(t.labelsStream=e.pipe(zn(((r,{labels:i,simulating:o,semanticZoomLevel:s})=>{i=i||[];let d,a=[],f=[],u=Object.create(null),c=Object.create(null),{sources:v,prevLabelsById:y}=r,m=-1,h=i.length;for(;++m<h;){let l;d=i[m];let{id:p}=d;p in v?(l=v[p],delete v[p],(r.simulating!==o||r.semanticZoomLevel!==s||!(0,Ml.default)(y[p],d))&&a.push(ao(Mt({},d),{simulating:o,semanticZoomLevel:s,tag:"updated"}))):(f.push(l=new Pt(1)),a.push(ao(Mt({},d),{simulating:o,semanticZoomLevel:s,tag:"added"})),l.key=p),u[p]=d,c[p]=l}for(let l in v)v[l].complete();for(m=-1,h=a.length;++m<h;)d=a[m],c[d.id].next(d);return{newSources:f,simulating:o,semanticZoomLevel:s,sources:c,prevLabelsById:u}}),{newSources:[],sources:Object.create(null),prevLabelsById:Object.create(null)}),de((({newSources:r})=>r))))}function Iy({onChange:t,onExit:n,onError:e,g:r}){return Vl(r).pipe(de((i=>i.pipe(z((o=>t&&t(o))),st(1),z((o=>n&&n(o))))))).subscribe({error:e})}function My(t){if(!(t.subscriptionAPIVersion>=1))return ar((()=>new Error("playUpdates is not available the currently embedded graphistry viz.")));let n=".labels";return new Et("Initialize playUpdates stream").pipe(z((()=>{console.debug("postMessage subscription","@client-api.playUpdate"),t.iFrame.contentWindow.postMessage({type:"graphistry-subscribe",agent:"graphistryjs",path:n},"*")})),qt((()=>{console.debug("postMessage unsubscribe","@client-api.playUpdate"),t.iFrame.contentWindow.postMessage({type:"graphistry-unsubscribe",agent:"graphistryjs",path:n},"*")})),ne((()=>Se(window,"message").pipe(K((e=>e.data)),he((e=>e&&"graphistry-sub-update"===e.type&&e.path===n)),K((e=>e.data)),function Kn(){return W((function(t,n){var e,r=!1;t.subscribe(B(n,(function(i){var o=e;e=i,r&&n.next([o,i]),r=!0})))}))}(),he((([{simulating:e},{simulating:r}])=>e&&!r)),ze({bufferSize:1,refCount:!0})))))}G.updateSetting=no,G.updateZoom=Ty;var mr=class{constructor(n,e,r,i){this.subscriptionAPIVersion=n,this._iFrame=e,this._models=r,this.result=i}clone(){return new mr(this.subscriptionAPIVersion,this.iFrame,this.models,this.result)}get iFrame(){return this._iFrame}get models(){return this._models}get workbook(){return this.models.workbook}get view(){return this.models.view}updateStateWithResult(n){let e=this.clone();return e.result=n,e}};function Tl(t,n,e=!1){return function(...r){var i,o=!1;let s=e&&r.length&&r[r.length-1]instanceof Function?r[r.length-1]:function(){};return t.pipe(n(...r)).subscribe((a=>{o=!0,i=a}),(a=>s(a)),(()=>{o&&s(null,i)}))}}function eo(t){return t.do=function(n){return eo(this.pipe(z(n)))},t.map=function(n){return eo(this.pipe(K(n)))},t.switchMap=function(n){return eo(this.pipe(ne(n)))},t}function Il(t,n){return n||(n=t),Object.keys(G).forEach((e=>{n[e]=Tl(t,G[e]),n[e+"CB"]=Tl(t,G[e],!0)})),n.labelUpdates=Vl,n.subscribeLabels=Iy,n.selectionUpdates=Nl,n.playUpdates=My,n}function Ul(t){if(!t)throw new Error("No iframe provided to Graphistry");console.debug("init graphistryJS: modified",{iFrame:t,fromEvent:Se,updateSetting:no,ajax:Ce});let e=Se(t,"load").pipe(z((i=>{console.debug("Starting iframe protocol listen flow: Load trigger")})),Xn(t),z((i=>{console.debug("Starting iframe protocol listen flow: v",i)})),he((i=>i&&i.contentWindow&&i.contentWindow.postMessage)),K((i=>i.contentWindow)),z((i=>{console.info("Graphistry API: connecting to client",i),i.postMessage({type:"ready",agent:"graphistryjs",subscriptionAPIVersion:jl},"*")})),ne((i=>Se(window,"message").pipe(z((o=>{console.debug("Starting iframe protocol listen flow: Message",o)})),he((({data:o})=>o&&"init"===o.type)),z((o=>{i.postMessage({type:"graphistry-init-ack",agent:"graphistryjs",subscriptionAPIVersion:jl},"*"),console.debug("Starting iframe protocol listen flow: Got type: init and sent graphistry-init-ack",o)})),K((({data:{cache:o,subscriptionAPIVersion:s},cache:a})=>({target:i,cache:o,cache2:a,subscriptionAPIVersion:s})))))),ne((({target:i,cache:o,cache2:s,subscriptionAPIVersion:a})=>{console.debug("Graphistry API: init filter passed 2, handling",{target:i,cache:o,cache2:s,subscriptionAPIVersion:a}),a||console.error("Viz is using a previous version of the subscription API. Downgrade for labelUpdates.");let f=new Cl.Model({cache:o||s||{},recycleJSON:!0,allowFromWhenceYouCame:!0});return console.debug("Graphistry API: model created",f),f._source=new Rl.PostMessageDataSource(window,i,f,"*"),console.debug("Graphistry API: model source created",f._source),new J((u=>{console.debug("Graphistry API: New observable",{target:i,cache:o,cache2:s});let c=f.get("workbooks.open.views.current.id").subscribe((v=>{console.debug("client new observable next",v),u.next(v)}),(v=>{u.error("iframe model initialization error",{error:v})}),(()=>{console.debug("PostMessageDataSource: teardown"),u.complete()}));return()=>{console.debug("client observable unsub"),c.unsubscribe()}})).pipe(z((u=>{console.debug("Starting iframe protocol obs tap",u)})),K((v=>{var y=v,{json:u}=y,c=Xi(y,["json"]);console.debug("got postMessage model hit",u,c);let m=f.deref(u.workbooks.open),h=f.deref(u.workbooks.open.views.current);return console.debug("PostMessageDataSource: connected to client",{workbook:m,view:h}),{workbook:m,view:h}})),z((u=>{console.debug("Starting iframe protocol obs tap2",u)})),K((({workbook:u,view:c})=>new mr(a,t,{model:f,view:c,workbook:u}))),z((u=>{console.info("Graphistry API: connected to client",u)})))})),function Yn(t){return W((function(n,e){var r,o,i=!1,s=function(){r=n.subscribe(B(e,void 0,void 0,(function(a){o||(o=new xe,X(t(o)).subscribe(B(e,(function(){return r?s():i=!0})))),o&&o.next(a)}))),i&&(r.unsubscribe(),r=null,i=!1,s())};s()}))}((i=>(console.error("Graphistry API: retrying2 get",i),i.pipe(z((o=>{console.error("Graphistry API: retrying2 get e",o)})),dr(1e3),z((o=>{console.debug("Graphistry API: retrying2 get v",o)})))))),z((i=>{console.debug("Graphistry API (pre-replay): connected to client",i)}))).pipe(ze(1),z((i=>{console.debug("Graphistry API (replay): connected to client",i)}))),r=e.pipe(K((i=>Il(e,i))));return Il(r),eo(r),r}var o2=Ul;!function(){try{window.GraphistryJS=Ul}catch(t){}}()},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[9].use[1]!./assets/index.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".graphistry-container {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  position: relative;\n  box-sizing: border-box;\n}\n.graphistry-iframe {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  overflow: hidden;\n  border: 0px solid #DDD;\n  box-sizing: border-box;\n}\n.graphistry-loading-placeholder {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n.graphistry-loading-placeholder-nav {\n  width: 100%;\n  height: 41px;\n  background-color: #ffffff;\n  border-bottom: 1px solid #cccccc;\n}\n.graphistry-loading-placeholder-content {\n  width: 100%;\n  height: calc(100% - 42px);\n  display: table;\n}\n.graphistry-loading-placeholder-message {\n  font-size: 12px;\n  font-weight: bold;\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n  box-shadow: inset -4px 3px 18px 0px rgba(0, 0, 0, 0.13);\n  background-image: repeating-linear-gradient(45deg, #f8f8f8, #f8f8f8 30px, #F6F6F6 30px, #F6F6F6 60px);\n}\n.graphistry-loading-placeholder-spinner {\n  -webkit-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  -o-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-right-color: #333;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  text-align: center;\n}\n@keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n@-webkit-keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    -webkit-transform: rotate(1turn);\n  }\n}\n","",{version:3,sources:["webpack://./assets/index.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,sBAAsB;EACtB,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,gCAAgC;AAClC;AACA;EACE,WAAW;EACX,yBAAyB;EACzB,cAAc;AAChB;AACA;EACE,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,sBAAsB;EACtB,kBAAkB;EAClB,uDAAuD;EACvD,qGAAqG;AACvG;AACA;EACE,sFAAsF;EACtF,iFAAiF;EACjF,8EAA8E;EAC9E,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;EAClB,sBAAsB;EACtB,wBAAwB;EACxB,qBAAqB;EACrB,kBAAkB;EAClB,sBAAsB;EACtB,kBAAkB;AACpB;AACA;EACE;IACE,wBAAwB;EAC1B;AACF;AACA;EACE;IACE,gCAAgC;EAClC;AACF",sourcesContent:[".graphistry-container {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  position: relative;\n  box-sizing: border-box;\n}\n.graphistry-iframe {\n  width: 100%;\n  height: 100%;\n  min-height: 20em;\n  overflow: hidden;\n  border: 0px solid #DDD;\n  box-sizing: border-box;\n}\n.graphistry-loading-placeholder {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n.graphistry-loading-placeholder-nav {\n  width: 100%;\n  height: 41px;\n  background-color: #ffffff;\n  border-bottom: 1px solid #cccccc;\n}\n.graphistry-loading-placeholder-content {\n  width: 100%;\n  height: calc(100% - 42px);\n  display: table;\n}\n.graphistry-loading-placeholder-message {\n  font-size: 12px;\n  font-weight: bold;\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n  box-shadow: inset -4px 3px 18px 0px rgba(0, 0, 0, 0.13);\n  background-image: repeating-linear-gradient(45deg, #f8f8f8, #f8f8f8 30px, #F6F6F6 30px, #F6F6F6 60px);\n}\n.graphistry-loading-placeholder-spinner {\n  -webkit-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  -o-animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  animation: graphistry-loading-placeholder-animation-spin 400ms infinite linear;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-right-color: #333;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  text-align: center;\n}\n@keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n@-webkit-keyframes graphistry-loading-placeholder-animation-spin {\n  to {\n    -webkit-transform: rotate(1turn);\n  }\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./assets/index.css":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[9].use[1]!./assets/index.css"),options={};options.styleTagTransform=_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default(),options.setAttributes=_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default(),options.insert=_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null,"head"),options.domAPI=_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default(),options.insertStyleElement=_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default();_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z,options),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z&&_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z.locals&&_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_9_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__.Z.locals}}]);